package com.hospital_os.objdb;import com.hospital_os.usecase.connection.*;import com.hospital_os.utility.*;import com.hospital_os.object.*;import java.util.*;import java.sql.*;/** *@deprecated henbe unused 05/02/07 */public class AncDB{    public ConnectionInf theConnectionInf;    public Anc dbObj;    final private String idtable = "107";    /**     * @param ConnectionInf db     * @roseuid 3F65897F0326     **@deprecated henbe unused 05/02/07     */    public AncDB(ConnectionInf db)    {        theConnectionInf=db;        dbObj = new Anc();        initConfig();    }    public boolean initConfig()    {                dbObj.table = "t_health_anc";        dbObj.pk_field = "t_health_anc_id";        dbObj.vn = "health_anc_vn";        dbObj.befor_mch_id = "t_health_pregnancy_id";        dbObj.ancno = "f_health_anc_section";        dbObj.ga = "health_anc_gravida_week";        dbObj.result = "health_anc_exam";        dbObj.high_risk = "f_health_pregnancy_birth_high_risk_id";        dbObj.note_anc = "health_anc_notice";        dbObj.active  = "health_anc_active";        dbObj.user_cancel = "health_anc_staff_cancel";        dbObj.user_modify = "health_anc_staff_modify";        dbObj.user_record = "health_anc_staff_record";        dbObj.visit_id = "t_visit_id";        dbObj.vdrl_rs = "health_anc_vdrl";        dbObj.hiv_rs = "health_anc_hiv";        dbObj.hct_rs = "health_anc_hct";        dbObj.date_hct = "health_anc_hct_date";        dbObj.patient_id = "t_patient_id";        dbObj.hn = "health_anc_hn";        dbObj.update_time = "record_date_time";        dbObj.ancres = "health_anc_ancres";       /*        dbObj.table = "anc";        dbObj.pk_field = "anc_id";        dbObj.vn = "vn";        dbObj.befor_mch_id = "befor_mch_id";        dbObj.ancno = "ancno";        dbObj.ga = "ga";        dbObj.result = "result";        dbObj.high_risk = "high_risk";        dbObj.note_anc = "note_anc";        dbObj.active  = "active";        dbObj.user_cancel = "user_cancel";        dbObj.user_modify = "user_modify";        dbObj.user_record = "user_record";        dbObj.visit_id = "visit_id";        dbObj.vdrl_rs = "vdrl_rs";        dbObj.hiv_rs = "hiv_rs";        dbObj.hct_rs = "hct_rs";        dbObj.date_hct = "date_hct";        dbObj.patient_id = "patient_id";        dbObj.hn = "hn";         dbObj.update_time = "update_time";        */        return true;    }    /**     * @param cmd     * @param o     * @return int     * @roseuid 3F6574DE0394     **@deprecated henbe unused 05/02/07     */    public int insert(Anc o) throws Exception    {        String sql="";        Anc p=o;        p.generateOID(idtable);        sql="insert into " + dbObj.table + " ("        + dbObj.pk_field        + " ,"	+ dbObj.vn        + " ,"	+ dbObj.befor_mch_id        + " ,"	+ dbObj.ancno        + " ,"	+ dbObj.ga        + " ,"	+ dbObj.result        + " ,"	+ dbObj.high_risk        + " ,"	+ dbObj.note_anc        + " ,"	+ dbObj.active        + " ,"	+ dbObj.user_cancel        + " ,"	+ dbObj.user_modify        + " ,"	+ dbObj.user_record        + " ,"	+ dbObj.visit_id        + " ,"	+ dbObj.vdrl_rs        + " ,"	+ dbObj.hiv_rs        + " ,"	+ dbObj.hct_rs        + " ,"	+ dbObj.date_hct        + " ,"	+ dbObj.patient_id        + " ,"	+ dbObj.hn        + " ,"	+ dbObj.update_time        + " ,"	+ dbObj.ancres        + " ) values ('"        + p.getObjectId()        + "','" + p.vn        + "','" + p.befor_mch_id        + "','" + p.ancno        + "','" + p.ga        + "','" + p.result        + "','" + p.high_risk        + "','" + p.note_anc        + "','" + p.active        + "','" + p.user_cancel        + "','" + p.user_modify        + "','" + p.user_record        + "','" + p.visit_id        + "','" + p.vdrl_rs        + "','" + p.hiv_rs        + "','" + p.hct_rs        + "','" + p.date_hct        + "','" + p.patient_id        + "','" + p.hn        + "','" + p.update_time        + "','" + p.ancres        + "')";        sql = Gutil.convertSQLToMySQL(sql,theConnectionInf.gettypeDatabase());        return theConnectionInf.eUpdate(sql);    }    /**     **@deprecated henbe unused 05/02/07     */    public int update(Anc o) throws Exception    {        String sql="update " + dbObj.table + " set ";        Anc p=o;        String field =""        + "', " + dbObj.vn + "='" + p.vn        + "', " + dbObj.befor_mch_id + "='" + p.befor_mch_id        + "', " + dbObj.ancno + "='" + p.ancno        + "', " + dbObj.ga + "='" + p.ga        + "', " + dbObj.result + "='" + p.result        + "', " + dbObj.high_risk + "='" + p.high_risk        + "', " + dbObj.note_anc + "='" + p.note_anc        + "', " + dbObj.active + "='" + p.active        + "', " + dbObj.user_cancel + "='" + p.user_cancel        + "', " + dbObj.user_modify + "='" + p.user_modify        + "', " + dbObj.user_record + "='" + p.user_record        + "', " + dbObj.visit_id + "='" + p.visit_id        + "', " + dbObj.vdrl_rs + "='" + p.vdrl_rs        + "', " + dbObj.hiv_rs + "='" + p.hiv_rs        + "', " + dbObj.hct_rs + "='" + p.hct_rs        + "', " + dbObj.date_hct + "='" + p.date_hct        + "', " + dbObj.patient_id  + "='" + p.patient_id        + "', " + dbObj.hn  + "='" + p.hn        + "', " + dbObj.update_time  + "='" + p.update_time        + "', " + dbObj.ancres  + "='" + p.ancres        + "' where " + dbObj.pk_field + "='" + p.getObjectId() +"'";        sql = Gutil.convertSQLToMySQL(sql+field.substring(2),theConnectionInf.gettypeDatabase());        return theConnectionInf.eUpdate(sql);    }    /**     **@deprecated henbe unused 05/02/07     */    public int delete(Anc o) throws Exception    {        String sql="delete from " + dbObj.table        + " where " + dbObj.pk_field + "='" + o.getObjectId() +"'";        return theConnectionInf.eUpdate(sql);    }        /**     **@deprecated henbe unused 05/02/07     */    public Anc selectByPK(String pk) throws Exception    {        String sql="select * from " + dbObj.table        + " where " + dbObj.pk_field        + " = '" + pk + "'";        Vector v=eQuery(sql);        if(v.size()==0)            return null;        else            return (Anc)v.get(0);    }        public Vector selectByBeforeMchID(String pk) throws Exception    {        String sql="select * from " + dbObj.table        + " where " + dbObj.befor_mch_id        + " = '" + pk + "'"        + " and " + dbObj.active + "='1'"        + " order by " + dbObj.ancno;        Vector v=eQuery(sql);        if(v.size()==0)            return null;        else            return v;    }        public Vector selectAll() throws Exception    {        String sql="select * from " + dbObj.table;        Vector v=eQuery(sql);        if(v.size()==0)            return null;        else            return v;    }    /**     **@deprecated henbe unused 05/02/07     */    public Vector eQuery(String sql) throws Exception    {        Anc p;        Vector list = new Vector();        ResultSet rs = theConnectionInf.eQuery(sql);        while(rs.next())        {            p = new Anc();            p.setObjectId(rs.getString(dbObj.pk_field));            p.vn = rs.getString(dbObj.vn);            p.befor_mch_id = rs.getString(dbObj.befor_mch_id);            p.ancno = rs.getString(dbObj.ancno);            p.ga = rs.getString(dbObj.ga);            p.result = rs.getString(dbObj.result);            p.high_risk = rs.getString(dbObj.high_risk);            p.note_anc = rs.getString(dbObj.note_anc);            p.active = rs.getString(dbObj.note_anc);            p.user_cancel = rs.getString(dbObj.user_cancel);            p.user_record = rs.getString(dbObj.user_record);            p.user_modify = rs.getString(dbObj.user_modify);            p.visit_id = rs.getString(dbObj.visit_id);            p.vdrl_rs = rs.getString(dbObj.vdrl_rs);            p.hiv_rs = rs.getString(dbObj.hiv_rs);            p.hct_rs = rs.getString(dbObj.hct_rs);            p.date_hct = rs.getString(dbObj.date_hct);            p.patient_id  = rs.getString(dbObj.patient_id);            p.hn  = rs.getString(dbObj.hn);            p.update_time  = rs.getString(dbObj.update_time);            p.ancres  = rs.getString(dbObj.ancres);            list.add(p);        }        rs.close();        return list;    }    }