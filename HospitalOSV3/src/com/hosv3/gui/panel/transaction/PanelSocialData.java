package com.hosv3.gui.panel.transaction;
import com.hosv3.gui.component.PIDPanel;
import javax.swing.*;
import java.util.*;
import com.hospital_os.object.*;
import com.hospital_os.utility.ComboboxModel;
import com.hospital_os.utility.Gutil;
import com.hospital_os.utility.TaBleModel;
import com.hosv3.object.*;
import com.hosv3.gui.dialog.*;
import com.hosv3.control.*;
import com.hosv3.control.lookup.*;
import com.hosv3.utility.*;
import com.hosv3.utility.connection.*;
import com.hosv3.usecase.transaction.*;
import com.hosv3.gui.dialog.PanelRegisterNCD;
import com.hosv3.gui.panel.detail.PanelLookup;
import com.pcu.object.Family;
/**
 * @deprecated henbe unused
 * @author henbe
 */
public class PanelSocialData extends javax.swing.JPanel
implements ManagePatientResp,ManageVisitResp,ManageLabXrayResp
{
    static final long serialVersionUID = 0;
    HosDialog theHD;
    HosControl theHC;
    HosObject theHO;
    UpdateStatus theUS;
    Patient thePatient;
    Visit theVisit;
    String date_time;
    Vector vNCD;
    NCD ncd;
    private SmartCardControl theSMCC;
    private MapCon theMC;
    /** Creates new form PanelSocialData */
    public PanelSocialData()
    {
        initComponents();
        panelAddressContact.setOtherAddressVisible(false);
       // this.jTabbedPane.setUI(new HosTabbedPaneUI());
    }

    public static void main(String[] argc)
    {
        JFrame jf = new JFrame();
        jf.getContentPane().add(new PanelSocialData());
        jf.setVisible(true);
    }

    public void setControl(HosControl hc, UpdateStatus us)
    {
        theUS = us;
        theHC = hc;
        theHO = hc.theHO;
        theMC = new MapCon(MapCon.LOOK_PERSON,theUS,hc.theConnectionInf);
        // Somprasong 140110
        theSMCC = hc.theSmartCardControl;
        panelAddressPatient.setControl(theHC,theUS);
        panelAddressContact.setControl(theHC,theUS);
        hc.theHS.thePatientSubject.attachManagePatient(this);
        hc.theHS.theVisitSubject.attachManageVisit(this);
        hc.theHS.theResultSubject.attachManageLab(this);
        hc.theHS.theResultSubject.attachManageXray(this);
        pidPanel.setAutoAlert(false);
        jButtonPrintOPDCard.setVisible(false);
        setLanguage("");
        date_time = theHC.theLookupControl.getTextCurrentDateTime();
        initComboBox();
        jTextFieldHN.setVisible(false);
        jLabelHN.setVisible(false);
        setPatient(null);

        jButtonActive.setVisible(theHO.theGActionAuthV.isReadUnDeletePatient());
        jButtonDelete.setVisible(theHO.theGActionAuthV.isReadDeletePatient());
        jButtonSearchPatient.setVisible(theHO.theGActionAuthV.isReadMenuViewSearch());
    }

    public void setDialog(HosDialog hd)
    {
        theHD = hd;
    }

    public void initComboBox()
    {
//        jComboBoxPrename.refresh();
//        jComboBoxOccup.refresh();
//        jComboBoxRelation.refresh();
        jComboBoxPrename.setControl(new PrefixLookup(theHC.theLookupControl),true);
        jComboBoxOccup.setControl(null,new OccupationLookup(theHC.theLookupControl),new Occupation2());
        jComboBoxRace.setControl(null,new NationLookup(theHC.theLookupControl),new Nation());
        jComboBoxNation.setControl(null,new NationLookup(theHC.theLookupControl),new Nation());
        jComboBoxRelation.setControl(new RelationContractLookup(theHC.theLookupControl),true);
        ComboboxModel.initComboBox(jComboBoxBlood,theHC.theLookupControl.listBlood());
        ComboboxModel.initComboBox(jComboBoxGender,theHC.theLookupControl.listGender());
        ComboboxModel.initComboBox(jComboBoxLabor,theHC.theLookupControl.listLabor());
        ComboboxModel.initComboBox(jComboBoxMarriage,theHC.theLookupControl.listMarriage());
        ComboboxModel.initComboBox(jComboBoxNation,theHC.theLookupControl.listNation());
        ComboboxModel.initComboBox(jComboBoxRace,theHC.theLookupControl.listRace());
        ComboboxModel.initComboBox(jComboBoxReligion,theHC.theLookupControl.listReligion());
        ComboboxModel.initComboBox(jComboBoxTypeArea,theHC.theLookupControl.listTypeArea());
        ComboboxModel.initComboBox(jComboBoxEducate,theHC.theLookupControl.listEducate());
        ComboboxModel.initComboBox(jComboBoxContactSex,theHC.theLookupControl.listGender());
        R53PersonForeignLookup lup = new R53PersonForeignLookup();
        ComboboxModel.initComboBox(this.jComboBoxLabor53,lup.listData("%"));
        ComboboxModel.initComboBox(jComboBoxEmployee,theHC.theLO.theEmployee);
        
    }


    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this codet. The content of this method is
     * always regenerated by the Form Editor.
     */

    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {
        java.awt.GridBagConstraints gridBagConstraints;

        buttonGroup1 = new javax.swing.ButtonGroup();
        hosTabbedPaneUI1 = new com.hosv3.gui.component.HosTabbedPaneUI();
        defaultFont1 = new com.hospital_os.gui.font.DefaultFont();
        jTabbedPane = new javax.swing.JTabbedPane();
        jPanelDetail = new javax.swing.JPanel();
        jPanelGeneral = new javax.swing.JPanel();
        jLabelNation = new javax.swing.JLabel();
        jPanel2 = new javax.swing.JPanel();
        jLabelPrename = new javax.swing.JLabel();
        jLabelFname = new javax.swing.JLabel();
        jTextFieldFname = new javax.swing.JTextField();
        jLabelLname = new javax.swing.JLabel();
        jTextFieldLname = new javax.swing.JTextField();
        jComboBoxPrename = new com.hosv3.gui.component.HosComboBox();
        jPanel3 = new javax.swing.JPanel();
        jLabelGender = new javax.swing.JLabel();
        jComboBoxGender = new javax.swing.JComboBox();
        jLabelAge = new javax.swing.JLabel();
        jLabel3 = new javax.swing.JLabel();
        jCheckBoxTrueBirthday = new javax.swing.JCheckBox();
        dateComboBoxBirthDay = new com.hospital_os.utility.DateComboBox();
        jTextFieldAge = new com.hospital_os.utility.IntegerTextField();
        jPanel4 = new javax.swing.JPanel();
        jComboBoxMarriage = new javax.swing.JComboBox();
        jLabelBlood = new javax.swing.JLabel();
        jComboBoxBlood = new javax.swing.JComboBox();
        jPanel5 = new javax.swing.JPanel();
        jComboBoxReligion = new javax.swing.JComboBox();
        jLabelEducate = new javax.swing.JLabel();
        jComboBoxEducate = new javax.swing.JComboBox();
        jPanel7 = new javax.swing.JPanel();
        jLabelFatherName = new javax.swing.JLabel();
        jTextFieldFatherFname = new javax.swing.JTextField();
        jTextFieldFatherLname = new javax.swing.JTextField();
        jLabelMotherName = new javax.swing.JLabel();
        jTextFieldMotherFname = new javax.swing.JTextField();
        jTextFieldMotherLname = new javax.swing.JTextField();
        jPanel6 = new javax.swing.JPanel();
        cidFather = new com.hosv3.gui.component.PIDPanel();
        jButtonFather = new javax.swing.JButton();
        jButtonCancelFather = new javax.swing.JButton();
        jPanel12 = new javax.swing.JPanel();
        cidMother = new com.hosv3.gui.component.PIDPanel();
        jButtonMother = new javax.swing.JButton();
        jButtonCancelMother = new javax.swing.JButton();
        jPanel13 = new javax.swing.JPanel();
        jLabelPid = new javax.swing.JLabel();
        pidPanel = new com.hosv3.gui.component.PIDPanel();
        jLabelHCIS = new javax.swing.JLabel();
        jLabelReligion = new javax.swing.JLabel();
        jLabelRace = new javax.swing.JLabel();
        jLabelOccup = new javax.swing.JLabel();
        jLabelMarriage = new javax.swing.JLabel();
        jComboBoxOccup = new com.hosv3.gui.component.HosComboBox();
        jComboBoxNation = new com.hosv3.gui.component.HosComboBox();
        jComboBoxRace = new com.hosv3.gui.component.HosComboBox();
        jPanelAddress = new javax.swing.JPanel();
        jPanel11 = new javax.swing.JPanel();
        jLabelFstatus = new javax.swing.JLabel();
        jRadioButtonTenant = new javax.swing.JRadioButton();
        jRadioButtonOwner = new javax.swing.JRadioButton();
        jCheckBoxOtherCountry = new javax.swing.JCheckBox();
        panelAddressPatient = new com.hosv3.gui.component.PanelAddress();
        jPanel14 = new javax.swing.JPanel();
        cidCouple = new com.hosv3.gui.component.PIDPanel();
        jButtonCouple = new javax.swing.JButton();
        jButtonCancelCouple = new javax.swing.JButton();
        jTextFieldCoupleFname = new javax.swing.JTextField();
        jTextFieldCoupleLname = new javax.swing.JTextField();
        jLabelCoupleName = new javax.swing.JLabel();
        jPanelContact = new javax.swing.JPanel();
        jPanel23 = new javax.swing.JPanel();
        jLabel7 = new javax.swing.JLabel();
        jLabel8 = new javax.swing.JLabel();
        jComboBoxContactSex = new javax.swing.JComboBox();
        jComboBoxRelation = new com.hosv3.gui.component.HosComboBox();
        jButton1 = new javax.swing.JButton();
        panelAddressContact = new com.hosv3.gui.component.PanelAddress();
        jLabelContact = new javax.swing.JLabel();
        jTextFieldContactFname = new javax.swing.JTextField();
        jTextFieldContactLname = new javax.swing.JTextField();
        jPanelMoreDetail = new javax.swing.JPanel();
        jPanel8 = new javax.swing.JPanel();
        jPanel18 = new javax.swing.JPanel();
        jPanel20 = new javax.swing.JPanel();
        jLabel2 = new javax.swing.JLabel();
        jLabel22 = new javax.swing.JLabel();
        jLabelDischDate = new javax.swing.JLabel();
        jLabelMoveIn = new javax.swing.JLabel();
        jLabelDischStatus = new javax.swing.JLabel();
        jLabel231 = new javax.swing.JLabel();
        jPanel16 = new javax.swing.JPanel();
        jLabel5 = new javax.swing.JLabel();
        dateComboBoxCheck = new com.hospital_os.utility.DateComboBox();
        jLabel6 = new javax.swing.JLabel();
        timeTextFieldCheck = new com.hospital_os.utility.TimeTextField();
        jLabel9 = new javax.swing.JLabel();
        jPanel21 = new javax.swing.JPanel();
        jLabelLabor = new javax.swing.JLabel();
        jComboBoxLabor = new javax.swing.JComboBox();
        jLabelTypeArea = new javax.swing.JLabel();
        jComboBoxTypeArea = new javax.swing.JComboBox();
        jLabelPType = new javax.swing.JLabel();
        jTextFieldPType = new javax.swing.JTextField();
        jLabelPrivateDoctor = new javax.swing.JLabel();
        jTextFieldPrivateDoctor = new javax.swing.JTextField();
        jPanel1 = new javax.swing.JPanel();
        jLabelHN = new javax.swing.JLabel();
        jTextFieldXN = new javax.swing.JTextField();
        jLabelXN = new javax.swing.JLabel();
        jTextFieldHN = new javax.swing.JTextField();
        jLabelLabor1 = new javax.swing.JLabel();
        jComboBoxLabor53 = new javax.swing.JComboBox();
        jPanel9 = new javax.swing.JPanel();
        jPanel10 = new javax.swing.JPanel();
        jScrollPane1 = new javax.swing.JScrollPane();
        jTable1 = new com.hosv3.gui.component.HJTableSort();
        jButtonAddVital = new javax.swing.JButton();
        jButtonDelVital = new javax.swing.JButton();
        jPanelAction = new javax.swing.JPanel();
        jButtonSave = new javax.swing.JButton();
        jButtonReset = new javax.swing.JButton();
        jButtonPrintOPDCard = new javax.swing.JButton();
        jButtonDelete = new javax.swing.JButton();
        jButtonSearchPatient = new javax.swing.JButton();
        jButtonActive = new javax.swing.JButton();
        jTextFieldHNVisit = new javax.swing.JTextField();
        jLabel4 = new javax.swing.JLabel();
        jButtonSmartcard = new javax.swing.JButton();
        jPanel15 = new javax.swing.JPanel();
        jComboBoxEmployee = new com.hosv3.gui.component.HosComboBox();
        jLabelSaveBy = new javax.swing.JLabel();

        addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                formKeyReleased(evt);
            }
        });
        setLayout(new java.awt.BorderLayout());

        jTabbedPane.setFont(defaultFont1);

        jPanelDetail.setLayout(new java.awt.GridBagLayout());

        jPanelGeneral.setLayout(new java.awt.GridBagLayout());

        jLabelNation.setFont(defaultFont1);
        jLabelNation.setText("เชื้อชาติ");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 6;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(2, 12, 0, 0);
        jPanelGeneral.add(jLabelNation, gridBagConstraints);

        jPanel2.setLayout(new java.awt.GridBagLayout());

        jLabelPrename.setFont(defaultFont1);
        jLabelPrename.setText("คำนำหน้า");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        jPanel2.add(jLabelPrename, gridBagConstraints);

        jLabelFname.setFont(defaultFont1);
        jLabelFname.setText("ชื่อ");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(0, 5, 0, 0);
        jPanel2.add(jLabelFname, gridBagConstraints);

        jTextFieldFname.setFont(defaultFont1);
        jTextFieldFname.setMinimumSize(new java.awt.Dimension(30, 21));
        jTextFieldFname.setPreferredSize(new java.awt.Dimension(30, 21));
        jTextFieldFname.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextFieldFnameActionPerformed(evt);
            }
        });
        jTextFieldFname.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                jTextFieldFnameKeyReleased(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(5, 5, 0, 0);
        jPanel2.add(jTextFieldFname, gridBagConstraints);

        jLabelLname.setFont(defaultFont1);
        jLabelLname.setText("นามสกุล");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 2;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(0, 5, 0, 0);
        jPanel2.add(jLabelLname, gridBagConstraints);

        jTextFieldLname.setFont(defaultFont1);
        jTextFieldLname.setMinimumSize(new java.awt.Dimension(30, 21));
        jTextFieldLname.setPreferredSize(new java.awt.Dimension(30, 21));
        jTextFieldLname.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextFieldLnameActionPerformed(evt);
            }
        });
        jTextFieldLname.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                jTextFieldLnameKeyReleased(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 2;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(5, 5, 0, 0);
        jPanel2.add(jTextFieldLname, gridBagConstraints);

        jComboBoxPrename.setFont(defaultFont1);
        jComboBoxPrename.setMinimumSize(new java.awt.Dimension(100, 21));
        jComboBoxPrename.setPreferredSize(new java.awt.Dimension(100, 21));
        jComboBoxPrename.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jComboBoxPrenameActionPerformed(evt);
            }
        });
        jComboBoxPrename.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                jComboBoxPrenameFocusLost(evt);
            }
        });
        jComboBoxPrename.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                jComboBoxPrenameKeyReleased(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.insets = new java.awt.Insets(5, 0, 0, 0);
        jPanel2.add(jComboBoxPrename, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.gridwidth = 2;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(5, 12, 0, 11);
        jPanelGeneral.add(jPanel2, gridBagConstraints);

        jPanel3.setLayout(new java.awt.GridBagLayout());

        jLabelGender.setFont(defaultFont1);
        jLabelGender.setText("เพศ");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        jPanel3.add(jLabelGender, gridBagConstraints);

        jComboBoxGender.setFont(defaultFont1);
        jComboBoxGender.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jComboBoxGenderActionPerformed(evt);
            }
        });
        jComboBoxGender.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                jComboBoxGenderFocusGained(evt);
            }
            public void focusLost(java.awt.event.FocusEvent evt) {
                jComboBoxGenderFocusLost(evt);
            }
        });
        jComboBoxGender.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                jComboBoxGenderKeyReleased(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(0, 5, 0, 0);
        jPanel3.add(jComboBoxGender, gridBagConstraints);

        jLabelAge.setFont(defaultFont1);
        jLabelAge.setText("อายุ");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 4;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(0, 5, 0, 0);
        jPanel3.add(jLabelAge, gridBagConstraints);

        jLabel3.setFont(defaultFont1);
        jLabel3.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel3.setText("ปี");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 6;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(0, 5, 0, 0);
        jPanel3.add(jLabel3, gridBagConstraints);

        jCheckBoxTrueBirthday.setFont(defaultFont1);
        jCheckBoxTrueBirthday.setText("วันเกิดจริง");
        jCheckBoxTrueBirthday.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jCheckBoxTrueBirthdayActionPerformed(evt);
            }
        });
        jCheckBoxTrueBirthday.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                jCheckBoxTrueBirthdayKeyReleased(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 2;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(0, 5, 0, 0);
        jPanel3.add(jCheckBoxTrueBirthday, gridBagConstraints);

        dateComboBoxBirthDay.setEnabled(false);
        dateComboBoxBirthDay.setFont(defaultFont1);
        dateComboBoxBirthDay.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                dateComboBoxBirthDayActionPerformed(evt);
            }
        });
        dateComboBoxBirthDay.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                dateComboBoxBirthDayFocusLost(evt);
            }
        });
        dateComboBoxBirthDay.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                dateComboBoxBirthDayKeyReleased(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 3;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(0, 5, 0, 0);
        jPanel3.add(dateComboBoxBirthDay, gridBagConstraints);

        jTextFieldAge.setColumns(3);
        jTextFieldAge.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        jTextFieldAge.setFont(defaultFont1);
        jTextFieldAge.setMinimumSize(new java.awt.Dimension(30, 21));
        jTextFieldAge.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextFieldAgeActionPerformed(evt);
            }
        });
        jTextFieldAge.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                jTextFieldAgeFocusLost(evt);
            }
        });
        jTextFieldAge.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                jTextFieldAgeKeyReleased(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 5;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(0, 5, 0, 0);
        jPanel3.add(jTextFieldAge, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.gridwidth = 2;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(5, 12, 0, 11);
        jPanelGeneral.add(jPanel3, gridBagConstraints);

        jPanel4.setLayout(new java.awt.GridBagLayout());

        jComboBoxMarriage.setFont(defaultFont1);
        jComboBoxMarriage.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jComboBoxMarriageActionPerformed(evt);
            }
        });
        jComboBoxMarriage.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                jComboBoxMarriageKeyReleased(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        jPanel4.add(jComboBoxMarriage, gridBagConstraints);

        jLabelBlood.setFont(defaultFont1);
        jLabelBlood.setText("หมู่เลือด");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 2;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(0, 3, 0, 0);
        jPanel4.add(jLabelBlood, gridBagConstraints);

        jComboBoxBlood.setFont(defaultFont1);
        jComboBoxBlood.addPropertyChangeListener(new java.beans.PropertyChangeListener() {
            public void propertyChange(java.beans.PropertyChangeEvent evt) {
                jComboBoxBloodPropertyChange(evt);
            }
        });
        jComboBoxBlood.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                jComboBoxBloodKeyReleased(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 3;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(0, 3, 0, 0);
        jPanel4.add(jComboBoxBlood, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 3;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.SOUTHWEST;
        gridBagConstraints.insets = new java.awt.Insets(2, 8, 0, 11);
        jPanelGeneral.add(jPanel4, gridBagConstraints);

        jPanel5.setLayout(new java.awt.GridBagLayout());

        jComboBoxReligion.setFont(defaultFont1);
        jComboBoxReligion.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                jComboBoxReligionKeyReleased(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        jPanel5.add(jComboBoxReligion, gridBagConstraints);

        jLabelEducate.setFont(defaultFont1);
        jLabelEducate.setText("การศึกษา");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 2;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(0, 3, 0, 0);
        jPanel5.add(jLabelEducate, gridBagConstraints);

        jComboBoxEducate.setFont(defaultFont1);
        jComboBoxEducate.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                jComboBoxEducateKeyReleased(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 3;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(0, 3, 0, 0);
        jPanel5.add(jComboBoxEducate, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 7;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.insets = new java.awt.Insets(2, 8, 0, 11);
        jPanelGeneral.add(jPanel5, gridBagConstraints);

        jPanel7.setLayout(new java.awt.GridBagLayout());

        jLabelFatherName.setFont(defaultFont1);
        jLabelFatherName.setText("บิดา");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(0, 0, 0, 5);
        jPanel7.add(jLabelFatherName, gridBagConstraints);

        jTextFieldFatherFname.setFont(defaultFont1);
        jTextFieldFatherFname.setMinimumSize(new java.awt.Dimension(88, 21));
        jTextFieldFatherFname.setPreferredSize(new java.awt.Dimension(88, 21));
        jTextFieldFatherFname.addCaretListener(new javax.swing.event.CaretListener() {
            public void caretUpdate(javax.swing.event.CaretEvent evt) {
                jTextFieldFatherFnameCaretUpdate(evt);
            }
        });
        jTextFieldFatherFname.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                jTextFieldFatherFnameFocusLost(evt);
            }
        });
        jTextFieldFatherFname.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                jTextFieldFatherFnameKeyReleased(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.weightx = 1.0;
        jPanel7.add(jTextFieldFatherFname, gridBagConstraints);

        jTextFieldFatherLname.setFont(defaultFont1);
        jTextFieldFatherLname.setMinimumSize(new java.awt.Dimension(88, 21));
        jTextFieldFatherLname.setPreferredSize(new java.awt.Dimension(88, 21));
        jTextFieldFatherLname.addCaretListener(new javax.swing.event.CaretListener() {
            public void caretUpdate(javax.swing.event.CaretEvent evt) {
                jTextFieldFatherLnameCaretUpdate(evt);
            }
        });
        jTextFieldFatherLname.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                jTextFieldFatherLnameFocusGained(evt);
            }
        });
        jTextFieldFatherLname.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                jTextFieldFatherLnameKeyReleased(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 2;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(0, 5, 0, 0);
        jPanel7.add(jTextFieldFatherLname, gridBagConstraints);

        jLabelMotherName.setFont(defaultFont1);
        jLabelMotherName.setText("มารดา");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(2, 0, 0, 5);
        jPanel7.add(jLabelMotherName, gridBagConstraints);

        jTextFieldMotherFname.setFont(defaultFont1);
        jTextFieldMotherFname.setMinimumSize(new java.awt.Dimension(88, 21));
        jTextFieldMotherFname.setPreferredSize(new java.awt.Dimension(88, 21));
        jTextFieldMotherFname.addCaretListener(new javax.swing.event.CaretListener() {
            public void caretUpdate(javax.swing.event.CaretEvent evt) {
                jTextFieldMotherFnameCaretUpdate(evt);
            }
        });
        jTextFieldMotherFname.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                jTextFieldMotherFnameFocusLost(evt);
            }
        });
        jTextFieldMotherFname.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                jTextFieldMotherFnameKeyReleased(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 3;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(2, 0, 0, 0);
        jPanel7.add(jTextFieldMotherFname, gridBagConstraints);

        jTextFieldMotherLname.setFont(defaultFont1);
        jTextFieldMotherLname.setMinimumSize(new java.awt.Dimension(88, 21));
        jTextFieldMotherLname.setPreferredSize(new java.awt.Dimension(88, 21));
        jTextFieldMotherLname.addCaretListener(new javax.swing.event.CaretListener() {
            public void caretUpdate(javax.swing.event.CaretEvent evt) {
                jTextFieldMotherLnameCaretUpdate(evt);
            }
        });
        jTextFieldMotherLname.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                jTextFieldMotherLnameFocusGained(evt);
            }
        });
        jTextFieldMotherLname.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                jTextFieldMotherLnameKeyReleased(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 2;
        gridBagConstraints.gridy = 3;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(2, 5, 0, 0);
        jPanel7.add(jTextFieldMotherLname, gridBagConstraints);

        jPanel6.setLayout(new java.awt.GridBagLayout());

        cidFather.setFont(defaultFont1);
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(1, 0, 1, 0);
        jPanel6.add(cidFather, gridBagConstraints);

        jButtonFather.setFont(new java.awt.Font("Tahoma", 0, 12));
        jButtonFather.setText("...");
        jButtonFather.setMaximumSize(new java.awt.Dimension(22, 22));
        jButtonFather.setMinimumSize(new java.awt.Dimension(22, 22));
        jButtonFather.setPreferredSize(new java.awt.Dimension(22, 22));
        jButtonFather.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonFatherActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 3;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.SOUTHWEST;
        gridBagConstraints.insets = new java.awt.Insets(0, 10, 0, 0);
        jPanel6.add(jButtonFather, gridBagConstraints);

        jButtonCancelFather.setText("x");
        jButtonCancelFather.setMargin(new java.awt.Insets(1, 1, 1, 1));
        jButtonCancelFather.setMaximumSize(new java.awt.Dimension(22, 22));
        jButtonCancelFather.setMinimumSize(new java.awt.Dimension(22, 22));
        jButtonCancelFather.setPreferredSize(new java.awt.Dimension(22, 22));
        jButtonCancelFather.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonCancelFatherActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 4;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.SOUTHWEST;
        jPanel6.add(jButtonCancelFather, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.gridwidth = 2;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        jPanel7.add(jPanel6, gridBagConstraints);

        jPanel12.setLayout(new java.awt.GridBagLayout());

        cidMother.setFont(defaultFont1);
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.gridwidth = 2;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(1, 0, 1, 0);
        jPanel12.add(cidMother, gridBagConstraints);

        jButtonMother.setFont(new java.awt.Font("Tahoma", 0, 12));
        jButtonMother.setText("...");
        jButtonMother.setMaximumSize(new java.awt.Dimension(22, 22));
        jButtonMother.setMinimumSize(new java.awt.Dimension(22, 22));
        jButtonMother.setPreferredSize(new java.awt.Dimension(22, 22));
        jButtonMother.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonMotherActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 3;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.SOUTHWEST;
        gridBagConstraints.insets = new java.awt.Insets(0, 10, 0, 0);
        jPanel12.add(jButtonMother, gridBagConstraints);

        jButtonCancelMother.setText("x");
        jButtonCancelMother.setMargin(new java.awt.Insets(1, 1, 1, 1));
        jButtonCancelMother.setMaximumSize(new java.awt.Dimension(22, 22));
        jButtonCancelMother.setMinimumSize(new java.awt.Dimension(22, 22));
        jButtonCancelMother.setPreferredSize(new java.awt.Dimension(22, 22));
        jButtonCancelMother.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonCancelMotherActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 4;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.SOUTHWEST;
        jPanel12.add(jButtonCancelMother, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.gridwidth = 2;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(2, 0, 0, 0);
        jPanel7.add(jPanel12, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 8;
        gridBagConstraints.gridwidth = 2;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTH;
        gridBagConstraints.weighty = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(5, 12, 5, 11);
        jPanelGeneral.add(jPanel7, gridBagConstraints);

        jPanel13.setLayout(new java.awt.GridBagLayout());

        jLabelPid.setFont(defaultFont1);
        jLabelPid.setText("เลขบัตรประชาชน");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        jPanel13.add(jLabelPid, gridBagConstraints);

        pidPanel.setFont(defaultFont1);
        pidPanel.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                pidPanelFocusLost(evt);
            }
        });
        pidPanel.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                pidPanelKeyReleased(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(0, 5, 0, 0);
        jPanel13.add(pidPanel, gridBagConstraints);

        jLabelHCIS.setFont(defaultFont1);
        jLabelHCIS.setText("HCIS");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 4;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(0, 5, 0, 0);
        jPanel13.add(jLabelHCIS, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.gridwidth = 2;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(5, 12, 0, 11);
        jPanelGeneral.add(jPanel13, gridBagConstraints);

        jLabelReligion.setFont(defaultFont1);
        jLabelReligion.setText("ศาสนา");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 7;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(2, 12, 0, 0);
        jPanelGeneral.add(jLabelReligion, gridBagConstraints);

        jLabelRace.setFont(defaultFont1);
        jLabelRace.setText("สัญชาติ");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 5;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(2, 12, 0, 0);
        jPanelGeneral.add(jLabelRace, gridBagConstraints);

        jLabelOccup.setFont(defaultFont1);
        jLabelOccup.setText("อาชีพ");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 4;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(2, 12, 0, 0);
        jPanelGeneral.add(jLabelOccup, gridBagConstraints);

        jLabelMarriage.setFont(defaultFont1);
        jLabelMarriage.setText("สถานภาพ");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 3;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.SOUTHWEST;
        gridBagConstraints.insets = new java.awt.Insets(2, 12, 0, 0);
        jPanelGeneral.add(jLabelMarriage, gridBagConstraints);

        jComboBoxOccup.setDoubleBuffered(true);
        jComboBoxOccup.setFont(defaultFont1);
        jComboBoxOccup.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                jComboBoxOccupKeyReleased(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 4;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(2, 8, 0, 11);
        jPanelGeneral.add(jComboBoxOccup, gridBagConstraints);

        jComboBoxNation.setDoubleBuffered(true);
        jComboBoxNation.setFont(defaultFont1);
        jComboBoxNation.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                jComboBoxNationKeyReleased(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 6;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(2, 8, 0, 11);
        jPanelGeneral.add(jComboBoxNation, gridBagConstraints);

        jComboBoxRace.setDoubleBuffered(true);
        jComboBoxRace.setFont(defaultFont1);
        jComboBoxRace.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                jComboBoxRaceKeyReleased(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 5;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(2, 8, 0, 11);
        jPanelGeneral.add(jComboBoxRace, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.gridheight = 2;
        gridBagConstraints.fill = java.awt.GridBagConstraints.VERTICAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTH;
        gridBagConstraints.insets = new java.awt.Insets(2, 2, 0, 0);
        jPanelDetail.add(jPanelGeneral, gridBagConstraints);

        jPanelAddress.setLayout(new java.awt.GridBagLayout());

        jPanel11.setLayout(new java.awt.GridBagLayout());

        jLabelFstatus.setFont(defaultFont1);
        jLabelFstatus.setText("สถานะ");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        jPanel11.add(jLabelFstatus, gridBagConstraints);

        buttonGroup1.add(jRadioButtonTenant);
        jRadioButtonTenant.setFont(defaultFont1);
        jRadioButtonTenant.setSelected(true);
        jRadioButtonTenant.setText("ผู้อาศัย");
        jRadioButtonTenant.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                jRadioButtonTenantKeyReleased(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 3;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(0, 5, 0, 0);
        jPanel11.add(jRadioButtonTenant, gridBagConstraints);

        buttonGroup1.add(jRadioButtonOwner);
        jRadioButtonOwner.setFont(defaultFont1);
        jRadioButtonOwner.setText("เจ้าบ้าน");
        jRadioButtonOwner.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                jRadioButtonOwnerKeyReleased(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 2;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(0, 5, 0, 0);
        jPanel11.add(jRadioButtonOwner, gridBagConstraints);

        jCheckBoxOtherCountry.setFont(defaultFont1);
        jCheckBoxOtherCountry.setText("ที่อยู่ต่างประเทศ");
        jCheckBoxOtherCountry.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jCheckBoxOtherCountryActionPerformed(evt);
            }
        });
        jCheckBoxOtherCountry.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                jCheckBoxOtherCountryKeyReleased(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 4;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.insets = new java.awt.Insets(0, 12, 0, 0);
        jPanel11.add(jCheckBoxOtherCountry, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.gridwidth = java.awt.GridBagConstraints.REMAINDER;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.insets = new java.awt.Insets(3, 12, 0, 11);
        jPanelAddress.add(jPanel11, gridBagConstraints);

        panelAddressPatient.setFont(defaultFont1);
        panelAddressPatient.setMinimumSize(new java.awt.Dimension(250, 95));
        panelAddressPatient.setOtherAddressVisible(false);
        panelAddressPatient.setPreferredSize(new java.awt.Dimension(250, 95));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 3;
        gridBagConstraints.gridwidth = java.awt.GridBagConstraints.REMAINDER;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(2, 12, 0, 11);
        jPanelAddress.add(panelAddressPatient, gridBagConstraints);

        jPanel14.setLayout(new java.awt.GridBagLayout());

        cidCouple.setFont(defaultFont1);
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(0, 0, 1, 0);
        jPanel14.add(cidCouple, gridBagConstraints);

        jButtonCouple.setFont(new java.awt.Font("Tahoma", 0, 12));
        jButtonCouple.setText("...");
        jButtonCouple.setMaximumSize(new java.awt.Dimension(22, 22));
        jButtonCouple.setMinimumSize(new java.awt.Dimension(22, 22));
        jButtonCouple.setPreferredSize(new java.awt.Dimension(22, 22));
        jButtonCouple.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonCoupleActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.SOUTHWEST;
        gridBagConstraints.insets = new java.awt.Insets(0, 10, 0, 0);
        jPanel14.add(jButtonCouple, gridBagConstraints);

        jButtonCancelCouple.setText("x");
        jButtonCancelCouple.setMargin(new java.awt.Insets(1, 1, 1, 1));
        jButtonCancelCouple.setMaximumSize(new java.awt.Dimension(22, 22));
        jButtonCancelCouple.setMinimumSize(new java.awt.Dimension(22, 22));
        jButtonCancelCouple.setPreferredSize(new java.awt.Dimension(22, 22));
        jButtonCancelCouple.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonCancelCoupleActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 2;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.SOUTHWEST;
        jPanel14.add(jButtonCancelCouple, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.gridwidth = 2;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(2, 0, 0, 12);
        jPanelAddress.add(jPanel14, gridBagConstraints);

        jTextFieldCoupleFname.setFont(defaultFont1);
        jTextFieldCoupleFname.setMinimumSize(new java.awt.Dimension(88, 21));
        jTextFieldCoupleFname.setPreferredSize(new java.awt.Dimension(88, 21));
        jTextFieldCoupleFname.addCaretListener(new javax.swing.event.CaretListener() {
            public void caretUpdate(javax.swing.event.CaretEvent evt) {
                jTextFieldCoupleFnameCaretUpdate(evt);
            }
        });
        jTextFieldCoupleFname.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                jTextFieldCoupleFnameFocusLost(evt);
            }
        });
        jTextFieldCoupleFname.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                jTextFieldCoupleFnameKeyReleased(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(2, 0, 0, 0);
        jPanelAddress.add(jTextFieldCoupleFname, gridBagConstraints);

        jTextFieldCoupleLname.setFont(defaultFont1);
        jTextFieldCoupleLname.setMinimumSize(new java.awt.Dimension(88, 21));
        jTextFieldCoupleLname.setPreferredSize(new java.awt.Dimension(88, 21));
        jTextFieldCoupleLname.addCaretListener(new javax.swing.event.CaretListener() {
            public void caretUpdate(javax.swing.event.CaretEvent evt) {
                jTextFieldCoupleLnameCaretUpdate(evt);
            }
        });
        jTextFieldCoupleLname.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                jTextFieldCoupleLnameFocusGained(evt);
            }
        });
        jTextFieldCoupleLname.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                jTextFieldCoupleLnameKeyReleased(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 2;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(2, 5, 0, 12);
        jPanelAddress.add(jTextFieldCoupleLname, gridBagConstraints);

        jLabelCoupleName.setFont(defaultFont1);
        jLabelCoupleName.setText("คู่สมรส");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(2, 12, 0, 5);
        jPanelAddress.add(jLabelCoupleName, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(2, 2, 0, 1);
        jPanelDetail.add(jPanelAddress, gridBagConstraints);

        jPanelContact.setBorder(javax.swing.BorderFactory.createTitledBorder("ที่อยู่ผู้ติดต่อ"));
        jPanelContact.setLayout(new java.awt.GridBagLayout());

        jPanel23.setLayout(new java.awt.GridBagLayout());

        jLabel7.setFont(defaultFont1);
        jLabel7.setText("เกี่ยวข้องเป็น");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        jPanel23.add(jLabel7, gridBagConstraints);

        jLabel8.setFont(defaultFont1);
        jLabel8.setText("เพศ");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 2;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
        gridBagConstraints.insets = new java.awt.Insets(0, 5, 0, 0);
        jPanel23.add(jLabel8, gridBagConstraints);

        jComboBoxContactSex.setFont(defaultFont1);
        jComboBoxContactSex.setMinimumSize(new java.awt.Dimension(70, 21));
        jComboBoxContactSex.setPreferredSize(new java.awt.Dimension(70, 21));
        jComboBoxContactSex.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                jComboBoxContactSexKeyReleased(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 3;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(0, 5, 0, 0);
        jPanel23.add(jComboBoxContactSex, gridBagConstraints);

        jComboBoxRelation.setFont(defaultFont1);
        jComboBoxRelation.setMinimumSize(new java.awt.Dimension(100, 21));
        jComboBoxRelation.setPreferredSize(new java.awt.Dimension(100, 21));
        jComboBoxRelation.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jComboBoxRelationActionPerformed(evt);
            }
        });
        jComboBoxRelation.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                jComboBoxRelationKeyReleased(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(0, 5, 0, 0);
        jPanel23.add(jComboBoxRelation, gridBagConstraints);

        jButton1.setIcon(new javax.swing.ImageIcon(getClass().getResource("/com/hospital_os/images/down.gif"))); // NOI18N
        jButton1.setToolTipText("เหมือนที่อยู่ผู้ป่วย");
        jButton1.setMinimumSize(new java.awt.Dimension(25, 25));
        jButton1.setPreferredSize(new java.awt.Dimension(25, 25));
        jButton1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton1ActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 4;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(0, 3, 0, 0);
        jPanel23.add(jButton1, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.gridwidth = java.awt.GridBagConstraints.REMAINDER;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.insets = new java.awt.Insets(3, 5, 0, 5);
        jPanelContact.add(jPanel23, gridBagConstraints);

        panelAddressContact.setFont(defaultFont1);
        panelAddressContact.setMinimumSize(new java.awt.Dimension(250, 95));
        panelAddressContact.setOtherAddressVisible(false);
        panelAddressContact.setPreferredSize(new java.awt.Dimension(250, 95));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.gridwidth = java.awt.GridBagConstraints.REMAINDER;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(2, 5, 5, 5);
        jPanelContact.add(panelAddressContact, gridBagConstraints);

        jLabelContact.setFont(defaultFont1);
        jLabelContact.setText("ชื่อผู้ติดต่อ");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(2, 5, 0, 0);
        jPanelContact.add(jLabelContact, gridBagConstraints);

        jTextFieldContactFname.setFont(defaultFont1);
        jTextFieldContactFname.setMaximumSize(new java.awt.Dimension(88, 21));
        jTextFieldContactFname.setMinimumSize(new java.awt.Dimension(88, 21));
        jTextFieldContactFname.setPreferredSize(new java.awt.Dimension(88, 21));
        jTextFieldContactFname.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                jTextFieldContactFnameFocusLost(evt);
            }
        });
        jTextFieldContactFname.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                jTextFieldContactFnameKeyReleased(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(2, 5, 0, 0);
        jPanelContact.add(jTextFieldContactFname, gridBagConstraints);

        jTextFieldContactLname.setFont(defaultFont1);
        jTextFieldContactLname.setMaximumSize(new java.awt.Dimension(88, 21));
        jTextFieldContactLname.setMinimumSize(new java.awt.Dimension(88, 21));
        jTextFieldContactLname.setPreferredSize(new java.awt.Dimension(88, 21));
        jTextFieldContactLname.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                jTextFieldContactLnameFocusGained(evt);
            }
        });
        jTextFieldContactLname.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                jTextFieldContactLnameKeyReleased(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 2;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(2, 5, 0, 5);
        jPanelContact.add(jTextFieldContactLname, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(2, 2, 0, 1);
        jPanelDetail.add(jPanelContact, gridBagConstraints);

        jTabbedPane.addTab("ข้อมูลทั่วไป", jPanelDetail);

        jPanelMoreDetail.setLayout(new java.awt.GridBagLayout());

        jPanel8.setMinimumSize(new java.awt.Dimension(405, 361));
        jPanel8.setPreferredSize(new java.awt.Dimension(405, 361));
        jPanel8.setRequestFocusEnabled(false);
        jPanel8.setLayout(new java.awt.GridBagLayout());

        jPanel18.setLayout(new java.awt.GridBagLayout());
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(0, 5, 5, 5);
        jPanel8.add(jPanel18, gridBagConstraints);

        jPanel20.setLayout(new java.awt.GridBagLayout());

        jLabel2.setFont(defaultFont1);
        jLabel2.setText("วันที่ย้ายเข้า");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 8;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(3, 0, 2, 3);
        jPanel20.add(jLabel2, gridBagConstraints);

        jLabel22.setFont(defaultFont1);
        jLabel22.setText("สถานะการจำหน่าย");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 9;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(3, 0, 2, 3);
        jPanel20.add(jLabel22, gridBagConstraints);

        jLabelDischDate.setFont(defaultFont1);
        jLabelDischDate.setText("jLabel2");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 3;
        gridBagConstraints.gridy = 9;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(3, 0, 2, 3);
        jPanel20.add(jLabelDischDate, gridBagConstraints);

        jLabelMoveIn.setFont(defaultFont1);
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 8;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(3, 0, 2, 3);
        jPanel20.add(jLabelMoveIn, gridBagConstraints);

        jLabelDischStatus.setFont(defaultFont1);
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 9;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(3, 0, 2, 3);
        jPanel20.add(jLabelDischStatus, gridBagConstraints);

        jLabel231.setFont(defaultFont1);
        jLabel231.setText("วันที่จำหน่าย");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 2;
        gridBagConstraints.gridy = 9;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(3, 0, 2, 3);
        jPanel20.add(jLabel231, gridBagConstraints);

        jPanel16.setLayout(new java.awt.GridBagLayout());

        jLabel5.setFont(defaultFont1);
        jLabel5.setText("วันที่ย้ายเข้า");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(0, 1, 0, 3);
        jPanel16.add(jLabel5, gridBagConstraints);

        dateComboBoxCheck.setFont(defaultFont1);
        dateComboBoxCheck.setMinimumSize(new java.awt.Dimension(100, 23));
        dateComboBoxCheck.setPreferredSize(new java.awt.Dimension(100, 23));
        dateComboBoxCheck.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                dateComboBoxCheckKeyReleased(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(0, 1, 0, 3);
        jPanel16.add(dateComboBoxCheck, gridBagConstraints);

        jLabel6.setFont(defaultFont1);
        jLabel6.setText("น.");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 4;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(0, 1, 0, 1);
        jPanel16.add(jLabel6, gridBagConstraints);

        timeTextFieldCheck.setFont(defaultFont1);
        timeTextFieldCheck.setMinimumSize(new java.awt.Dimension(45, 23));
        timeTextFieldCheck.setPreferredSize(new java.awt.Dimension(45, 23));
        timeTextFieldCheck.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                timeTextFieldCheckMouseClicked(evt);
            }
        });
        timeTextFieldCheck.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                timeTextFieldCheckKeyReleased(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 3;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(0, 1, 0, 3);
        jPanel16.add(timeTextFieldCheck, gridBagConstraints);

        jLabel9.setIcon(new javax.swing.ImageIcon(getClass().getResource("/com/hospital_os/images/clock.gif"))); // NOI18N
        jLabel9.setToolTipText("เวลาที่ตรวจ");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 2;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(0, 1, 0, 3);
        jPanel16.add(jLabel9, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 7;
        gridBagConstraints.gridwidth = java.awt.GridBagConstraints.REMAINDER;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(3, 0, 0, 0);
        jPanel20.add(jPanel16, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(0, 5, 5, 5);
        jPanel8.add(jPanel20, gridBagConstraints);

        jPanel21.setLayout(new java.awt.GridBagLayout());

        jLabelLabor.setFont(defaultFont1);
        jLabelLabor.setText("ประเภทคนต่างด้าวเดิม");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(6, 1, 1, 5);
        jPanel21.add(jLabelLabor, gridBagConstraints);

        jComboBoxLabor.setFont(defaultFont1);
        jComboBoxLabor.setMinimumSize(new java.awt.Dimension(100, 21));
        jComboBoxLabor.setPreferredSize(new java.awt.Dimension(100, 21));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(6, 1, 1, 1);
        jPanel21.add(jComboBoxLabor, gridBagConstraints);

        jLabelTypeArea.setFont(defaultFont1);
        jLabelTypeArea.setText("สถานะบุคคล");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 3;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(4, 1, 1, 5);
        jPanel21.add(jLabelTypeArea, gridBagConstraints);

        jComboBoxTypeArea.setFont(defaultFont1);
        jComboBoxTypeArea.setMaximumSize(new java.awt.Dimension(100, 21));
        jComboBoxTypeArea.setMinimumSize(new java.awt.Dimension(100, 21));
        jComboBoxTypeArea.setPreferredSize(new java.awt.Dimension(100, 21));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 3;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(4, 1, 1, 1);
        jPanel21.add(jComboBoxTypeArea, gridBagConstraints);

        jLabelPType.setFont(defaultFont1);
        jLabelPType.setText("ตำแหน่งในชุมชน");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 4;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(4, 1, 1, 5);
        jPanel21.add(jLabelPType, gridBagConstraints);

        jTextFieldPType.setFont(defaultFont1);
        jTextFieldPType.setMaximumSize(new java.awt.Dimension(100, 21));
        jTextFieldPType.setMinimumSize(new java.awt.Dimension(100, 21));
        jTextFieldPType.setPreferredSize(new java.awt.Dimension(100, 21));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 4;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(4, 1, 1, 1);
        jPanel21.add(jTextFieldPType, gridBagConstraints);

        jLabelPrivateDoctor.setFont(defaultFont1);
        jLabelPrivateDoctor.setText("แพทย์ประจำตัว");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 5;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(4, 1, 1, 5);
        jPanel21.add(jLabelPrivateDoctor, gridBagConstraints);

        jTextFieldPrivateDoctor.setFont(defaultFont1);
        jTextFieldPrivateDoctor.setMaximumSize(new java.awt.Dimension(100, 21));
        jTextFieldPrivateDoctor.setMinimumSize(new java.awt.Dimension(100, 21));
        jTextFieldPrivateDoctor.setPreferredSize(new java.awt.Dimension(100, 21));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 5;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(4, 1, 1, 1);
        jPanel21.add(jTextFieldPrivateDoctor, gridBagConstraints);

        jPanel1.setLayout(new java.awt.GridBagLayout());

        jLabelHN.setFont(defaultFont1);
        jLabelHN.setText("HN");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(1, 1, 1, 5);
        jPanel1.add(jLabelHN, gridBagConstraints);

        jTextFieldXN.setFont(defaultFont1);
        jTextFieldXN.setHorizontalAlignment(javax.swing.JTextField.TRAILING);
        jTextFieldXN.setMinimumSize(new java.awt.Dimension(100, 21));
        jTextFieldXN.setPreferredSize(new java.awt.Dimension(100, 21));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 3;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(1, 1, 1, 1);
        jPanel1.add(jTextFieldXN, gridBagConstraints);

        jLabelXN.setFont(defaultFont1);
        jLabelXN.setText("XN");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 2;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(1, 0, 1, 5);
        jPanel1.add(jLabelXN, gridBagConstraints);

        jTextFieldHN.setFont(defaultFont1);
        jTextFieldHN.setHorizontalAlignment(javax.swing.JTextField.TRAILING);
        jTextFieldHN.setMinimumSize(new java.awt.Dimension(100, 21));
        jTextFieldHN.setPreferredSize(new java.awt.Dimension(100, 21));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(1, 1, 1, 6);
        jPanel1.add(jTextFieldHN, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridwidth = 2;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        jPanel21.add(jPanel1, gridBagConstraints);

        jLabelLabor1.setFont(defaultFont1);
        jLabelLabor1.setText("ประเภทคนต่างด้าว");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(6, 1, 1, 5);
        jPanel21.add(jLabelLabor1, gridBagConstraints);

        jComboBoxLabor53.setFont(defaultFont1);
        jComboBoxLabor53.setMinimumSize(new java.awt.Dimension(100, 21));
        jComboBoxLabor53.setPreferredSize(new java.awt.Dimension(100, 21));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(6, 1, 1, 1);
        jPanel21.add(jComboBoxLabor53, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(5, 5, 5, 5);
        jPanel8.add(jPanel21, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(1, 1, 1, 1);
        jPanelMoreDetail.add(jPanel8, gridBagConstraints);

        jPanel9.setMinimumSize(new java.awt.Dimension(400, 370));
        jPanel9.setPreferredSize(new java.awt.Dimension(400, 370));
        jPanel9.setLayout(new java.awt.GridBagLayout());

        jPanel10.setBorder(javax.swing.BorderFactory.createTitledBorder("ข้อมูล NCD"));
        jPanel10.setPreferredSize(new java.awt.Dimension(150, 150));
        jPanel10.setLayout(new java.awt.GridBagLayout());

        jScrollPane1.setMinimumSize(new java.awt.Dimension(200, 200));

        jTable1.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {

            }
        ));
        jTable1.setFont(defaultFont1);
        jTable1.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseReleased(java.awt.event.MouseEvent evt) {
                jTable1MouseReleased(evt);
            }
        });
        jScrollPane1.setViewportView(jTable1);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 2;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.gridheight = 2;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        jPanel10.add(jScrollPane1, gridBagConstraints);

        jButtonAddVital.setFont(defaultFont1);
        jButtonAddVital.setIcon(new javax.swing.ImageIcon(getClass().getResource("/com/hosv3/gui/images/plus16.gif"))); // NOI18N
        jButtonAddVital.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonAddVitalActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 3;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        jPanel10.add(jButtonAddVital, gridBagConstraints);

        jButtonDelVital.setFont(defaultFont1);
        jButtonDelVital.setIcon(new javax.swing.ImageIcon(getClass().getResource("/com/hosv3/gui/images/minus16.gif"))); // NOI18N
        jButtonDelVital.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonDelVitalActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 3;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        jPanel10.add(jButtonDelVital, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        jPanel9.add(jPanel10, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        jPanelMoreDetail.add(jPanel9, gridBagConstraints);

        jTabbedPane.addTab("ข้อมูลอื่น", jPanelMoreDetail);

        add(jTabbedPane, java.awt.BorderLayout.CENTER);

        jPanelAction.setLayout(new java.awt.GridBagLayout());

        jButtonSave.setFont(defaultFont1);
        jButtonSave.setIcon(new javax.swing.ImageIcon(getClass().getResource("/com/hospital_os/images/Save16.gif"))); // NOI18N
        jButtonSave.setText("บันทึก");
        jButtonSave.setMargin(new java.awt.Insets(2, 4, 2, 4));
        jButtonSave.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonSaveActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 7;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
        gridBagConstraints.insets = new java.awt.Insets(0, 1, 0, 0);
        jPanelAction.add(jButtonSave, gridBagConstraints);

        jButtonReset.setFont(defaultFont1);
        jButtonReset.setIcon(new javax.swing.ImageIcon(getClass().getResource("/com/hosv3/gui/images/plus16.gif"))); // NOI18N
        jButtonReset.setMargin(new java.awt.Insets(1, 1, 1, 1));
        jButtonReset.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonResetActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.fill = java.awt.GridBagConstraints.VERTICAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
        jPanelAction.add(jButtonReset, gridBagConstraints);

        jButtonPrintOPDCard.setFont(defaultFont1);
        jButtonPrintOPDCard.setText("OPD card");
        jButtonPrintOPDCard.setMargin(new java.awt.Insets(2, 4, 2, 4));
        jButtonPrintOPDCard.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonPrintOPDCardActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 9;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
        gridBagConstraints.insets = new java.awt.Insets(0, 1, 0, 0);
        jPanelAction.add(jButtonPrintOPDCard, gridBagConstraints);

        jButtonDelete.setFont(defaultFont1);
        jButtonDelete.setIcon(new javax.swing.ImageIcon(getClass().getResource("/com/hosv3/gui/images/minus16.gif"))); // NOI18N
        jButtonDelete.setMargin(new java.awt.Insets(1, 1, 1, 1));
        jButtonDelete.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonDeleteActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 2;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.fill = java.awt.GridBagConstraints.VERTICAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(0, 1, 0, 0);
        jPanelAction.add(jButtonDelete, gridBagConstraints);

        jButtonSearchPatient.setFont(defaultFont1);
        jButtonSearchPatient.setText("ค้นหา");
        jButtonSearchPatient.setMargin(new java.awt.Insets(2, 4, 2, 4));
        jButtonSearchPatient.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonSearchPatientActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(0, 1, 0, 0);
        jPanelAction.add(jButtonSearchPatient, gridBagConstraints);

        jButtonActive.setFont(defaultFont1);
        jButtonActive.setText("นำกลับมาใช้ใหม่");
        jButtonActive.setMargin(new java.awt.Insets(2, 4, 2, 4));
        jButtonActive.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonActiveActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 8;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
        gridBagConstraints.insets = new java.awt.Insets(0, 1, 0, 0);
        jPanelAction.add(jButtonActive, gridBagConstraints);

        jTextFieldHNVisit.setHorizontalAlignment(javax.swing.JTextField.TRAILING);
        jTextFieldHNVisit.setMinimumSize(new java.awt.Dimension(80, 21));
        jTextFieldHNVisit.setPreferredSize(new java.awt.Dimension(80, 21));
        jTextFieldHNVisit.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextFieldHNVisitActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 4;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(0, 5, 0, 0);
        jPanelAction.add(jTextFieldHNVisit, gridBagConstraints);

        jLabel4.setFont(defaultFont1);
        jLabel4.setText("HN Visit");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 3;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
        gridBagConstraints.insets = new java.awt.Insets(0, 5, 0, 0);
        jPanelAction.add(jLabel4, gridBagConstraints);

        jButtonSmartcard.setText("อ่านบัตรสมาร์ทการ์ด");
        jButtonSmartcard.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonSmartcardActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 6;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.fill = java.awt.GridBagConstraints.VERTICAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
        gridBagConstraints.insets = new java.awt.Insets(0, 1, 0, 0);
        jPanelAction.add(jButtonSmartcard, gridBagConstraints);

        jPanel15.setLayout(new java.awt.GridBagLayout());

        jComboBoxEmployee.setFont(defaultFont1);
        jComboBoxEmployee.setMinimumSize(new java.awt.Dimension(150, 21));
        jComboBoxEmployee.setPreferredSize(new java.awt.Dimension(150, 21));
        jComboBoxEmployee.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jComboBoxEmployeeActionPerformed(evt);
            }
        });
        jComboBoxEmployee.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                jComboBoxEmployeeKeyReleased(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 4;
        gridBagConstraints.gridwidth = 2;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(2, 0, 0, 0);
        jPanel15.add(jComboBoxEmployee, gridBagConstraints);

        jLabelSaveBy.setFont(defaultFont1);
        jLabelSaveBy.setText("ผู้บันทึก");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 4;
        gridBagConstraints.insets = new java.awt.Insets(2, 0, 0, 5);
        jPanel15.add(jLabelSaveBy, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 5;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(0, 5, 0, 0);
        jPanelAction.add(jPanel15, gridBagConstraints);

        add(jPanelAction, java.awt.BorderLayout.SOUTH);
    }// </editor-fold>//GEN-END:initComponents



    private void jTextFieldHNVisitActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTextFieldHNVisitActionPerformed


        setCursor(Constant.CUR_WAIT);

        int i = theHC.thePatientControl.readPatientByHn(jTextFieldHNVisit.getText());
        if(i==0){
            theUS.setStatus("ไม่พบผู้ป่วย HN " +jTextFieldHNVisit.getText() ,UpdateStatus.WARNING);
            setCursor(Constant.CUR_DEFAULT);
            return;
        }
        if(i>1){
            theUS.setStatus(Constant.getTextBundle("พบผู้ป่วย")+" HN " +jTextFieldHNVisit.getText()+" " +
                    Constant.getTextBundle("มากกว่า 1 คนกรุณาตรวจสอบ") ,UpdateStatus.WARNING);
            setCursor(Constant.CUR_DEFAULT);
            return;
        }
        QueueVisit qv = new QueueVisit();
        Vector vWaitAppointment = theHC.thePatientControl.listWaitAppointment(theHO.thePatient.getObjectId());
        Vector chooseApp = new Vector();
        boolean IOption = Gutil.isSelected( theHC.theLookupControl.readOption().inqueuevisit);
        if(IOption || vWaitAppointment!=null)
        {
            boolean ret = theHD.showDialogQueueVisit(theVisit,qv,0,IOption,vWaitAppointment,chooseApp);
            if(!ret){
                setCursor(Constant.CUR_DEFAULT);
                return;
            }
        }
        if(theHO.vPatientPayment.isEmpty())
        {
            theUS.setStatus("ผู้ป่วยไม่มีสิทธิประจำตัวไม่สามารถเข้าสู่กระบวนการทันทีได้",UpdateStatus.WARNING);
            setCursor(Constant.CUR_DEFAULT);
            return;
        }
        Vector vVisitPayment = new Vector();
        Payment vp = (PatientPayment)theHO.vPatientPayment.get(0);
        vp.setObjectId(null);
        vVisitPayment.add(vp);
        Visit theVisit = new Visit();
        if(chooseApp.isEmpty())
            theHC.theVisitControl.visitPatient(theVisit,vVisitPayment,qv);
        else
        {
            Appointment app = (Appointment)chooseApp.get(0);
            theHC.theVisitControl.visitPatientApp(theVisit,vVisitPayment,qv,app);
        }
        setCursor(Constant.CUR_DEFAULT);

    }//GEN-LAST:event_jTextFieldHNVisitActionPerformed



    private void jButtonActiveActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonActiveActionPerformed


        theHC.thePatientControl.activePatient();

    }//GEN-LAST:event_jButtonActiveActionPerformed



    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton1ActionPerformed



            String h = panelAddressPatient.getHouse();
            String v = panelAddressPatient.getVillage();
            String r = panelAddressPatient.getRoad();
            String p = panelAddressPatient.getPhone();
            String m = panelAddressPatient.getMobile();
            String c = panelAddressPatient.getChangwat();
            String a = panelAddressPatient.getAmpur();
            String t = panelAddressPatient.getTambon();
            panelAddressContact.setAddress(h, v, r, p, m, c, a, t);

    }//GEN-LAST:event_jButton1ActionPerformed



    private void timeTextFieldCheckMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_timeTextFieldCheckMouseClicked


        timeTextFieldCheck.selectAll();

    }//GEN-LAST:event_timeTextFieldCheckMouseClicked



    private void timeTextFieldCheckKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_timeTextFieldCheckKeyReleased



    }//GEN-LAST:event_timeTextFieldCheckKeyReleased



    private void dateComboBoxCheckKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_dateComboBoxCheckKeyReleased



    }//GEN-LAST:event_dateComboBoxCheckKeyReleased



    private void jTextFieldAgeFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_jTextFieldAgeFocusLost
       if(this.jCheckBoxTrueBirthday.isSelected())
           return;
        dateComboBoxBirthDay.setText(DateUtil.calBirthdateGui(date_time,jTextFieldAge.getText()));
//        //amp:11/5/2549 เพื่อแสดงข้อความเตือน ถ้าผู้ป่วยตั้งครรภ์
//        theHC.thePatientControl.warningPregnant(Gutil.getGuiData(jComboBoxGender),jTextFieldAge.getText(),"0");
//        int age_int = DateUtil.calculateAgeInt(dateComboBoxBirthDay.getText(),date_time);
//        String prefix_id = Gutil.getPrefix(jComboBoxPrename.getText(), Gutil.getGuiData(jComboBoxGender)
//            , jTextFieldAge.getText(), Gutil.getGuiData(jComboBoxMarriage));
//        if(prefix_id!=null){
//            jComboBoxPrename.refresh();
//            Gutil.setGuiData(jComboBoxPrename,prefix_id);
//        }

    }//GEN-LAST:event_jTextFieldAgeFocusLost



    /**
     *เหตุที่ต้องย้ายมาไว้ตรงนี้เพราะว่าเวลาเปิดหน้าจอค้นหาแล้วมันจะปิดไม่ได้
     *เพราะว่า gain มันอยู่ที่นี่ พอ gain มันก็แสดง พอปิด มันก็ gain
     * henbe comment 27/03/2550
     */

    private void jComboBoxGenderFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_jComboBoxGenderFocusLost


//        updatePatientByPID();

    }//GEN-LAST:event_jComboBoxGenderFocusLost



    private void jComboBoxGenderFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_jComboBoxGenderFocusGained


        //updatePatientByPID();

    }//GEN-LAST:event_jComboBoxGenderFocusGained



    private void dateComboBoxBirthDayFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_dateComboBoxBirthDayFocusLost




    }//GEN-LAST:event_dateComboBoxBirthDayFocusLost



    private void jComboBoxPrenameFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_jComboBoxPrenameFocusLost



    }//GEN-LAST:event_jComboBoxPrenameFocusLost



    private void jComboBoxMarriageActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jComboBoxMarriageActionPerformed


        int age_int = DateUtil.calculateAgeInt(dateComboBoxBirthDay.getText(),date_time);
        String prefix_id = Gutil.getPrefix(jComboBoxPrename.getText(), Gutil.getGuiData(jComboBoxGender)
            , jTextFieldAge.getText(), Gutil.getGuiData(jComboBoxMarriage));
        if(prefix_id!=null){
//            jComboBoxPrename.refresh();
//            jComboBoxPrename.setText(prefix_id);
        }

    }//GEN-LAST:event_jComboBoxMarriageActionPerformed



    /**
     *@author henbe
     *@see เปลี่ยน pattern หน่อยนะ
     */

    private void pidPanelFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_pidPanelFocusLost


        updatePatientByPID();

    }//GEN-LAST:event_pidPanelFocusLost



    private void jButtonDelVitalActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonDelVitalActionPerformed


        if(theHO.thePatient==null)
        {
            theUS.setStatus("กรุณาเลือกผู้ป่วย",UpdateStatus.WARNING);
            return;
        }
        int[]  row = this.jTable1.getSelectedRows();
//        vNCD = theHO.vNCD;
        if(row.length != 0)
        {
            for(int i=row.length-1;i>=0;i--)
            {
                vNCD.remove(row[i]);
            }
        }

        theHC.thePatientControl.saveNCD(theHO.thePatient,vNCD);
        updateOGNcdV(theHO.vNCD);

    }//GEN-LAST:event_jButtonDelVitalActionPerformed



    private void jTable1MouseReleased(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jTable1MouseReleased




    }//GEN-LAST:event_jTable1MouseReleased



    private void jButtonAddVitalActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonAddVitalActionPerformed


        if(theHO.thePatient==null)
        {
            theUS.setStatus("กรุณาเลือกผู้ป่วย",UpdateStatus.WARNING);
            return;
        }
        PanelRegisterNCD thePRNCD = new PanelRegisterNCD(theHC,theUS);
        vNCD = theHO.vNCD;
        if(vNCD == null){
            vNCD = new Vector();
        }
        boolean ret = thePRNCD.showDialog(true,true,vNCD);
        if(ret){
            theHC.thePatientControl.saveNCD(theHO.thePatient,vNCD);
            updateOGNcdV(theHO.vNCD);
        }


    }//GEN-LAST:event_jButtonAddVitalActionPerformed


    public void updateOGNcdV(Vector ncd_v)
    {
        vNCD = ncd_v;
        TaBleModel tm ;
        if(vNCD == null || vNCD.isEmpty()){
            tm= new TaBleModel(new String[]{""},0);
            jTable1.setModel(tm);
            return;
        }
        tm = new TaBleModel(new String[]{"",""},vNCD.size());
        for(int i=0 ;i<vNCD.size(); i++)
        {
            NCD ncd_data = (NCD)vNCD.get(i);
            tm.setValueAt(ncd_data.ncd_number,i,0);
            NCDGroup group = theHC.theLookupControl.readNCDGroupById(ncd_data.ncd_group_id);
            if(group!=null)
                tm.setValueAt(group.description,i,1);
        }
        jTable1.setModel(tm);
    }



    private void jComboBoxBloodPropertyChange(java.beans.PropertyChangeEvent evt) {//GEN-FIRST:event_jComboBoxBloodPropertyChange


// TODO add your handling code here:

    }//GEN-LAST:event_jComboBoxBloodPropertyChange



    private void jComboBoxContactSexKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jComboBoxContactSexKeyReleased


        Gutil.setTransferCursor(evt,jComboBoxRelation,panelAddressPatient,jTextFieldLname,panelAddressContact,jComboBoxContactSex);

    }//GEN-LAST:event_jComboBoxContactSexKeyReleased



    private void jComboBoxRelationKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jComboBoxRelationKeyReleased


        Gutil.setTransferCursor(evt,jComboBoxRelation,panelAddressPatient,jTextFieldLname,panelAddressContact,jComboBoxContactSex);

    }//GEN-LAST:event_jComboBoxRelationKeyReleased



    private void jCheckBoxOtherCountryKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jCheckBoxOtherCountryKeyReleased


        Gutil.setTransferCursor(evt,jCheckBoxOtherCountry,null,jRadioButtonTenant,panelAddressPatient,null);

    }//GEN-LAST:event_jCheckBoxOtherCountryKeyReleased



    private void jRadioButtonTenantKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jRadioButtonTenantKeyReleased


        Gutil.setTransferCursor(evt,jRadioButtonTenant,null,jRadioButtonOwner,panelAddressPatient,jCheckBoxOtherCountry);

    }//GEN-LAST:event_jRadioButtonTenantKeyReleased



    private void jTextFieldCoupleFnameFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_jTextFieldCoupleFnameFocusLost


        jTextFieldCoupleLnameFocusGained(null);

    }//GEN-LAST:event_jTextFieldCoupleFnameFocusLost



    private void jTextFieldContactFnameFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_jTextFieldContactFnameFocusLost


        jTextFieldContactLnameFocusGained(null);

    }//GEN-LAST:event_jTextFieldContactFnameFocusLost



    private void jTextFieldMotherFnameFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_jTextFieldMotherFnameFocusLost


        jTextFieldMotherLnameFocusGained(null);

    }//GEN-LAST:event_jTextFieldMotherFnameFocusLost



    private void jTextFieldFatherFnameFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_jTextFieldFatherFnameFocusLost


        jTextFieldFatherLnameFocusGained(null);

    }//GEN-LAST:event_jTextFieldFatherFnameFocusLost



    private void jTextFieldContactLnameKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jTextFieldContactLnameKeyReleased


        Gutil.setTransferCursor(evt,jTextFieldContactLname,jTextFieldCoupleLname,jTextFieldContactFname,jButtonSave,jRadioButtonOwner);

    }//GEN-LAST:event_jTextFieldContactLnameKeyReleased



    private void jTextFieldCoupleLnameKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jTextFieldCoupleLnameKeyReleased


        Gutil.setTransferCursor(evt,jTextFieldCoupleLname,jTextFieldMotherLname,jTextFieldCoupleFname,jTextFieldContactLname,jRadioButtonOwner);

    }//GEN-LAST:event_jTextFieldCoupleLnameKeyReleased



    private void jTextFieldMotherLnameKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jTextFieldMotherLnameKeyReleased


        Gutil.setTransferCursor(evt,jTextFieldMotherLname,jTextFieldFatherLname,jTextFieldMotherFname,jTextFieldCoupleLname,jRadioButtonOwner);

    }//GEN-LAST:event_jTextFieldMotherLnameKeyReleased



    private void jTextFieldFatherLnameKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jTextFieldFatherLnameKeyReleased


        Gutil.setTransferCursor(evt,jTextFieldFatherLname,jComboBoxEducate,jTextFieldFatherFname,jTextFieldMotherLname,jRadioButtonOwner);

    }//GEN-LAST:event_jTextFieldFatherLnameKeyReleased



    private void jComboBoxEducateKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jComboBoxEducateKeyReleased


        Gutil.setTransferCursor(evt,jComboBoxEducate,jComboBoxNation,jComboBoxReligion,jTextFieldFatherLname,jRadioButtonOwner);

    }//GEN-LAST:event_jComboBoxEducateKeyReleased





    private void jComboBoxBloodKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jComboBoxBloodKeyReleased


        Gutil.setTransferCursor(evt,jComboBoxBlood,jTextFieldAge,jComboBoxMarriage,jComboBoxOccup,jRadioButtonOwner);

    }//GEN-LAST:event_jComboBoxBloodKeyReleased



    private void jTextFieldAgeKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jTextFieldAgeKeyReleased


        Gutil.setTransferCursor(evt,jTextFieldAge,jTextFieldLname,jCheckBoxTrueBirthday,jComboBoxBlood,jRadioButtonOwner);


    }//GEN-LAST:event_jTextFieldAgeKeyReleased



    private void pidPanelKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_pidPanelKeyReleased


        Gutil.setTransferCursor(evt,pidPanel,jTextFieldFname, null, jCheckBoxTrueBirthday,null);

    }//GEN-LAST:event_pidPanelKeyReleased



    private void jRadioButtonOwnerKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jRadioButtonOwnerKeyReleased


        Gutil.setTransferCursor(evt,jRadioButtonOwner,null,jTextFieldLname,panelAddressPatient,jRadioButtonTenant);

    }//GEN-LAST:event_jRadioButtonOwnerKeyReleased



    private void jTextFieldLnameKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jTextFieldLnameKeyReleased


        Gutil.setTransferCursor(evt,jTextFieldLname,null,jTextFieldFname,pidPanel,jRadioButtonOwner);

    }//GEN-LAST:event_jTextFieldLnameKeyReleased



    private void jTextFieldContactFnameKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jTextFieldContactFnameKeyReleased


        Gutil.setTransferCursor(evt,jTextFieldContactFname,jTextFieldCoupleFname,null,jButtonSave,jTextFieldContactLname);

    }//GEN-LAST:event_jTextFieldContactFnameKeyReleased



    private void jTextFieldCoupleFnameKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jTextFieldCoupleFnameKeyReleased


        Gutil.setTransferCursor(evt,jTextFieldCoupleFname,jTextFieldMotherFname,null,jTextFieldContactFname,jTextFieldCoupleLname);

    }//GEN-LAST:event_jTextFieldCoupleFnameKeyReleased



    private void jTextFieldMotherFnameKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jTextFieldMotherFnameKeyReleased


        Gutil.setTransferCursor(evt,jTextFieldMotherFname,jTextFieldFatherFname,null,jTextFieldCoupleFname,jTextFieldMotherLname);

    }//GEN-LAST:event_jTextFieldMotherFnameKeyReleased



    private void jTextFieldFatherFnameKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jTextFieldFatherFnameKeyReleased


        Gutil.setTransferCursor(evt,jTextFieldFatherFname,jComboBoxReligion,null,jTextFieldMotherFname,jTextFieldFatherLname);

    }//GEN-LAST:event_jTextFieldFatherFnameKeyReleased



    private void jComboBoxReligionKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jComboBoxReligionKeyReleased


        Gutil.setTransferCursor(evt,jComboBoxReligion,jComboBoxRace,null,jTextFieldFatherFname,jComboBoxEducate);

    }//GEN-LAST:event_jComboBoxReligionKeyReleased





    private void jComboBoxOccupKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jComboBoxOccupKeyReleased


        Gutil.setTransferCursor(evt,jComboBoxOccup,jComboBoxMarriage,null,jComboBoxRace,jRadioButtonOwner);

    }//GEN-LAST:event_jComboBoxOccupKeyReleased



    private void jComboBoxMarriageKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jComboBoxMarriageKeyReleased


        Gutil.setTransferCursor(evt,jComboBoxMarriage,jComboBoxGender,null,jComboBoxOccup,jComboBoxBlood);

    }//GEN-LAST:event_jComboBoxMarriageKeyReleased



    private void dateComboBoxBirthDayKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_dateComboBoxBirthDayKeyReleased


        Gutil.setTransferCursor(evt,dateComboBoxBirthDay,pidPanel,jCheckBoxTrueBirthday,jComboBoxBlood,jTextFieldAge);

    }//GEN-LAST:event_dateComboBoxBirthDayKeyReleased



    private void jCheckBoxTrueBirthdayKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jCheckBoxTrueBirthdayKeyReleased


        Gutil.setTransferCursor(evt,jCheckBoxTrueBirthday,pidPanel,jComboBoxGender,jComboBoxMarriage,jTextFieldAge);

    }//GEN-LAST:event_jCheckBoxTrueBirthdayKeyReleased



    private void jComboBoxGenderKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jComboBoxGenderKeyReleased


        Gutil.setTransferCursor(evt,jComboBoxGender,jComboBoxPrename,null,jComboBoxMarriage,jCheckBoxTrueBirthday);

    }//GEN-LAST:event_jComboBoxGenderKeyReleased



    private void jTextFieldFnameKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jTextFieldFnameKeyReleased


        Gutil.setTransferCursor(evt,jTextFieldFname, null,jComboBoxPrename, pidPanel, jTextFieldLname);

    }//GEN-LAST:event_jTextFieldFnameKeyReleased



    private void jComboBoxPrenameKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jComboBoxPrenameKeyReleased


        if(evt.getKeyCode()==evt.VK_RIGHT)
            jComboBoxPrename.transferFocus();

    }//GEN-LAST:event_jComboBoxPrenameKeyReleased



    private void jCheckBoxOtherCountryActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jCheckBoxOtherCountryActionPerformed


        panelAddressPatient.setOtherCountry(jCheckBoxOtherCountry.isSelected());

    }//GEN-LAST:event_jCheckBoxOtherCountryActionPerformed



    private void jTextFieldLnameActionPerformed(java.awt.event.ActionEvent evt)//GEN-FIRST:event_jTextFieldLnameActionPerformed



    {//GEN-HEADEREND:event_jTextFieldLnameActionPerformed


        Vector patient_v = theHC.thePatientControl.listPatientByName(""
                ,jTextFieldFname.getText()
                ,jTextFieldLname.getText());
        if(patient_v.size()==1){
            Patient pt = (Patient)patient_v.get(0);
            theHC.thePatientControl.readPatientByHn(pt.hn);
        }
        if(patient_v.size()>1)
            theHD.showDialogSearchPatient(jTextFieldFname.getText(),jTextFieldLname.getText(),"","");

    }//GEN-LAST:event_jTextFieldLnameActionPerformed



    private void jComboBoxRelationActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jComboBoxRelationActionPerformed



    }//GEN-LAST:event_jComboBoxRelationActionPerformed



    private void jTextFieldAgeActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTextFieldAgeActionPerformed


        dateComboBoxBirthDay.setText(DateUtil.calBirthdateGui(date_time,jTextFieldAge.getText()));
        jButtonSaveActionPerformed(null);

    }//GEN-LAST:event_jTextFieldAgeActionPerformed



    private void dateComboBoxBirthDayActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_dateComboBoxBirthDayActionPerformed


        if(!dateComboBoxBirthDay.isEnabled())
            return;
        jTextFieldAge.setText("");
        String bdate = dateComboBoxBirthDay.getText();
        if(!bdate.equals(""))
        {
            String age = DateUtil.calculateAge(bdate,date_time);
            jTextFieldAge.setText(age);

            int age_int = DateUtil.calculateAgeInt(dateComboBoxBirthDay.getText(),date_time);
            String prefix_id = Gutil.getPrefix(jComboBoxPrename.getText(), Gutil.getGuiData(jComboBoxGender)
                , jTextFieldAge.getText(), Gutil.getGuiData(jComboBoxMarriage));
            if(prefix_id!=null){
//                jComboBoxPrename.refresh();
//                jComboBoxPrename.setText(prefix_id);
            }
        }
        jTextFieldAgeFocusLost(null);
        //amp:11/5/2549 เพื่อแสดงข้อความเตือน ถ้าผู้ป่วยตั้งครรภ์
        // ย้ายไปอยู่ใน jComboBoxPrenameFocusLost แทนเพราะว่าจะมีปัญหาในการตรวจสอบเงื่อนไขการตั้งครรภ์  sumo 29/8/2549
//        theHC.thePatientControl.warningPregnant(Gutil.getGuiData(jComboBoxGender),jTextFieldAge.getText(),"0");

    }//GEN-LAST:event_dateComboBoxBirthDayActionPerformed



    private void jComboBoxGenderActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jComboBoxGenderActionPerformed


//      ต้องการให้ การเปลี่ยนคำนำหน้าชื่อเปลี่ยนเพศ ดังนั้นการเปลี่ยนเพศต้องไม่ไปเปลี่ยนคำนำหน้าชื่อ
//        String prefix_id = Gutil.getPrefix(jComboBoxPrename.getText(), Gutil.getGuiData(jComboBoxGender)
//            , jTextFieldAge.getText(), Gutil.getGuiData(jComboBoxMarriage));
//        if(prefix_id!=null){
//            jComboBoxPrename.refresh();
//            Gutil.setGuiData(jComboBoxPrename,prefix_id);
//        }

    }//GEN-LAST:event_jComboBoxGenderActionPerformed



    private void jComboBoxPrenameActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jComboBoxPrenameActionPerformed


        //เอาแบบเก่ากลับมาคือถ้าเปลี่ยนคำนำหน้าชื่อแล้วจะเปลี่ยนเพศให้
        try{
            Prefix thePrefix = (Prefix)jComboBoxPrename.getSelectedItem();
            if(!thePrefix.sex.equals(Sex.isUndefine()))
                Gutil.setGuiData(jComboBoxGender, thePrefix.sex);
        }
        catch(Exception e){
            Constant.println(e.getMessage());
        }
    }//GEN-LAST:event_jComboBoxPrenameActionPerformed



    private void jButtonSearchPatientActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonSearchPatientActionPerformed

        theHD.showDialogSearchPatient(jTextFieldFname.getText(),jTextFieldLname.getText(),"","");

    }//GEN-LAST:event_jButtonSearchPatientActionPerformed



    private void jButtonDeleteActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonDeleteActionPerformed


        theHC.thePatientControl.deletePatient(thePatient);

    }//GEN-LAST:event_jButtonDeleteActionPerformed



    private void jTextFieldFnameActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTextFieldFnameActionPerformed

        theHD.showDialogSearchPatient(jTextFieldFname.getText(),jTextFieldLname.getText(),"","");

    }//GEN-LAST:event_jTextFieldFnameActionPerformed



    private void jCheckBoxTrueBirthdayActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jCheckBoxTrueBirthdayActionPerformed


        if(jCheckBoxTrueBirthday.isSelected()){
            dateComboBoxBirthDay.setEnabled(true);
            jTextFieldAge.setEnabled(false);
        }
        else{
            dateComboBoxBirthDay.setEnabled(false);
            jTextFieldAge.setEnabled(true);
        }
        jTextFieldAgeFocusLost(null);

    }//GEN-LAST:event_jCheckBoxTrueBirthdayActionPerformed



    private void jTextFieldContactLnameFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_jTextFieldContactLnameFocusGained


        if(!jTextFieldContactFname.getText().trim().equals("")){
            if(jTextFieldContactLname.getText().trim().equals("")){
                Gutil.setGuiData(jTextFieldContactLname,Gutil.getGuiData(jTextFieldLname));
            }
        }

    }//GEN-LAST:event_jTextFieldContactLnameFocusGained




	private void jButtonPrintOPDCardActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonPrintOPDCardActionPerformed


        if(thePatient != null){
            theUS.setStatus("กรุณาเลือกผู้ป่วย",UpdateStatus.WARNING);
            return;
        }
        DialogPrintOPD.showPanel(theUS.getJFrame(),0, theHC);

    }//GEN-LAST:event_jButtonPrintOPDCardActionPerformed


/*
 //หา focus lost ของ panel pid ไม่ได้เลยใช้ของตัวนี้แทน
*/

	private void jTextFieldCoupleLnameFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_jTextFieldCoupleLnameFocusGained


        if(!jTextFieldCoupleFname.getText().trim().equals(""))
        {
            if(jTextFieldCoupleLname.getText().trim().equals(""))
            {
                Gutil.setGuiData(jTextFieldCoupleLname,Gutil.getGuiData(jTextFieldLname));
            }
        }

    }//GEN-LAST:event_jTextFieldCoupleLnameFocusGained



    private void jTextFieldMotherLnameFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_jTextFieldMotherLnameFocusGained


        if(!jTextFieldMotherFname.getText().trim().equals(""))
        {
            if(jTextFieldMotherLname.getText().trim().equals(""))
            {
                Gutil.setGuiData(jTextFieldMotherLname,Gutil.getGuiData(jTextFieldLname));
            }
        }

    }//GEN-LAST:event_jTextFieldMotherLnameFocusGained




	private void jTextFieldFatherLnameFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_jTextFieldFatherLnameFocusGained


        if(!jTextFieldFatherFname.getText().trim().equals(""))
        {
            if(jTextFieldFatherLname.getText().trim().equals(""))
            {
                Gutil.setGuiData(jTextFieldFatherLname,Gutil.getGuiData(jTextFieldLname));
            }
        }

    }//GEN-LAST:event_jTextFieldFatherLnameFocusGained




    /*private void pidPanelKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_pidPanelKeyTyped




    }//GEN-LAST:event_pidPanelKeyTyped


    */

    private void formKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_formKeyReleased




    }//GEN-LAST:event_formKeyReleased



    private void jButtonResetActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonResetActionPerformed


        theHC.thePatientControl.resetPatient();


    }//GEN-LAST:event_jButtonResetActionPerformed


/*
        //////////////////////////// จบฟังชัน //////////////////////////
        //ความสัมพันธ์ ต้องเอามาไว้ข้างนอกเพราะว่าไม่รู้ว่าจะเก็บ ความสัมพันธ์ไว้ในข้อมูลผู้ป่วยได้อย่างไร
        //เพื่อให้ control สามารถบันทึกความสัมพันธ์กังกล่าวได้
 */

    private void jButtonSaveActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonSaveActionPerformed
        String old_xn = thePatient.xn;
        getPatient(thePatient);
        JTextField jt = (JTextField)(jComboBoxRelation.getEditor()).getEditorComponent();
        String desc = jt.getText();
        if(!old_xn.equals(thePatient.xn))
            theHC.theResultControl.savePatientXn(thePatient.xn,false);
        // เพิ่มการส่ง Vector vNCD ใช้ในการบันทึก NCD sumo 28/08/2549
        int ret=theHC.thePatientControl.savePatient(thePatient,jTextFieldAge.getText(),desc,vNCD);
        if(ret==3) pidPanel.requestFocus();
        else if(ret==6) jTextFieldContactFname.requestFocus();
        else if(ret==9) jTextFieldAge.requestFocus();
        else if(ret==10) this.jComboBoxOccup.requestFocus();
        else if(ret==5) jTextFieldAge.requestFocus();

    }//GEN-LAST:event_jButtonSaveActionPerformed



    private void jTextFieldFatherFnameCaretUpdate(javax.swing.event.CaretEvent evt) {//GEN-FIRST:event_jTextFieldFatherFnameCaretUpdate


    }//GEN-LAST:event_jTextFieldFatherFnameCaretUpdate



    private void jTextFieldFatherLnameCaretUpdate(javax.swing.event.CaretEvent evt){//GEN-FIRST:event_jTextFieldFatherLnameCaretUpdate


    }//GEN-LAST:event_jTextFieldFatherLnameCaretUpdate



    private void jTextFieldMotherFnameCaretUpdate(javax.swing.event.CaretEvent evt){//GEN-FIRST:event_jTextFieldMotherFnameCaretUpdate


    }//GEN-LAST:event_jTextFieldMotherFnameCaretUpdate



    private void jTextFieldMotherLnameCaretUpdate(javax.swing.event.CaretEvent evt){//GEN-FIRST:event_jTextFieldMotherLnameCaretUpdate


    }//GEN-LAST:event_jTextFieldMotherLnameCaretUpdate



    private void jTextFieldCoupleFnameCaretUpdate(javax.swing.event.CaretEvent evt){//GEN-FIRST:event_jTextFieldCoupleFnameCaretUpdate


    }//GEN-LAST:event_jTextFieldCoupleFnameCaretUpdate



    private void jTextFieldCoupleLnameCaretUpdate(javax.swing.event.CaretEvent evt){//GEN-FIRST:event_jTextFieldCoupleLnameCaretUpdate

    }//GEN-LAST:event_jTextFieldCoupleLnameCaretUpdate

    private void jButtonSmartcardActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonSmartcardActionPerformed
        if (theSMCC.startReader(true, true)) {
            setSmartCardData();
        }
    }//GEN-LAST:event_jButtonSmartcardActionPerformed

    private void jButtonFatherActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonFatherActionPerformed
        String family_id = PanelLookup.showDialog(theUS.getJFrame(),theMC
                ,this.jTextFieldFatherFname.getText()+" "+this.jTextFieldFatherLname.getText());
        if(family_id==null)
            return;
        Family fam = theHC.thePatientControl.readFamilyByFamilyIdRet(family_id);
        Prefix2 p_father = theHC.theLookupControl.readPrefixById(fam.f_prefix_id);
        setTextFieldDE(jTextFieldFatherFname,p_father.getName() + fam.patient_name,false);
        setTextFieldDE(jTextFieldFatherLname,fam.patient_last_name,false);
        setTextFieldDE(cidFather,fam.pid,false);
        thePatient.father_firstname = fam.patient_name;
        thePatient.father_lastname = fam.patient_last_name;
        thePatient.father_pid = fam.pid;
        thePatient.father_fid = family_id;
}//GEN-LAST:event_jButtonFatherActionPerformed

    private void setTextFieldDE(JTextField jTextField, String string,boolean edit) {
        jTextField.setText(string);
        jTextField.setEditable(edit);
    }
    private void setTextFieldDE(PIDPanel jTextField, String string,boolean edit) {
        jTextField.setText(string);
        jTextField.setEditable(edit);
    }
    private void jButtonCancelFatherActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonCancelFatherActionPerformed
        thePatient.father_fid = "";
        thePatient.father_firstname = "";
        thePatient.father_lastname = "";
        thePatient.father_pid = "";
        setTextFieldDE(jTextFieldFatherFname,"",true);
        setTextFieldDE(jTextFieldFatherLname,"",true);
        setTextFieldDE(cidFather,"",true);
}//GEN-LAST:event_jButtonCancelFatherActionPerformed

    private void jButtonMotherActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonMotherActionPerformed
        String family_id = PanelLookup.showDialog(theUS.getJFrame(),theMC
                ,this.jTextFieldMotherFname.getText()+" "+this.jTextFieldMotherLname.getText());
        if(family_id==null)
            return;
        Family fam = theHC.thePatientControl.readFamilyByFamilyIdRet(family_id);
        Prefix2 p_mother = theHC.theLookupControl.readPrefixById(fam.f_prefix_id);
        setTextFieldDE(jTextFieldMotherFname,p_mother.getName() + fam.patient_name,false);
        setTextFieldDE(jTextFieldMotherLname,fam.patient_last_name,false);
        setTextFieldDE(cidMother,fam.pid,false);
        thePatient.mother_firstname = fam.patient_name;
        thePatient.mother_lastname = fam.patient_last_name;
        thePatient.mother_pid = fam.pid;
        thePatient.mother_fid = family_id;
}//GEN-LAST:event_jButtonMotherActionPerformed

    private void jButtonCancelMotherActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonCancelMotherActionPerformed
        thePatient.mother_fid = "";
        thePatient.mother_firstname = "";
        thePatient.mother_lastname = "";
        thePatient.mother_pid = "";
        setTextFieldDE(jTextFieldMotherFname,"",true);
        setTextFieldDE(jTextFieldMotherLname,"",true);
        setTextFieldDE(cidMother,"",true);
}//GEN-LAST:event_jButtonCancelMotherActionPerformed

    private void jButtonCoupleActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonCoupleActionPerformed
        String family_id = PanelLookup.showDialog(theUS.getJFrame(),theMC
                ,this.jTextFieldCoupleFname.getText()+" "+this.jTextFieldCoupleLname.getText());
        if(family_id==null)
            return;
        Family fam = theHC.thePatientControl.readFamilyByFamilyIdRet(family_id);
        Prefix2 p_couple = theHC.theLookupControl.readPrefixById(fam.f_prefix_id);
        setTextFieldDE(jTextFieldCoupleFname,p_couple.getName() + fam.patient_name,false);
        setTextFieldDE(jTextFieldCoupleLname,fam.patient_last_name,false);
        setTextFieldDE(cidCouple,fam.pid,false);
        thePatient.couple_firstname = fam.patient_name;
        thePatient.couple_lastname = fam.patient_last_name;
        thePatient.couple_id = fam.pid;
        thePatient.couple_fid = family_id;
}//GEN-LAST:event_jButtonCoupleActionPerformed

    private void jButtonCancelCoupleActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonCancelCoupleActionPerformed
        thePatient.couple_fid = "";
        thePatient.couple_firstname = "";
        thePatient.couple_lastname = "";
        thePatient.couple_id = "";
        setTextFieldDE(jTextFieldCoupleFname,"",true);
        setTextFieldDE(jTextFieldCoupleLname,"",true);
        setTextFieldDE(cidCouple,"",true);
}//GEN-LAST:event_jButtonCancelCoupleActionPerformed

    private void jComboBoxNationKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jComboBoxNationKeyReleased
        Gutil.setTransferCursor(evt,jComboBoxNation,jComboBoxOccup,jComboBoxRace,jComboBoxEducate,jRadioButtonOwner);
    }//GEN-LAST:event_jComboBoxNationKeyReleased

    private void jComboBoxRaceKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jComboBoxRaceKeyReleased
        Gutil.setTransferCursor(evt,jComboBoxRace,jComboBoxOccup,null,jComboBoxReligion,jComboBoxNation);
    }//GEN-LAST:event_jComboBoxRaceKeyReleased

    private void jComboBoxEmployeeActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jComboBoxEmployeeActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jComboBoxEmployeeActionPerformed

    private void jComboBoxEmployeeKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jComboBoxEmployeeKeyReleased
        // TODO add your handling code here:
    }//GEN-LAST:event_jComboBoxEmployeeKeyReleased



    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.ButtonGroup buttonGroup1;
    private com.hosv3.gui.component.PIDPanel cidCouple;
    private com.hosv3.gui.component.PIDPanel cidFather;
    private com.hosv3.gui.component.PIDPanel cidMother;
    private com.hospital_os.utility.DateComboBox dateComboBoxBirthDay;
    private com.hospital_os.utility.DateComboBox dateComboBoxCheck;
    private com.hospital_os.gui.font.DefaultFont defaultFont1;
    private com.hosv3.gui.component.HosTabbedPaneUI hosTabbedPaneUI1;
    private javax.swing.JButton jButton1;
    private javax.swing.JButton jButtonActive;
    private javax.swing.JButton jButtonAddVital;
    private javax.swing.JButton jButtonCancelCouple;
    private javax.swing.JButton jButtonCancelFather;
    private javax.swing.JButton jButtonCancelMother;
    private javax.swing.JButton jButtonCouple;
    private javax.swing.JButton jButtonDelVital;
    private javax.swing.JButton jButtonDelete;
    private javax.swing.JButton jButtonFather;
    private javax.swing.JButton jButtonMother;
    private javax.swing.JButton jButtonPrintOPDCard;
    private javax.swing.JButton jButtonReset;
    private javax.swing.JButton jButtonSave;
    private javax.swing.JButton jButtonSearchPatient;
    private javax.swing.JButton jButtonSmartcard;
    private javax.swing.JCheckBox jCheckBoxOtherCountry;
    private javax.swing.JCheckBox jCheckBoxTrueBirthday;
    private javax.swing.JComboBox jComboBoxBlood;
    private javax.swing.JComboBox jComboBoxContactSex;
    private javax.swing.JComboBox jComboBoxEducate;
    private com.hosv3.gui.component.HosComboBox jComboBoxEmployee;
    private javax.swing.JComboBox jComboBoxGender;
    private javax.swing.JComboBox jComboBoxLabor;
    private javax.swing.JComboBox jComboBoxLabor53;
    private javax.swing.JComboBox jComboBoxMarriage;
    private com.hosv3.gui.component.HosComboBox jComboBoxNation;
    private com.hosv3.gui.component.HosComboBox jComboBoxOccup;
    private com.hosv3.gui.component.HosComboBox jComboBoxPrename;
    private com.hosv3.gui.component.HosComboBox jComboBoxRace;
    private com.hosv3.gui.component.HosComboBox jComboBoxRelation;
    private javax.swing.JComboBox jComboBoxReligion;
    private javax.swing.JComboBox jComboBoxTypeArea;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel22;
    private javax.swing.JLabel jLabel231;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JLabel jLabelAge;
    private javax.swing.JLabel jLabelBlood;
    private javax.swing.JLabel jLabelContact;
    private javax.swing.JLabel jLabelCoupleName;
    private javax.swing.JLabel jLabelDischDate;
    private javax.swing.JLabel jLabelDischStatus;
    private javax.swing.JLabel jLabelEducate;
    private javax.swing.JLabel jLabelFatherName;
    private javax.swing.JLabel jLabelFname;
    private javax.swing.JLabel jLabelFstatus;
    private javax.swing.JLabel jLabelGender;
    private javax.swing.JLabel jLabelHCIS;
    private javax.swing.JLabel jLabelHN;
    private javax.swing.JLabel jLabelLabor;
    private javax.swing.JLabel jLabelLabor1;
    private javax.swing.JLabel jLabelLname;
    private javax.swing.JLabel jLabelMarriage;
    private javax.swing.JLabel jLabelMotherName;
    private javax.swing.JLabel jLabelMoveIn;
    private javax.swing.JLabel jLabelNation;
    private javax.swing.JLabel jLabelOccup;
    private javax.swing.JLabel jLabelPType;
    private javax.swing.JLabel jLabelPid;
    private javax.swing.JLabel jLabelPrename;
    private javax.swing.JLabel jLabelPrivateDoctor;
    private javax.swing.JLabel jLabelRace;
    private javax.swing.JLabel jLabelReligion;
    private javax.swing.JLabel jLabelSaveBy;
    private javax.swing.JLabel jLabelTypeArea;
    private javax.swing.JLabel jLabelXN;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel10;
    private javax.swing.JPanel jPanel11;
    private javax.swing.JPanel jPanel12;
    private javax.swing.JPanel jPanel13;
    private javax.swing.JPanel jPanel14;
    private javax.swing.JPanel jPanel15;
    private javax.swing.JPanel jPanel16;
    private javax.swing.JPanel jPanel18;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JPanel jPanel20;
    private javax.swing.JPanel jPanel21;
    private javax.swing.JPanel jPanel23;
    private javax.swing.JPanel jPanel3;
    private javax.swing.JPanel jPanel4;
    private javax.swing.JPanel jPanel5;
    private javax.swing.JPanel jPanel6;
    private javax.swing.JPanel jPanel7;
    private javax.swing.JPanel jPanel8;
    private javax.swing.JPanel jPanel9;
    private javax.swing.JPanel jPanelAction;
    private javax.swing.JPanel jPanelAddress;
    private javax.swing.JPanel jPanelContact;
    private javax.swing.JPanel jPanelDetail;
    private javax.swing.JPanel jPanelGeneral;
    private javax.swing.JPanel jPanelMoreDetail;
    private javax.swing.JRadioButton jRadioButtonOwner;
    private javax.swing.JRadioButton jRadioButtonTenant;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JTabbedPane jTabbedPane;
    private com.hosv3.gui.component.HJTableSort jTable1;
    private com.hospital_os.utility.IntegerTextField jTextFieldAge;
    private javax.swing.JTextField jTextFieldContactFname;
    private javax.swing.JTextField jTextFieldContactLname;
    private javax.swing.JTextField jTextFieldCoupleFname;
    private javax.swing.JTextField jTextFieldCoupleLname;
    private javax.swing.JTextField jTextFieldFatherFname;
    private javax.swing.JTextField jTextFieldFatherLname;
    private javax.swing.JTextField jTextFieldFname;
    private javax.swing.JTextField jTextFieldHN;
    private javax.swing.JTextField jTextFieldHNVisit;
    private javax.swing.JTextField jTextFieldLname;
    private javax.swing.JTextField jTextFieldMotherFname;
    private javax.swing.JTextField jTextFieldMotherLname;
    private javax.swing.JTextField jTextFieldPType;
    private javax.swing.JTextField jTextFieldPrivateDoctor;
    private javax.swing.JTextField jTextFieldXN;
    private com.hosv3.gui.component.PanelAddress panelAddressContact;
    private com.hosv3.gui.component.PanelAddress panelAddressPatient;
    private com.hosv3.gui.component.PIDPanel pidPanel;
    private com.hospital_os.utility.TimeTextField timeTextFieldCheck;
    // End of variables declaration//GEN-END:variables



    public void gc()
    {
        boolean res = theHC.theHS.thePatientSubject.detach(this);
        theHC.theHS.theVisitSubject.detach(this);
        theHC.theHS.theResultSubject.detach(this);
        Constant.println("boolean res = theHC.theHS.thePatientSubject.detachManagePatient(this);" + res);
     jButtonReset = null;
     jTextFieldAge = null;
     jTextFieldLname = null;
     jPanelAction = null;
     jTextFieldPrivateDoctor = null;
     jTextFieldCoupleFname = null;
     jLabelCoupleName = null;
     jTextFieldXN = null;
     jLabelEducate = null;
     jPanel7 = null;
     jLabelPType = null;
     jTextFieldPType = null;
     jLabelLname = null;
     jPanelContact = null;
     jPanel4 = null;
     jLabelGender = null;
     jLabelAge = null;
     jPanel3 = null;
     jLabelBlood = null;
     jPanel5 = null;
     jPanel8 = null;
     jPanel18 = null;
     jComboBoxLabor = null;
     jComboBoxLabor53 = null;
     jPanel21 = null;
     jLabelFatherName = null;
     jPanel20 = null;
     jPanelGeneral = null;
     jPanelAddress = null;
     jTextFieldMotherFname = null;
     jTextFieldCoupleLname = null;
     cidMother = null;
     cidFather = null;
     jLabelReligion = null;
     jButtonSave = null;
     jPanel13 = null;
     jTextFieldFname = null;
     jTextFieldMotherLname = null;
     jLabelTypeArea = null;
     jLabelXN = null;
     jLabelPrivateDoctor = null;
     jPanelMoreDetail = null;
     jButtonPrintOPDCard = null;
     jPanelDetail = null;
     jComboBoxTypeArea = null;
     jTextFieldFatherLname = null;
     jLabelMotherName = null;
     jLabelPrename = null;
     jTextFieldFatherFname = null;
     jLabelRace = null;
     jComboBoxOccup = null;
     jLabelMarriage = null;
     pidPanel = null;
     jLabelFstatus = null;
     jLabelOccup = null;
     jLabelNation = null;
     jTabbedPane = null;
     jPanel2 = null;
     jPanel11 = null;
     cidCouple = null;
     jComboBoxEducate = null;
     jComboBoxMarriage = null;
     jLabelPid = null;
     jLabelLabor = null;
     jComboBoxGender = null;
     jComboBoxNation = null;
     jComboBoxRace = null;
     jComboBoxBlood = null;
     jLabelFname = null;
    }


    //ถ้าเป็น คำนำหน้าชื่อไม่ระบุ เด็กชาย เด็กหญิง หากอายุมากกว่า 14 ปีต้องเปลี่ยนคำนำหน้าชื่อเป็นนาย นางสาว
    //Prefix.BOY GIRL MAN WOMAN UNDEFINE MONK ... -> sex
    //Sex.MALE FEMALE
    //Age Over15 Under15 -> prefix
    //MStatus.SINGLE MONK ... -> prefix
    /**
     *
     * getSex(String prefix_id);
     * getPrefix(String sex_id,String age,String mstatus_id);
     *
     */
    private void setPatient(Patient pat)
    {
        this.jTextFieldHNVisit.setText("");
        thePatient = pat;
        if(thePatient==null){
            if(theHO.theFamily!=null){
                thePatient = theHO.initPatient(theHO.theFamily,theHO.theHome);
            }
            else{
                thePatient = theHO.initPatient();
            }
            jLabelHCIS.setText("HCIS");
        }
        String age = "";
        if(!thePatient.birthday.equals(""))
        {
            age = DateUtil.calculateAge(thePatient.birthday,date_time);
        }
        setBirthDateTrue(thePatient.true_birthday);
        Gutil.setGuiData(jComboBoxBlood,thePatient.bgroup);
        Gutil.setGuiData(jComboBoxEducate,thePatient.education);
        if(thePatient.fstatus.equals("1"))
            jRadioButtonOwner.setSelected(true);
        else
            jRadioButtonTenant.setSelected(true);
        Gutil.setGuiData(jComboBoxGender,thePatient.sex);
        dateComboBoxBirthDay.setText(DateUtil.convertFieldDate(thePatient.birthday));
        Gutil.setGuiData(jTextFieldAge,age);
        Gutil.setGuiData(jComboBoxLabor,thePatient.labor);
        Gutil.setGuiData(jComboBoxLabor53,thePatient.labor);
        Gutil.setGuiData(jComboBoxMarriage,thePatient.mstatus);
        Gutil.setGuiData(jComboBoxNation,thePatient.nation);
        Gutil.setGuiData(jComboBoxRace,thePatient.race);
        jComboBoxOccup.setText(thePatient.occupa);
        Gutil.setGuiData(jComboBoxReligion,thePatient.religion);
        Gutil.setGuiData(jComboBoxTypeArea,thePatient.typearea);
        Gutil.setGuiData(jTextFieldFname,thePatient.fname);
        Gutil.setGuiData(jTextFieldLname,thePatient.lname);
        if(theHO.theFamilyFather!=null){ 
            Family fam = theHO.theFamilyFather;
            Prefix2 p_father = theHC.theLookupControl.readPrefixById(fam.f_prefix_id);
            setTextFieldDE(jTextFieldFatherFname,p_father.getName() + fam.patient_name,false);
            setTextFieldDE(jTextFieldFatherLname,fam.patient_last_name,false);
            setTextFieldDE(cidFather,fam.pid,false);
        }else{
            setTextFieldDE(jTextFieldFatherFname,thePatient.father_fname,true);
            setTextFieldDE(jTextFieldFatherLname,thePatient.father_lname,true);
            setTextFieldDE(cidFather,thePatient.cid_f,true);
        }
        if(theHO.theFamilyMother!=null){
            Family fam = theHO.theFamilyMother;
            Prefix2 p_mother = theHC.theLookupControl.readPrefixById(fam.f_prefix_id);
            setTextFieldDE(jTextFieldMotherFname,p_mother.getName() + fam.patient_name,false);
            setTextFieldDE(jTextFieldMotherLname,fam.patient_last_name,false);
            setTextFieldDE(cidMother,fam.pid,false);
        }else{
            setTextFieldDE(jTextFieldMotherFname,thePatient.mother_fname,true);
            setTextFieldDE(jTextFieldMotherLname,thePatient.mother_lname,true);
            setTextFieldDE(cidMother,thePatient.cif_m,true);
        }
        if(theHO.theFamilyCouple!=null){
            Family fam = theHO.theFamilyCouple;
            Prefix2 p_couple = theHC.theLookupControl.readPrefixById(fam.f_prefix_id);
            setTextFieldDE(jTextFieldCoupleFname,p_couple.getName() + fam.patient_name,false);
            setTextFieldDE(jTextFieldCoupleLname,fam.patient_last_name,false);
            setTextFieldDE(cidCouple,fam.pid,false);
        }else{ 
            setTextFieldDE(jTextFieldCoupleFname,thePatient.couple_fname,true);
            setTextFieldDE(jTextFieldCoupleLname,thePatient.couple_lname,true);
            setTextFieldDE(cidCouple,thePatient.cid_couple,true);
        }
        Gutil.setGuiData(jTextFieldPrivateDoctor,thePatient.private_doc);
        Gutil.setGuiData(jTextFieldPType,thePatient.p_type);
        Gutil.setGuiData(jTextFieldXN,thePatient.xn);
        Gutil.setGuiData(jTextFieldHN,thePatient.hn);
        pidPanel.setText(thePatient.pid);
        jTextFieldPType.setText(thePatient.p_type);
        Gutil.setGuiData(jComboBoxContactSex,thePatient.sex_contact);
        if(thePatient.move_in.length()>15 && thePatient.move_in != null){
            String in = DateUtil.getDateToStringShort(DateUtil.getDateFromText(thePatient.move_in),false);
            Gutil.setGuiData(jLabelMoveIn,in);
            this.dateComboBoxCheck.setText(DateUtil.convertFieldDate(thePatient.move_in.substring(0,10)));
            this.timeTextFieldCheck.setText(thePatient.move_in.substring(11));
        }
        else{
            Gutil.setGuiData(jLabelMoveIn,"");
            this.dateComboBoxCheck.setText("");
            this.timeTextFieldCheck.setText("");
        }


        if(!thePatient.dischar.equals(""))
        {
            if(thePatient.getObjectId() == null)
            {
                Gutil.setGuiData(jLabelDischStatus,"");
            }
            else if(thePatient.dischar.equals("0"))
            {
                Gutil.setGuiData(jLabelDischStatus,Constant.getTextBundle("ยังมีชีวิตอยู่"));
            }
            else if(thePatient.dischar.equals("1"))
            {
                Gutil.setGuiData(jLabelDischStatus,Constant.getTextBundle("เสียชีวิตแล้ว"));
            }
        }
        if(thePatient.ddisch != null && !thePatient.ddisch.equals(""))
        {
            Date date = DateUtil.getDateFromText(thePatient.ddisch);
            String date2 = DateUtil.getDateToStringShort(date,false);
            Gutil.setGuiData(jLabelDischDate,date2);
        }
        else
        {
            Gutil.setGuiData(jLabelDischDate,"");
        }
        if(!thePatient.staff_record.equals(""))
            ComboboxModel.setCodeComboBox(jComboBoxEmployee,thePatient.staff_record);
        else
        {
            ComboboxModel.setCodeComboBox(jComboBoxEmployee,theHO.theEmployee.getObjectId());
        }
        Gutil.setGuiData(jTextFieldContactFname,thePatient.contact_fname);
        Gutil.setGuiData(jTextFieldContactLname,thePatient.contact_lname);
        jComboBoxPrename.setText(thePatient.prefix_id);

        //มันเคยอยู่ตรงนี้
        jCheckBoxOtherCountry.setSelected(thePatient.is_other_country.equals("1"));
        //ใช้วิธีนี้ไม่ได้เพราะว่าโปรแกรมควรจะ default เป็นที่อยู่รพไม่ใช่ที่ไหนก็ไม่รู้!
        //if(is_setnull)
        jComboBoxRelation.setText(thePatient.relation);
        if(true)
        {
            panelAddressPatient.setAddress(thePatient.house,thePatient.village
            ,thePatient.road,thePatient.phone,thePatient.mobile_phone
            ,thePatient.changwat, thePatient.ampur,thePatient.tambon
            ,thePatient.is_other_country,thePatient.other_address);
            panelAddressContact.setAddress(thePatient.house_contact,thePatient.village_contact
            ,thePatient.road_contact,thePatient.phone_contact,thePatient.contact_mobile_phone
            ,thePatient.changwat_contact, thePatient.ampur_contact,thePatient.tambon_contact);
        }
        else{
            panelAddressContact.reset();
            panelAddressPatient.reset();
        }
        if(theHO.theFamily!=null)
            jLabelHCIS.setText("HCIS:" + theHO.theFamily.hn_hcis);

        updateOGNcdV(vNCD);

        if(theHO.orderSecret != null && !theHO.orderSecret.equals(""))
            setReadAuthor(false);
        else
            setReadAuthor(true);
    }
/*private void setBirthDateTrue(String str){*/
    private void setBirthDateTrue(String str)
    {
        boolean bdate_true = Gutil.isSelected(str);
        jCheckBoxTrueBirthday.setSelected(bdate_true);
        dateComboBoxBirthDay.setEnabled(bdate_true);
        jTextFieldAge.setEnabled(!bdate_true);
    }

    private void getPatient(Patient thePatient)
    {
        if(thePatient==null)
        {
            thePatient = theHO.initPatient();
        }
        thePatient.cid_couple = cidCouple.getText();
        thePatient.cid_f = cidFather.getText();
        thePatient.cif_m = cidMother.getText();
        thePatient.bgroup = Gutil.getGuiData(jComboBoxBlood);
        thePatient.education = Gutil.getGuiData(jComboBoxEducate);
        if(jRadioButtonOwner.isSelected())
        {
            thePatient.fstatus = "1";
        }
        if(jRadioButtonTenant.isSelected())
        {
            thePatient.fstatus = "2";
        }
        thePatient.labor = Gutil.getGuiData(jComboBoxLabor);
        thePatient.labor = Gutil.getGuiData(this.jComboBoxLabor53);
        thePatient.nation = Gutil.getGuiData(jComboBoxNation);
        thePatient.occupa = jComboBoxOccup.getText();
        //กรณีไม่พบคำนำหน้าชื่อที่ผู้ใช้กรอก//////////////////////////
        thePatient.prefix_id = jComboBoxPrename.getText();
        thePatient.p_type = this.jTextFieldPType.getText();
        if(thePatient.prefix_id.equals("")){
            thePatient.prefix_id = "add:" + jComboBoxPrename.getDetail();
        }
        ///////////////////////////////////////////////////////
        thePatient.birthday = "";
//        Constant.println("thePatient.birthday"+dateComboBoxBirthDay.getText());
        if(jCheckBoxTrueBirthday.isSelected() || !jTextFieldAge.getText().equals(""))
        {
            thePatient.birthday = dateComboBoxBirthDay.getText();
//            Constant.println("thePatient.birthday"+thePatient.birthday);
        }
        thePatient.sex = Gutil.getGuiData(jComboBoxGender);
        thePatient.mstatus = Gutil.getGuiData(jComboBoxMarriage);
        thePatient.race = Gutil.getGuiData(jComboBoxRace);
        thePatient.religion = Gutil.getGuiData(jComboBoxReligion);
        thePatient.typearea = Gutil.getGuiData(jComboBoxTypeArea);
        thePatient.move_in = this.dateComboBoxCheck.getText() +","+ timeTextFieldCheck.getText();

        thePatient.couple_fname = Gutil.getGuiData(jTextFieldCoupleFname);
        thePatient.couple_lname = Gutil.getGuiData(jTextFieldCoupleLname);
        thePatient.father_fname = Gutil.getGuiData(jTextFieldFatherFname);
        thePatient.father_lname = Gutil.getGuiData(jTextFieldFatherLname);
        thePatient.fname = Gutil.getGuiData(jTextFieldFname);
        thePatient.lname = Gutil.getGuiData(jTextFieldLname);
        thePatient.mother_fname = Gutil.getGuiData(jTextFieldMotherFname);
        thePatient.mother_lname = Gutil.getGuiData(jTextFieldMotherLname);
        thePatient.private_doc = Gutil.getGuiData(jTextFieldPrivateDoctor);
        thePatient.p_type = Gutil.getGuiData(jTextFieldPType);
        thePatient.pid = pidPanel.getText();
        thePatient.relation = jComboBoxRelation.getText();
        thePatient.sex_contact = Gutil.getGuiData(jComboBoxContactSex);
        thePatient.staff_record = Gutil.getGuiData(jComboBoxEmployee);
        thePatient.xn = jTextFieldXN.getText();
        thePatient.hn = jTextFieldHN.getText();
//        thePatient.pid = pidPanel.getText();
        thePatient.contact_fname = Gutil.getGuiData(jTextFieldContactFname);
        thePatient.contact_lname = Gutil.getGuiData(jTextFieldContactLname);
        if(jCheckBoxTrueBirthday.isSelected())
            thePatient.true_birthday = "1";
        else
            thePatient.true_birthday = "0";
        if(!jCheckBoxOtherCountry.isSelected())
        {
            thePatient.changwat = panelAddressPatient.getChangwat();
            thePatient.tambon = panelAddressPatient.getTambon();
            thePatient.ampur = panelAddressPatient.getAmpur();
        }
        else
        {
            thePatient.changwat = "";
            thePatient.tambon = "";
            thePatient.ampur = "";
        }
        thePatient.changwat_contact = panelAddressContact.getChangwat();
        thePatient.ampur_contact = panelAddressContact.getAmpur();
        
        thePatient.tambon_contact = panelAddressContact.getTambon();
        thePatient.house = panelAddressPatient.getHouse();
        thePatient.house_contact = panelAddressContact.getHouse();
        thePatient.phone = panelAddressPatient.getPhone();
        thePatient.phone_contact = panelAddressContact.getPhone();
        thePatient.mobile_phone = panelAddressPatient.getMobile();
        thePatient.contact_mobile_phone = panelAddressContact.getMobile();
        thePatient.road = panelAddressPatient.getRoad();
        thePatient.road_contact = panelAddressContact.getRoad();
        thePatient.village = panelAddressPatient.getVillage();
        thePatient.village_contact = panelAddressContact.getVillage();
        thePatient.is_other_country = panelAddressPatient.isOtherCountry();
        thePatient.other_address = panelAddressPatient.getOtherCountry();
    }

    public void setLanguage(String msg)
    {
        GuiLang.setLanguage(jButtonActive);
        GuiLang.setLanguage(jButtonDelete);
        GuiLang.setLanguage(jButtonPrintOPDCard);
        GuiLang.setLanguage(jButtonReset);
        GuiLang.setLanguage(jButtonSave);
        GuiLang.setLanguage(jButtonSearchPatient);
        GuiLang.setLanguage(jCheckBoxOtherCountry);
        GuiLang.setLanguage(jCheckBoxTrueBirthday); 
        GuiLang.setLanguage(jLabel2);
        GuiLang.setLanguage(jLabel22);
        GuiLang.setLanguage(jLabel231);
        GuiLang.setLanguage(jLabel3);
        GuiLang.setLanguage(jLabel4);
        GuiLang.setLanguage(jLabel5);
        GuiLang.setLanguage(jLabel6);
        GuiLang.setLanguage(jLabel7);
        GuiLang.setLanguage(jLabel8);
        GuiLang.setLanguage(jLabelAge);
        GuiLang.setLanguage(jLabelBlood);
        GuiLang.setLanguage(jLabelContact);
        GuiLang.setLanguage(jLabelCoupleName);
        GuiLang.setLanguage(jLabelDischDate);
        GuiLang.setLanguage(jLabelDischStatus);
        GuiLang.setLanguage(jLabelEducate);
        GuiLang.setLanguage(jLabelFatherName);
        GuiLang.setLanguage(jLabelFname);
        GuiLang.setLanguage(jLabelFstatus);
        GuiLang.setLanguage(jLabelGender);
        GuiLang.setLanguage(jLabelLabor);
        GuiLang.setLanguage(jLabelLname);
        GuiLang.setLanguage(jLabelMarriage);
        GuiLang.setLanguage(jLabelMotherName);
        GuiLang.setLanguage(jLabelMoveIn);
        GuiLang.setLanguage(jLabelNation);
        GuiLang.setLanguage(jLabelOccup);
        GuiLang.setLanguage(jLabelPid);
        GuiLang.setLanguage(jLabelPrename);
        GuiLang.setLanguage(jLabelPrivateDoctor);
        GuiLang.setLanguage(jLabelPType);
        GuiLang.setLanguage(jLabelRace);
        GuiLang.setLanguage(jLabelReligion);
        GuiLang.setLanguage(jLabelTypeArea);
        GuiLang.setLanguage(jLabelXN);
        GuiLang.setLanguage(jPanel10);
        GuiLang.setLanguage(jPanel8);
        GuiLang.setLanguage(jPanelAddress);
        GuiLang.setLanguage(jPanelContact);
        GuiLang.setLanguage(jPanelGeneral);
        GuiLang.setLanguage(jRadioButtonOwner);
        GuiLang.setLanguage(jRadioButtonTenant);
        GuiLang.setLanguage(jTabbedPane);
        this.panelAddressContact.setLanguage(null);
        this.panelAddressPatient.setLanguage(null);
        // Somprasong
        GuiLang.setLanguage(jButtonSmartcard);
        GuiLang.setLanguage(jLabelSaveBy);
        GuiLang.setLanguage(jLabelLabor1);

    }
    public void setReadAuthor(boolean author)
    {
        this.jTabbedPane.setVisible(author);
        if(!author)
            this.setWriteAuthor(author);
    }
    public void setWriteAuthor(boolean author)
    {
        cidCouple.setEnabled(author);
        cidFather.setEnabled(author);
        cidMother.setEnabled(author);
        this.jRadioButtonOwner.setEnabled(author);
        this.jRadioButtonTenant.setEnabled(author);
        this.jButton1.setEnabled(author);
        this.jTextFieldXN.setEnabled(author);
        this.jButtonAddVital.setEnabled(author);
        this.jButtonDelVital.setEnabled(author);
        this.dateComboBoxCheck.setEnabled(author);
        this.timeTextFieldCheck.setEnabled(author);
        this.jButtonSearchPatient.setEnabled(author);
        this.jTextFieldHNVisit.setEnabled(author);
//        dateComboBoxBirthDay.setEnabled(author);
        //jButtonPrintOPDCard.setEnabled(author);
        jButtonReset.setEnabled(author);
        jButtonSave.setEnabled(author);
        jComboBoxBlood.setEnabled(author);
        jComboBoxEducate.setEnabled(author);
        jComboBoxGender.setEnabled(author);
        jComboBoxLabor.setEnabled(false);
        jComboBoxMarriage.setEnabled(author);
        jComboBoxNation.setEnabled(author);
        jComboBoxOccup.setEnabled(author);
        jComboBoxPrename.setEnabled(author);
        jComboBoxRace.setEnabled(author);
        jComboBoxReligion.setEnabled(author);
        jComboBoxTypeArea.setEnabled(author);
        jTextFieldAge.setEnabled(author);
        jTextFieldCoupleFname.setEnabled(author);
        jTextFieldCoupleLname.setEnabled(author);
        jTextFieldFatherFname.setEnabled(author);
        jTextFieldFatherLname.setEnabled(author);
        jTextFieldFname.setEnabled(author);
        jTextFieldLname.setEnabled(author);
        jTextFieldMotherFname.setEnabled(author);
        jTextFieldMotherLname.setEnabled(author);
        jTextFieldPrivateDoctor.setEnabled(author);
        jTextFieldPType.setEnabled(author);
        pidPanel.setEnabled(author);
        panelAddressContact.setEnabled(author);
        panelAddressPatient.setEnabled(author);
        jComboBoxRelation.setEnabled(author);
        jComboBoxContactSex.setEnabled(author);
        jButtonDelete.setEnabled(author);
        jComboBoxLabor53.setEnabled(author);
        // Somprasong
        jButtonSmartcard.setEnabled(author);
    }
    public void updatePatientByPID()
    {
        Constant.println("public void updatePatientByPID()");
        String pid = pidPanel.getText();
        if(!pid.equals("") && pid.length()==13 && thePatient.getObjectId()==null)
        {
            Family family = theHC.thePatientControl.readFamilyByPid(pid);
            if(family != null)
            {
                theHD.showDialogSearchPatient("","","",pidPanel.getText());
            }
            else
            {
                Vector patient_v = theHC.thePatientControl.listPatientByPID(pidPanel.getText());
                if(patient_v!=null && !patient_v.isEmpty())
                    theHD.showDialogSearchPatient("","","",pidPanel.getText());
            }
        }
    }
    public void notifyManageAppointment(String str, int status) {
    }

    public void notifyManageDrugAllergy(String str, int status) {
    }

    public void notifySavePatientPayment(String str, int status) {
    }

    public void notifyCheckDoctorTreament(String str, int status) {
    }

    public void notifyReadVisit(String str, int status) {
        vNCD = theHO.vNCD;
        setPatient(theHO.thePatient);
        //henbe comment 100253 ton การบันทึกอายุในฐานข้อมูลจะต้องทำใน control บันทึกคนไข้
        //หรืออะไรก็แล้วแต่จะต้องมาจากฟังชันหลักไม่ใช่ notify อย่างนี้
    }

    public void notifyObservVisit(String str, int status) {
    }

    public void notifyUnlockVisit(String str, int status) {
        vNCD = theHO.vNCD;
        setPatient(theHO.thePatient);
    }

    public void notifyVisitPatient(String str, int status) {
        vNCD = theHO.vNCD;
        setPatient(theHO.thePatient);
        
    }

    public void notifyAdmitVisit(String str, int status) {
    }

    public void notifyDischargeDoctor(String str, int status) {
        vNCD = theHO.vNCD;
        setPatient(theHO.thePatient);

    }

    public void notifyAddItemDrugAllergy(String str, int status) {
    }

    public void notifyDropVisit(String str, int status) {
        vNCD = theHO.vNCD;
        setPatient(theHO.thePatient);
    }

    public void notifySendVisit(String str, int status) {
        vNCD = theHO.vNCD;
        setPatient(theHO.thePatient);
    }

    public void notifyDischargeFinancial(String str, int status) {
        vNCD = null;
        setPatient(null);
    }

    public void notifyManagePayment(String str, int status) {
    }

    public void notifyReverseFinancial(String str, int status) {
    }

    public void notifyReverseDoctor(String str, int status) {
    }

    public void notifyDeletePatientPayment(String str, int status) {
    }

    public void notifyDeleteVisitPayment(String str, int status) {
    }
    public void notifyAddDxTemplate(String str, int status) {
    }

    public void notifyReadPatient(String str, int status) {
        vNCD = theHO.vNCD;
        setPatient(theHO.thePatient);
//        String age = DateUtil.calculateAge(thePatient.birthday,date_time);
//        if((!age.equals("")) && Integer.parseInt(age) == 15)
//        {
//            if(Gutil.getGuiData(jComboBoxPrename).equals("001"))
//            {
//                Gutil.setGuiData(jComboBoxPrename,"003");
//                jButtonSaveActionPerformed(null);
//            }
//            else if(Gutil.getGuiData(jComboBoxPrename).equals("002"))
//            {
//                Gutil.setGuiData(jComboBoxPrename,"004");
//                jButtonSaveActionPerformed(null);
//            }
//        }
    }
    public void notifyReadFamily(String str, int status) {
        vNCD = theHO.vNCD;
        setPatient(theHO.initPatient(theHO.theFamily,theHO.theHome));
    }
    public void notifyDeletePatient(String str, int status) {
        vNCD = theHO.vNCD;
        setPatient(theHO.thePatient);
    }

    public void notifySavePatient(String str, int status) {
        vNCD = theHO.vNCD;
        setPatient(theHO.thePatient);
    }

    public void notifyRemainDoctorDischarge(String str, int status) {
        vNCD = theHO.vNCD;
        setPatient(theHO.thePatient);
    }

    public void notifySendVisitBackWard(String str, int status) {
        vNCD = theHO.vNCD;
        setPatient(theHO.thePatient);
    }

    public void notifySaveAppointment(String str, int status) {
    }

    public void notifyReveseAdmit(String str, int status) {
    }

    public void notifyReverseAdmit(String str, int status) {
    }

    public void notifyResetPatient(String str, int status) {
        vNCD = theHO.vNCD;
        setPatient(theHO.initPatient());
    }

    public void notifyAddLabReferIn(String str, int status) {
    }

    public void notifyAddLabReferOut(String str, int status) {
    }

    public void notifyDeleteFilmXray(String str, int status) {
    }

    public void notifyDeleteLabOrder(String str, int status) {
    }

    public void notifyDeleteLabResult(String str, int status) {
    }

    public void notifyDeleteResultXray(String str, int status) {
    }

    public void notifyDeleteXrayPosition(String str, int status) {
    }

    public void notifyManagePatientLabReferIn(String str, int status) {
    }

    public void notifyReportResultLab(String str, int status) {
    }

    public void notifySaveFilmXray(String str, int status) {
    }

    public void notifySaveLabResult(String str, int status) {
    }

    public void notifySaveRemainLabResult(String str, int status) {
    }

    public void notifySaveResultXray(String str, int status) {
    }

    public void notifySaveXrayPosition(String str, int status) {
    }

    public void notifySendResultLab(String str, int status) {

    }

    public void notifyXrayReportComplete(String str, int status) {
        vNCD = theHO.vNCD;
        setPatient(theHO.thePatient);
    }

    public void notifyDeleteQueueLab(String str, int status) {
        vNCD = theHO.vNCD;
        setPatient(theHO.thePatient);
    }
    public void notifySaveBorrowFilmXray(String str, int status) {
    }
    //******************************** Somprasong Read SmartCard ***********************************
    /**
     * ต้องเปลี่ยนชื่อ
     * @param smartCardControl
     */
    public void setSmartCardData() {
        if (theSMCC == null) {
            System.err.println("SMART CARD READER ERROR!");
            return;
        }
        String str_pid = theSMCC.getPID();
//        String lat = "";
//        String lng = "";
        //check กับ db ก่อน ถ้าไม่มีคือผู้ป่วยใหม่
        Vector vPatient = theHC.thePatientControl.listPatientByPID(str_pid);
        if (!vPatient.isEmpty()) {
            Patient pt = (Patient) vPatient.get(0);
            if (pt.getObjectId() != null) {
                theHC.thePatientControl.readPatientByPatientID(pt.getObjectId());
            } else {
                theHC.thePatientControl.readFamilyByFamilyId(pt.family_id);
            }
            return;
        }
        //ผู้ป่วยใหม่ อ่านค่าจากบัตรมาให้
        String str_title = (theSMCC.getThaiTitleName());
        String str_fname = (theSMCC.getThaiFirstName());
        String str_lname = (theSMCC.getThaiLastName());
        String str_dob = (theSMCC.getDOB("yyyy-MM-dd", theSMCC.LOCALE_TH));
        String str_age = (theSMCC.getAgeYear() + "");
        String str_age_month = (theSMCC.getAgeMonth() + "");
        String str_addrNo = (theSMCC.getAddressNo());
        String str_addrMoo = (theSMCC.getAddressMoo());
        String str_addrSoi = (theSMCC.getAddressSoi());
        String str_addrRoad = (theSMCC.getAddressRoad());
        String str_addrTumbol = (theSMCC.getAddressTumbon());
        String str_addrAmphur = (theSMCC.getAddressAmphur());
        String str_addrChangwat = (theSMCC.getAddressChangwat());
//        String str_sexId = (theSMCC.getSexID().equals("") ? "0" : theSMCC.getSexID());
//        try {
//            Image image = (theSMCC.getFacesImage(theSMCC.WIDTH, theSMCC.HEIGTH));
////                File output = new File(picPath + "/" + str_pid + ".jpg");
////                ImageUtil.saveImage(image, output, ImageUtil.JPG);
//////                BufferedImage bi = new BufferedImage(image.getWidth(null), image.getHeight(null), BufferedImage.TYPE_INT_RGB);
//////                Graphics2D graphics2D = bi.createGraphics();
//////                graphics2D.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);
//////                graphics2D.drawImage(image, 0, 0, theSMCC.WIDTH, theSMCC.HEIGTH, null);
//////                File output = new File(picPath + "/" + str_pid + ".jpg");
//////                ImageIO.write(bi, "jpg", output);
//            } catch (Exception ex) {
//            ex.printStackTrace();
//        }
//        String main_right = theSMCC.getNHSOMainRights();
//        String sub_right = theSMCC.getNHSOSubRights();
//        String main_hos = theSMCC.getNHSOMainHospitalsName();
//        String sub_hos = theSMCC.getNHSOSubHospitalsName();
//        String issue_date = theSMCC.getNHSOFormattedDateOfIssue();
//        String exp_date = theSMCC.getNHSOFormattedDateOfExpirey();
//        String update_date = theSMCC.getNHSOFormattedUpdateDate();
//        String change_amount = theSMCC.getNHSOChangeHospitalAmount();
//
//        String nhso =
//                "สิทธิหลัก : " + main_right.trim() + "\n" +
//                "สิทธิรอง : " + sub_right.trim() + "\n" +
//                "ชื่อสถานบริการหลัก : " + main_hos.trim() + "\n" +
//                "ชื่อสถานบริการรอง : " + sub_hos.trim() + "\n" +
//                "วันที่ออกบัตรรับรองสิทธิ : " + issue_date.trim() + "\n" +
//                "วันที่บัตรรับรองสิทธิหมดอายุ : " + exp_date.trim() + "\n" +
//                "วันที่ปรับปรุงข้อมูล : " + update_date.trim() + "\n" +
//                "จำนวนครั้งที่เปลี่ยนหน่วยบริการ : " + change_amount.trim();
        //------------------ Set value to GUI
        Prefix prefix = theHC.theLookupControl.readPrefixByName(str_title);
        jComboBoxPrename.setText(prefix.getCode());
        Gutil.setGuiData(jTextFieldFname, str_fname);
        Gutil.setGuiData(jTextFieldLname, str_lname);
        pidPanel.setText(str_pid);
        Gutil.setGuiData(jComboBoxGender, prefix.sex);
        setBirthDateTrue("1");
        dateComboBoxBirthDay.setText(DateUtil.convertFieldDate(str_dob));
        Gutil.setGuiData(jTextFieldAge, str_age);
        Vector vAddress = theHC.thePatientControl.getAddressBySMC(theSMCC);
        if (!vAddress.isEmpty()) {
            Address c_addr = (Address) vAddress.get(0);
            Address a_addr = (Address) vAddress.get(1);
            Address t_addr = (Address) vAddress.get(2);
            // address
            panelAddressPatient.setAddress(
                    str_addrNo,
                    str_addrMoo,
                    str_addrRoad,
                    "",
                    "",
                    c_addr == null ? "" : c_addr.getCode(),
                    a_addr == null ? "" : a_addr.getCode(),
                    t_addr == null ? "" : t_addr.getCode(),
                    "0",
                    "");
        }
    }

}
