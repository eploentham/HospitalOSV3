/*
 * SetupFamilyHistoryTemplate.java
 *
 * Created on 29 ตุลาคม 2546, 14:23 น.
 */
package com.hosv3.gui.component.nan;

import java.awt.*;
import java.awt.event.*;
import javax.swing.*;
import javax.swing.event.*;
import javax.swing.table.*;
import java.util.Vector;
import java.util.*;

import com.hosv3.usecase.setup.*;
import com.hosv3.control.*;
import com.hosv3.subject.*;
import com.hosv3.utility.connection.*;
import com.hosv3.utility.*;
import com.hosv3.object.*;
//import com.hosv3.object.nan.*;
import com.hosv3.gui.*;

import com.hospital_os.usecase.connection.ConnectionInf;
import com.hospital_os.utility.ComboboxModel;
import com.hospital_os.utility.Gutil;
import com.hospital_os.utility.TaBleModel;
import com.hospital_os.object.*;
/**
 *
 * @panel author : amp
 *
 *
 *
 *@author by  : pee
 */
public class PanelSFamilyHistoryTemplate extends javax.swing.JPanel
{
    UpdateStatus theUS;
   public FamilyHistoryTemplate theFamilyHistoryTemplate = new FamilyHistoryTemplate();
   public Vector vFamilyHistoryTemplate;
   
   public SetupControl theSetupControl;
   public LookupControl theLookupControl;
   String[] col = {GuiLang.setLanguage("ชื่อโรค")};
   
    /** Creates new form SetupFamilyHistoryTemplate */
    public PanelSFamilyHistoryTemplate() {
        initComponents();
    }
    public PanelSFamilyHistoryTemplate(HosControl hc,UpdateStatus us){
        initComponents();
	setControl(hc,us);
    }
    ////////////////////////////////////////	
    public void setControl(HosControl hc,UpdateStatus us){
        theUS = us;
        theSetupControl = hc.theSetupControl;
        theLookupControl = hc.theLookupControl;
        setupLookup();
        setLanguage();
    }
     public void setupLookup(){
     }
    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    // <editor-fold defaultstate="collapsed" desc=" Generated Code ">//GEN-BEGIN:initComponents
    private void initComponents() {
        java.awt.GridBagConstraints gridBagConstraints;

        defaultFont1 = new com.hospital_os.gui.font.DefaultFont();
        fontFormatTitle1 = new com.hospital_os.gui.font.FontFormatTitle();
        jTextFieldKeyword = new javax.swing.JTextField();
        jScrollPane1 = new javax.swing.JScrollPane();
        jTable1 = new javax.swing.JTable();
        jButtonAdd = new javax.swing.JButton();
        jButtonDel = new javax.swing.JButton();

        setLayout(new java.awt.GridBagLayout());

        setBorder(new javax.swing.border.TitledBorder("\u0e1b\u0e23\u0e30\u0e27\u0e31\u0e15\u0e34\u0e04\u0e23\u0e2d\u0e1a\u0e04\u0e23\u0e31\u0e27"));
        jTextFieldKeyword.setMaximumSize(new java.awt.Dimension(150, 24));
        jTextFieldKeyword.setMinimumSize(new java.awt.Dimension(45, 24));
        jTextFieldKeyword.setPreferredSize(new java.awt.Dimension(45, 24));
        jTextFieldKeyword.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextFieldKeywordActionPerformed(evt);
            }
        });
        jTextFieldKeyword.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                jTextFieldKeywordKeyReleased(evt);
            }
        });

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.gridwidth = 2;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(1, 1, 1, 1);
        add(jTextFieldKeyword, gridBagConstraints);

        jScrollPane1.setMinimumSize(new java.awt.Dimension(100, 80));
        jScrollPane1.setPreferredSize(new java.awt.Dimension(100, 80));
        jTable1.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                jTable1KeyReleased(evt);
            }
        });
        jTable1.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseReleased(java.awt.event.MouseEvent evt) {
                jTable1MouseReleased(evt);
            }
        });

        jScrollPane1.setViewportView(jTable1);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.gridwidth = 2;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(1, 1, 1, 1);
        add(jScrollPane1, gridBagConstraints);

        jButtonAdd.setText("+");
        jButtonAdd.setMargin(new java.awt.Insets(0, 0, 0, 0));
        jButtonAdd.setMinimumSize(new java.awt.Dimension(26, 26));
        jButtonAdd.setPreferredSize(new java.awt.Dimension(26, 26));
        jButtonAdd.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonAddActionPerformed(evt);
            }
        });
        jButtonAdd.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                jButtonAddKeyReleased(evt);
            }
        });

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 2;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
        gridBagConstraints.insets = new java.awt.Insets(1, 1, 1, 1);
        add(jButtonAdd, gridBagConstraints);

        jButtonDel.setText("-");
        jButtonDel.setMargin(new java.awt.Insets(0, 0, 0, 0));
        jButtonDel.setMinimumSize(new java.awt.Dimension(26, 26));
        jButtonDel.setPreferredSize(new java.awt.Dimension(26, 26));
        jButtonDel.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonDelActionPerformed(evt);
            }
        });
        jButtonDel.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                jButtonDelKeyReleased(evt);
            }
        });

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 2;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.insets = new java.awt.Insets(1, 1, 1, 1);
        add(jButtonDel, gridBagConstraints);

    }
    // </editor-fold>//GEN-END:initComponents

    private void jButtonAddActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonAddActionPerformed
        jTextFieldKeywordActionPerformed(null);
    }//GEN-LAST:event_jButtonAddActionPerformed

    private void jButtonDelKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jButtonDelKeyReleased
//        theSetupControl.deleteFamilyHistoryTemplate(getFamilyHistoryTemplate());
    }//GEN-LAST:event_jButtonDelKeyReleased

    private void jButtonAddKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jButtonAddKeyReleased

    }//GEN-LAST:event_jButtonAddKeyReleased

    private void jTextFieldKeywordKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jTextFieldKeywordKeyReleased
        if(evt.getKeyCode()==evt.VK_UP || evt.getKeyCode()==evt.VK_DOWN)
            jTable1.requestFocus();
        else {
//            Vector vList = theLookupControl.listFamilyHistoryTemplate(jTextFieldKeyword.getText());
//            setFamilyHistoryTemplate(vList);
        }        
    }//GEN-LAST:event_jTextFieldKeywordKeyReleased

    private void jTable1KeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jTable1KeyReleased
        if(evt.getKeyCode()==evt.VK_UP || evt.getKeyCode()==evt.VK_DOWN)
            jTable1MouseReleased(null);
        else if(evt.getKeyCode()==evt.VK_INSERT)
            jButtonAddActionPerformed(null);
        else if(evt.getKeyCode()==evt.VK_DELETE)
            jButtonDelActionPerformed(null);
    }//GEN-LAST:event_jTable1KeyReleased

    private void jTextFieldKeywordActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTextFieldKeywordActionPerformed
        FamilyHistoryTemplate dt = new FamilyHistoryTemplate();
        dt.name = jTextFieldKeyword.getText();
//        theSetupControl.saveFamilyHistoryTemplate(dt);
        jTextFieldKeyword.setText("");
//        Vector vList = theLookupControl.listFamilyHistoryTemplate(jTextFieldKeyword.getText());
//        setFamilyHistoryTemplate(vList);
    }//GEN-LAST:event_jTextFieldKeywordActionPerformed

    private void jButtonDelActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonDelActionPerformed
//         this.theSetupControl.deleteFamilyHistoryTemplate(getFamilyHistoryTemplate());
//         Vector vList = theLookupControl.listFamilyHistoryTemplate(jTextFieldKeyword.getText());
//         setFamilyHistoryTemplate(vList);
    }//GEN-LAST:event_jButtonDelActionPerformed

    private void jTable1MouseReleased(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jTable1MouseReleased

    }//GEN-LAST:event_jTable1MouseReleased
    /** Exit the Application */
    private void exitForm(java.awt.event.WindowEvent evt) {//GEN-FIRST:event_exitForm
        System.exit(0);
    }//GEN-LAST:event_exitForm

    public FamilyHistoryTemplate getFamilyHistoryTemplate()
    {
        int row = this.jTable1.getSelectedRow();
        FamilyHistoryTemplate dt = (FamilyHistoryTemplate)vFamilyHistoryTemplate.get(row);
        return dt;
    }

    public void setFamilyHistoryTemplate(Vector voffice)
    {
        vFamilyHistoryTemplate = voffice;
        if(vFamilyHistoryTemplate==null)
            vFamilyHistoryTemplate = new Vector();
        TaBleModel tm = new TaBleModel(col,vFamilyHistoryTemplate.size());
        for(int i=0,size=vFamilyHistoryTemplate.size();i<size;i++)
        {
            FamilyHistoryTemplate pp = (FamilyHistoryTemplate)vFamilyHistoryTemplate.get(i);   
            tm.setValueAt(pp.name,i,0);    
        }
        jTable1.setModel(tm);
    } 
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private com.hospital_os.gui.font.DefaultFont defaultFont1;
    private com.hospital_os.gui.font.FontFormatTitle fontFormatTitle1;
    protected javax.swing.JButton jButtonAdd;
    protected javax.swing.JButton jButtonDel;
    protected javax.swing.JScrollPane jScrollPane1;
    protected javax.swing.JTable jTable1;
    protected javax.swing.JTextField jTextFieldKeyword;
    // End of variables declaration//GEN-END:variables

    /**
     *@Author : amp
     *@date : 29/02/2549
     *@see : จัดการเกี่ยวกับภาษา    
     */
    private void setLanguage()
    {
    }
    public static void main(String args[])
    {
//        JFrame frm = new JFrame("Test");
//        HosControl hc = new HosControl();
//        PanelSetupTemplate pnl = new PanelSetupTemplate();
//        pnl.setControl(hc, new com.hosv3.gui.frame.FrameMain());
//        hc.setUpdateStatus(new com.hosv3.gui.frame.FrameMain());
//        frm.getContentPane().add(pnl);
//        frm.addWindowListener(new WindowAdapter()
//        {   public void windowClosing(WindowEvent e)
//            {    System.exit(0);
//            }
//        });
//        frm.setSize(600,400);
//        frm.pack();
//        frm.setVisible(true);
    } 

}
