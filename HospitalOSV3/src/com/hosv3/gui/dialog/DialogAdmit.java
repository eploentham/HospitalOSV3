/* * DialogAdmit.java * * Created on 8 ????????? 2546, 14:14 ?. */package com.hosv3.gui.dialog;import com.hosv3.utility.Constant;import java.util.*;import java.awt.*;import com.hosv3.control.*;import com.hosv3.utility.connection.*;import com.hosv3.utility.*;import com.hosv3.object.*;import com.hospital_os.utility.TaBleModel;import com.hospital_os.object.*;import com.hospital_os.utility.ComboboxModel;import com.hospital_os.utility.CellRendererHos;/** * * @author  tong *  * @author ekapop * 1.  60-10-23 เรื่อง ห้อง     Hospital OS เข้าใจว่า ไม่มีห้อง * Modify doc 6. */public class DialogAdmit extends javax.swing.JDialog{    HosControl theHC;    HosObject theHO;    HosDialog theHD;        //+1    public boolean actionCommand = false;    LookupControl theLookupControl;    VisitControl theVisitControl;    Visit theVisit;    String[] columnHeader = {"AN","Admit"};    Vector vReverseAdmit;    CellRendererHos vnRender = new CellRendererHos(CellRendererHos.VN);    CellRendererHos datetimeRender = new CellRendererHos(CellRendererHos.DATE_TIME);    /** Creates new form DialogAdmit */    public DialogAdmit(HosControl hc,UpdateStatus us)    {        super(us.getJFrame(),true);        theHC = hc;        theHO = hc.theHO;        theLookupControl = hc.theLookupControl;        theVisitControl = hc.theVisitControl;    vnRender = new CellRendererHos(CellRendererHos.VN,theLookupControl.getSequenceDataVN().pattern);        initComponents();        setLanguage("");        setTitle(Constant.getTextBundle("Admit"));                jButtonBed.setVisible(true);            //+1        integerTextFieldBed.setEnabled(false);            //+1        jComboBoxWard.setEnabled(false);            //+1        jComboBoxRoom.setEnabled(false);            //+1        jComboBoxBed.setEnabled(false);            //+1            }    public void setDialog(HosDialog hd){        theHD = hd;    }    public void setLanguage(String msg)    {        GuiLang.setLanguage(jLabel1);        GuiLang.setLanguage(jLabel2);        GuiLang.setLanguage(jLabel3);        GuiLang.setLanguage(jLabelClinic);        GuiLang.setLanguage(jLabelWard1);        GuiLang.setLanguage(jLabelBed);        GuiLang.setLanguage(jButtonCancel);        GuiLang.setLanguage(jButtonSave);        GuiLang.setLanguage(columnHeader);        GuiLang.setLanguage(jButtonCancelANNumber);         GuiLang.setLanguage(jLabelWard);        GuiLang.setTextBundle(jPanel3);        GuiLang.setTextBundle(jPanel4);    }           private void setDataAll()    {        integerTextFieldBed.setText("");        ComboboxModel.initComboBox(jComboBoxClinic, theLookupControl.listClinic());        ComboboxModel.initComboBox(jComboBoxWard, theLookupControl.listWard());        ComboboxModel.initComboBox(jComboBoxDoctor, theLookupControl.listDoctor());        dateComboBoxDischargeDate.setText(DateUtil.convertFieldDate(theHO.date_time.substring(0,10)));        timeTextFieldDischargeTime.setText(theHO.date_time.substring(11));        if(theVisit.admit_clinic != null)        {               if( !theVisit.admit_clinic.equals(""))            {                ComboboxModel.setCodeComboBox(jComboBoxClinic, theVisit.admit_clinic);                ComboboxModel.setCodeComboBox(jComboBoxWard, theVisit.ward);                Vector vRoom = theHC.theSetupControl.listRoomByWard(theVisit.ward);            //+1                ComboboxModel.initComboBox(jComboBoxRoom, vRoom);            //+1                                integerTextFieldBed.setText(theVisit.bed);                ComboboxModel.setCodeComboBox(jComboBoxDoctor, theVisit.visit_patient_self_doctor);                String time = theVisit.begin_admit_time;                dateComboBoxDischargeDate.setText(DateUtil.convertFieldDate(time.substring(0,10)));                timeTextFieldDischargeTime.setText(time.substring(11));                                ComboboxModel.setCodeComboBox(jComboBoxRoom, theVisit.bVisitRoomId);            //+1                Vector vBed = theHC.theSetupControl.listBedByRoom(theVisit.bVisitRoomId);            //+1                ComboboxModel.initComboBox(jComboBoxBed, vBed);            //+1                ComboboxModel.setCodeComboBox(jComboBoxBed, theVisit.bVisitBedId);            //+1            }        }        else ComboboxModel.setCodeComboBox(jComboBoxDoctor,theHO.theEmployee.getObjectId());    }        /** This method is called from within the constructor to     * initialize the form.     * WARNING: Do NOT modify this code. The content of this method is     * always regenerated by the Form Editor.     */    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents    private void initComponents() {        java.awt.GridBagConstraints gridBagConstraints;        jPanel4 = new javax.swing.JPanel();        jScrollPane1 = new javax.swing.JScrollPane();        jTable1 = new com.hosv3.gui.component.HJTableSort();        jButtonCancelANNumber = new javax.swing.JButton();        jLabel1 = new javax.swing.JLabel();        jPanel3 = new javax.swing.JPanel();        jLabelClinic = new javax.swing.JLabel();        jLabelWard = new javax.swing.JLabel();        jLabelBed = new javax.swing.JLabel();        jComboBoxClinic = new javax.swing.JComboBox();        jComboBoxWard = new javax.swing.JComboBox();        integerTextFieldBed = new javax.swing.JTextField();        jComboBoxDoctor = new javax.swing.JComboBox();        jLabelWard1 = new javax.swing.JLabel();        jPanel5 = new javax.swing.JPanel();        jLabel2 = new javax.swing.JLabel();        dateComboBoxDischargeDate = new com.hospital_os.utility.DateComboBox();        jLabel3 = new javax.swing.JLabel();        timeTextFieldDischargeTime = new com.hospital_os.utility.TimeTextField();        jButtonBed = new javax.swing.JButton();        jLabelBed2 = new javax.swing.JLabel();        jLabelBed1 = new javax.swing.JLabel();        jComboBoxRoom = new javax.swing.JComboBox();        jComboBoxBed = new javax.swing.JComboBox();        jPanel2 = new javax.swing.JPanel();        jButtonSave = new javax.swing.JButton();        jButtonCancel = new javax.swing.JButton();        addWindowListener(new java.awt.event.WindowAdapter() {            public void windowClosing(java.awt.event.WindowEvent evt) {                closeDialog(evt);            }        });        getContentPane().setLayout(new java.awt.GridBagLayout());        jPanel4.setLayout(new java.awt.GridBagLayout());        jScrollPane1.setViewportView(jTable1);        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 0;        gridBagConstraints.gridy = 1;        gridBagConstraints.gridwidth = 2;        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;        gridBagConstraints.weightx = 1.0;        gridBagConstraints.weighty = 1.0;        jPanel4.add(jScrollPane1, gridBagConstraints);        jButtonCancelANNumber.setText("-");        jButtonCancelANNumber.setMargin(new java.awt.Insets(2, 2, 2, 2));        jButtonCancelANNumber.setMinimumSize(new java.awt.Dimension(25, 25));        jButtonCancelANNumber.setPreferredSize(new java.awt.Dimension(25, 25));        jButtonCancelANNumber.addActionListener(new java.awt.event.ActionListener() {            public void actionPerformed(java.awt.event.ActionEvent evt) {                jButtonCancelANNumberActionPerformed(evt);            }        });        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 1;        gridBagConstraints.gridy = 0;        gridBagConstraints.anchor = java.awt.GridBagConstraints.SOUTHEAST;        jPanel4.add(jButtonCancelANNumber, gridBagConstraints);        jLabel1.setText("AN ที่ถูกยกเลิก");        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 0;        gridBagConstraints.gridy = 0;        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;        jPanel4.add(jLabel1, gridBagConstraints);        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 0;        gridBagConstraints.gridy = 0;        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.weightx = 1.0;        gridBagConstraints.weighty = 1.0;        gridBagConstraints.insets = new java.awt.Insets(5, 5, 0, 5);        getContentPane().add(jPanel4, gridBagConstraints);        jPanel3.setBorder(javax.swing.BorderFactory.createTitledBorder("รายละเอียดการ Admit"));        jPanel3.setLayout(new java.awt.GridBagLayout());        jLabelClinic.setText("Clinic");        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 0;        gridBagConstraints.gridy = 1;        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;        gridBagConstraints.insets = new java.awt.Insets(0, 5, 0, 0);        jPanel3.add(jLabelClinic, gridBagConstraints);        jLabelWard.setText("โดยแพทย์");        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 0;        gridBagConstraints.gridy = 2;        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;        gridBagConstraints.insets = new java.awt.Insets(0, 5, 0, 0);        jPanel3.add(jLabelWard, gridBagConstraints);        jLabelBed.setText("BED");        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 0;        gridBagConstraints.gridy = 3;        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;        gridBagConstraints.insets = new java.awt.Insets(0, 5, 0, 0);        jPanel3.add(jLabelBed, gridBagConstraints);        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 1;        gridBagConstraints.gridy = 1;        gridBagConstraints.gridwidth = 2;        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;        gridBagConstraints.weightx = 1.0;        gridBagConstraints.insets = new java.awt.Insets(0, 5, 0, 5);        jPanel3.add(jComboBoxClinic, gridBagConstraints);        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 1;        gridBagConstraints.gridy = 4;        gridBagConstraints.gridwidth = 2;        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;        gridBagConstraints.weightx = 1.0;        gridBagConstraints.insets = new java.awt.Insets(0, 5, 5, 5);        jPanel3.add(jComboBoxWard, gridBagConstraints);        integerTextFieldBed.setHorizontalAlignment(javax.swing.JTextField.TRAILING);        integerTextFieldBed.setMinimumSize(new java.awt.Dimension(50, 21));        integerTextFieldBed.setPreferredSize(new java.awt.Dimension(50, 21));        integerTextFieldBed.addActionListener(new java.awt.event.ActionListener() {            public void actionPerformed(java.awt.event.ActionEvent evt) {                integerTextFieldBedActionPerformed(evt);            }        });        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 1;        gridBagConstraints.gridy = 3;        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;        gridBagConstraints.weightx = 1.0;        gridBagConstraints.insets = new java.awt.Insets(0, 5, 0, 5);        jPanel3.add(integerTextFieldBed, gridBagConstraints);        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 1;        gridBagConstraints.gridy = 2;        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;        gridBagConstraints.weightx = 1.0;        gridBagConstraints.insets = new java.awt.Insets(0, 5, 0, 5);        jPanel3.add(jComboBoxDoctor, gridBagConstraints);        jLabelWard1.setText("Ward");        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 0;        gridBagConstraints.gridy = 4;        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;        gridBagConstraints.insets = new java.awt.Insets(0, 5, 5, 0);        jPanel3.add(jLabelWard1, gridBagConstraints);        jPanel5.setBackground(new java.awt.Color(204, 255, 204));        jPanel5.setLayout(new java.awt.GridBagLayout());        jLabel2.setText("วันที่ ADMIT");        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;        gridBagConstraints.insets = new java.awt.Insets(3, 5, 0, 0);        jPanel5.add(jLabel2, gridBagConstraints);        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.fill = java.awt.GridBagConstraints.VERTICAL;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(3, 5, 0, 0);        jPanel5.add(dateComboBoxDischargeDate, gridBagConstraints);        jLabel3.setText("เวลา");        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;        gridBagConstraints.insets = new java.awt.Insets(3, 5, 0, 0);        jPanel5.add(jLabel3, gridBagConstraints);        timeTextFieldDischargeTime.setMinimumSize(new java.awt.Dimension(40, 21));        timeTextFieldDischargeTime.setPreferredSize(new java.awt.Dimension(40, 21));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.fill = java.awt.GridBagConstraints.VERTICAL;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(3, 3, 0, 5);        jPanel5.add(timeTextFieldDischargeTime, gridBagConstraints);        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 0;        gridBagConstraints.gridy = 0;        gridBagConstraints.gridwidth = 3;        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.weightx = 1.0;        gridBagConstraints.weighty = 1.0;        jPanel3.add(jPanel5, gridBagConstraints);        jButtonBed.setText("เลือกเตียง");        jButtonBed.addActionListener(new java.awt.event.ActionListener() {            public void actionPerformed(java.awt.event.ActionEvent evt) {                jButtonBedActionPerformed(evt);            }        });        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 2;        gridBagConstraints.gridy = 3;        jPanel3.add(jButtonBed, gridBagConstraints);        jLabelBed2.setText("Room");        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 0;        gridBagConstraints.gridy = 7;        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;        gridBagConstraints.insets = new java.awt.Insets(0, 5, 0, 0);        jPanel3.add(jLabelBed2, gridBagConstraints);        jLabelBed1.setText("BED");        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 0;        gridBagConstraints.gridy = 8;        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;        gridBagConstraints.insets = new java.awt.Insets(0, 5, 0, 0);        jPanel3.add(jLabelBed1, gridBagConstraints);        jComboBoxRoom.addActionListener(new java.awt.event.ActionListener() {            public void actionPerformed(java.awt.event.ActionEvent evt) {                jComboBoxRoomActionPerformed(evt);            }        });        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 1;        gridBagConstraints.gridy = 7;        gridBagConstraints.gridwidth = 2;        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;        gridBagConstraints.weightx = 1.0;        gridBagConstraints.insets = new java.awt.Insets(0, 5, 0, 5);        jPanel3.add(jComboBoxRoom, gridBagConstraints);        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 1;        gridBagConstraints.gridy = 8;        gridBagConstraints.gridwidth = 2;        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;        gridBagConstraints.weightx = 1.0;        gridBagConstraints.insets = new java.awt.Insets(0, 5, 0, 5);        jPanel3.add(jComboBoxBed, gridBagConstraints);        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 0;        gridBagConstraints.gridy = 1;        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.weightx = 1.0;        gridBagConstraints.insets = new java.awt.Insets(5, 5, 0, 5);        getContentPane().add(jPanel3, gridBagConstraints);        jPanel2.setLayout(new java.awt.GridBagLayout());        jButtonSave.setText("OK");        jButtonSave.setMaximumSize(new java.awt.Dimension(72, 26));        jButtonSave.setMinimumSize(new java.awt.Dimension(72, 26));        jButtonSave.setPreferredSize(new java.awt.Dimension(72, 26));        jButtonSave.addActionListener(new java.awt.event.ActionListener() {            public void actionPerformed(java.awt.event.ActionEvent evt) {                jButtonSaveActionPerformed(evt);            }        });        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;        gridBagConstraints.weightx = 1.0;        jPanel2.add(jButtonSave, gridBagConstraints);        jButtonCancel.setText("Cancel");        jButtonCancel.setMaximumSize(new java.awt.Dimension(72, 26));        jButtonCancel.setMinimumSize(new java.awt.Dimension(72, 26));        jButtonCancel.setPreferredSize(new java.awt.Dimension(72, 26));        jButtonCancel.addActionListener(new java.awt.event.ActionListener() {            public void actionPerformed(java.awt.event.ActionEvent evt) {                jButtonCancelActionPerformed(evt);            }        });        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;        gridBagConstraints.weighty = 1.0;        gridBagConstraints.insets = new java.awt.Insets(0, 5, 0, 0);        jPanel2.add(jButtonCancel, gridBagConstraints);        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 0;        gridBagConstraints.gridy = 2;        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.weightx = 1.0;        gridBagConstraints.insets = new java.awt.Insets(5, 5, 5, 5);        getContentPane().add(jPanel2, gridBagConstraints);        pack();    }// </editor-fold>//GEN-END:initComponents    private void jButtonCancelANNumberActionPerformed(java.awt.event.ActionEvent evt)//GEN-FIRST:event_jButtonCancelANNumberActionPerformed    {//GEN-HEADEREND:event_jButtonCancelANNumberActionPerformed        int[] row = this.jTable1.getSelectedRows();        theHC.theVisitControl.saveReverseAdmit(vReverseAdmit,row);        updateOG(theHC.theVisitControl.searchAdmitNumberInReverseAdmit());    }//GEN-LAST:event_jButtonCancelANNumberActionPerformed    private void integerTextFieldBedActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_integerTextFieldBedActionPerformed        jButtonSaveActionPerformed(null);    }//GEN-LAST:event_integerTextFieldBedActionPerformed        private void jButtonCancelActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonCancelActionPerformed        actionCommand = false;        dispose();    }//GEN-LAST:event_jButtonCancelActionPerformed            private void jButtonSaveActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonSaveActionPerformed        int row = this.jTable1.getSelectedRow();        ReverseAdmit theReverseAdmit = null;        if(row != -1)            theReverseAdmit = (ReverseAdmit)vReverseAdmit.get(row);        boolean res = theHC.theVisitControl.admitVisit(getVisit(),theReverseAdmit);        if(!res) return;        actionCommand = true;        dispose();    }//GEN-LAST:event_jButtonSaveActionPerformed                        /** Closes the dialog */    private void closeDialog(java.awt.event.WindowEvent evt) {//GEN-FIRST:event_closeDialog        setVisible(false);        dispose();    }//GEN-LAST:event_closeDialog    private void jButtonBedActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonBedActionPerformed        theHD.showPanelAllRoom2();        if(theHC.theHO.theRoomSelected!=null)        {            integerTextFieldBed.setText(theHC.theHO.theRoomSelected.visit_room_number + "/" + theHC.theHO.theBedSelected.visit_bed_number);            ComboboxModel.setCodeComboBox(jComboBoxWard, theHC.theHO.theRoomSelected.b_visit_ward_id);            ComboboxModel.setCodeComboBox(jComboBoxRoom, theHC.theHO.theRoomSelected.getObjectId());            ComboboxModel.setCodeComboBox(jComboBoxBed, theHC.theHO.theBedSelected.getObjectId());        }    }//GEN-LAST:event_jButtonBedActionPerformed    private void jComboBoxRoomActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jComboBoxRoomActionPerformed        Vector v = theHC.theSetupControl.listBedByRoom(ComboboxModel.getCodeComboBox(jComboBoxRoom));        ComboboxModel.initComboBox(jComboBoxBed, v);    }//GEN-LAST:event_jComboBoxRoomActionPerformed        public void updateOG(Vector vc)    {        vReverseAdmit = vc;        TaBleModel tm=null;        if(vc == null)         {            tm = new TaBleModel(columnHeader,0);            jTable1.setModel(tm);            return;        }        tm = new TaBleModel(columnHeader,vc.size());        for(int i=0 ;i<vc.size(); i++)        {              ReverseAdmit ra = (ReverseAdmit)vc.get(i);            tm.setValueAt(ra.an,i,0);            tm.setValueAt(DateUtil.getDateFromText(ra.begin_admit_time),i,1);        }        jTable1.setModel(tm);         jTable1.getColumnModel().getColumn(0).setCellRenderer(vnRender);        jTable1.getColumnModel().getColumn(1).setCellRenderer(datetimeRender);    }    public void dispose(){        this.setVisible(false);    }    private Visit getVisit()    {        theVisit.bed = integerTextFieldBed.getText();        theVisit.admit_clinic = ComboboxModel.getCodeComboBox(jComboBoxClinic);        theVisit.ward = ComboboxModel.getCodeComboBox(jComboBoxWard);        theVisit.visit_patient_self_doctor = ComboboxModel.getCodeComboBox(jComboBoxDoctor);        theVisit.begin_admit_time = dateComboBoxDischargeDate.getText() + ","                 + timeTextFieldDischargeTime.getText()+ ":01";        return theVisit;    }            public boolean showDialog(Visit visit)    {        theVisit = visit;        setDataAll();        //amp:5/8/2549: ??? Dialog ??????????? an ???????????? ?????? Admit ???????????        setSize(350,520);        if(VisitType.OPD.equals(theHO.theVisit.visit_type))        {            updateOG(theHC.theVisitControl.searchAdmitNumberInReverseAdmit());             if(!vReverseAdmit.isEmpty())            {                jPanel4.setVisible(true);                setSize(350,500);            }        }        Toolkit thekit = getToolkit();        Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();        setLocation((screenSize.width-getSize().width)/2, (screenSize.height-getSize().height)/2);        setVisible(true);        return this.actionCommand;    }        public boolean showDialog(Visit visit, HosDialog hd)    {        theHD = hd;        theVisit = visit;        setDataAll();        //amp:5/8/2549: ??? Dialog ??????????? an ???????????? ?????? Admit ???????????        setSize(350,520);        if(VisitType.OPD.equals(theHO.theVisit.visit_type))        {            updateOG(theHC.theVisitControl.searchAdmitNumberInReverseAdmit());             if(!vReverseAdmit.isEmpty())            {                jPanel4.setVisible(true);                setSize(350,500);            }        }        Toolkit thekit = getToolkit();        Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();        setLocation((screenSize.width-getSize().width)/2, (screenSize.height-getSize().height)/2);        setVisible(true);        return this.actionCommand;    }        /**     * @param args the command line arguments     */    public static void main(String args[])    {        //  new DialogAdmit(new javax.swing.JFrame(), true).setVisible(true);    }            // Variables declaration - do not modify//GEN-BEGIN:variables    private com.hospital_os.utility.DateComboBox dateComboBoxDischargeDate;    private javax.swing.JTextField integerTextFieldBed;    private javax.swing.JButton jButtonBed;    private javax.swing.JButton jButtonCancel;    private javax.swing.JButton jButtonCancelANNumber;    private javax.swing.JButton jButtonSave;    private javax.swing.JComboBox jComboBoxBed;    private javax.swing.JComboBox jComboBoxClinic;    private javax.swing.JComboBox jComboBoxDoctor;    private javax.swing.JComboBox jComboBoxRoom;    private javax.swing.JComboBox jComboBoxWard;    private javax.swing.JLabel jLabel1;    private javax.swing.JLabel jLabel2;    private javax.swing.JLabel jLabel3;    private javax.swing.JLabel jLabelBed;    private javax.swing.JLabel jLabelBed1;    private javax.swing.JLabel jLabelBed2;    private javax.swing.JLabel jLabelClinic;    private javax.swing.JLabel jLabelWard;    private javax.swing.JLabel jLabelWard1;    private javax.swing.JPanel jPanel2;    private javax.swing.JPanel jPanel3;    private javax.swing.JPanel jPanel4;    private javax.swing.JPanel jPanel5;    private javax.swing.JScrollPane jScrollPane1;    private com.hosv3.gui.component.HJTableSort jTable1;    private com.hospital_os.utility.TimeTextField timeTextFieldDischargeTime;    // End of variables declaration//GEN-END:variables        }