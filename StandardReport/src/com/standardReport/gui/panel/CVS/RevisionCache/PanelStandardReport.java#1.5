/*
 * PanelStandardReport.java
 *
 * Created on 3 ตุลาคม 2548, 18:22 น.
 */


package com.standardReport.gui.panel;

import com.generalpcu.control.ManageControlSubject;
import com.generalpcu.gui.panel.PanelGeneralPCU;
import com.generalpcu.gui.panel.PanelRpPCU;
import com.generalreport.gui.panel.PanelGeneralReport;
import java.util.*;

import com.hospital_os.object.Version;
import com.hospital_os.object.MenuItemPlugIn;

import com.standardReport.subject.ManageShowPanelSelect;
import com.standardReport.help.ShowHelpStandardReport;
import com.standardReport.control.HosManage;
import com.standardReport.utility.*;

/**
 *
 * @author  tong(Padungrat)
 */
public class PanelStandardReport extends javax.swing.JPanel implements
ManageShowPanelSelect
{
    
    private PanelReportFile thePanelReportFile;
    private PanelReportIndex thePanelReportIndex;
    private HosManage theHosManage;
    private ShowHelpStandardReport theShowHelpStandardReport;

    private PanelGeneralPCU thePanelGeneralPCU;

    private PanelGeneralReport thePanelGeneralReport;
    public PanelStandardReport(HosManage hosManage
            ,PanelGeneralPCU pgp,PanelGeneralReport pgr,PanelRpPCU prp) {
        theHosManage = hosManage;
        theHosManage.theHosControl.theHosSubject.theShowPanelSelectSubject.registerGUIManage(this);
        initComponents();
        InitObject();
        jTabbedPane1.addTab("รายงาน PCU", pgp);
        jTabbedPane1.addTab("รายงานทั่วไป", pgr);
        jTabbedPane1.addTab("รายงานสถานีอนามัย", prp);
    }
    
    /**
     *  ใช้ในการ InitObject ของ Panel ที่ต้องการจะใช้
     *  และกำหนดให้ panel ต่างๆอยู่ใน Contain ที่กำหนด
     */
    private void InitObject()
    {
        //Init Panel ที่ต้องการจำให้แสดงข้อมูลบน GUI
        thePanelReportIndex = new PanelReportIndex(theHosManage);
        thePanelReportFile = new PanelReportFile(theHosManage);
        
        // นำ panel ต่างๆมาใส่ใน Container ที่กำหนด
        jPanelMainIndex.setLayout(new java.awt.BorderLayout());
        jPanelMainIndex.add(thePanelReportIndex, java.awt.BorderLayout.CENTER);
        // นำ panel ต่างๆมาใส่ใน Container ที่กำหนด
        jPanelReport.setLayout(new java.awt.BorderLayout());
        jPanelReport.add(thePanelReportFile, java.awt.BorderLayout.CENTER);
    }
    
    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    // <editor-fold defaultstate="collapsed" desc=" Generated Code ">//GEN-BEGIN:initComponents
    private void initComponents() {
        java.awt.GridBagConstraints gridBagConstraints;

        jTabbedPane1 = new javax.swing.JTabbedPane();
        jPanelMain = new javax.swing.JPanel();
        jPanelMainIndex = new javax.swing.JPanel();
        jPanelReport = new javax.swing.JPanel();

        setLayout(new java.awt.GridBagLayout());

        jPanelMain.setLayout(new java.awt.CardLayout());

        jPanelMainIndex.setLayout(new java.awt.BorderLayout());

        jPanelMain.add(jPanelMainIndex, "MainReport");

        jPanelMain.add(jPanelReport, "Report");

        jTabbedPane1.addTab("\u0e23\u0e32\u0e22\u0e07\u0e32\u0e19\u0e21\u0e32\u0e15\u0e23\u0e10\u0e32\u0e19", jPanelMain);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        add(jTabbedPane1, gridBagConstraints);

    }// </editor-fold>//GEN-END:initComponents
     

    /**
     *  ใช้แสดง CardReport ที่กำหนดตาม param ที่กำหนด
     *  @param namepanel เป็นชื่อ panelที่กำหนดใน cardLayout ที่กำหนด
     */
    public void showCardReport(String namepanel)
    {
               
        java.awt.CardLayout layout = (java.awt.CardLayout)this.jPanelMain.getLayout();
        layout.show(this.jPanelMain, namepanel);
    }
    
      /**ใช้ในการ ส่ง Dialog Help ให้กับ Frame หลัก*/
    public Vector getMenuItem()
    {   Vector vc = new Vector();
       
        javax.swing.JMenuItem jMenuItem1 = new javax.swing.JMenuItem();
        theShowHelpStandardReport = new ShowHelpStandardReport();
        
        jMenuItem1.setText(Gutil.getTextBundle("ReportStandardHelp"));
        theShowHelpStandardReport.addID(jMenuItem1);
        
        MenuItemPlugIn theMenuItemPlugIn = new MenuItemPlugIn();
        theMenuItemPlugIn.authen = true;
        theMenuItemPlugIn.theJMenuItem = jMenuItem1;
                
        
        
        
        vc.add(theMenuItemPlugIn);
         
        return vc;
    }
    
    /**ใช้ในการกำหนด version ของ การออกรายงานทั่วไป
     *@return เป็น Object ของ Vesion
     */
    public Version getVersion()
    {
        Version version = new Version();
        version.app_code = Config.getTextBundle("Version");
        version.description = Config.getTextBundle("Description");
        version.update_time = Config.getTextBundle("Update");
        version.db_code = Config.getTextBundle("VersionDatabaseUse");
        
        return version;
        
    }
    
    public void notifyCallReportShow(Report report) {
    
        showCardReport("Report");
      
    }

    public void notifyCallBackToMainReport() {
        showCardReport("MainReport");
   
    }
    
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JPanel jPanelMain;
    private javax.swing.JPanel jPanelMainIndex;
    private javax.swing.JPanel jPanelReport;
    private javax.swing.JTabbedPane jTabbedPane1;
    // End of variables declaration//GEN-END:variables
    
}
