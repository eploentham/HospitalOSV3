/*
 * PanelBehavior.java
 *
 * Created on 8 เมษายน 2549, 14:27 น.
 */

package com.healthy.gui.panel;

import com.healthy.object.EatType;
import com.healthy.object.SexProtectType;
import com.healthy.object.StrainType;
import com.healthy.object.*;

import com.hospital_os.utility.Constant;
import com.hosv3.utility.DateUtil;
import com.hosv3.utility.connection.UpdateStatus;
import com.pcu.control.HtControl;
import com.pcu.utility.GutilPCU;
import java.awt.*;
import java.util.*;
import javax.swing.*;


import com.hospital_os.utility.*;
import com.hospital_os.object.*;

import com.pcu.object.*;

/**
 *
 * @author  hospitalos5
 */
public class PanelBehavior extends javax.swing.JPanel  {
    
    Vector theBehaviorV;
    Vector behaviorHistory;
    HtControl theHtControl;
    Behavior theBehavior;
    Family theFamily;
    JDialog jDialog;    
    static String IS_CHRONIC = "1";

    private UpdateStatus theUS;
    /**
     * Creates new form PanelBehavior 
     */
    public PanelBehavior() {
        initComponents();
        theBehavior = new Behavior();
        setDisable();
        setLanguage();
    }
    
     public void setControl(HtControl ht,UpdateStatus us){
         theUS = us;
        theHtControl = ht;
        //ComboboxModel.initComboBox(this.jComboBoxClub, theHtControl.listAgr());
        behaviorHistory = theHtControl.listBehaviorHx();      
        ComboboxModel.initComboBox(this.jComboBoxHisHT, behaviorHistory);
        ComboboxModel.initComboBox(this.jComboBoxHisDM, behaviorHistory);
        ComboboxModel.initComboBox(this.jComboBoxHisHdd, behaviorHistory);
        ComboboxModel.initComboBox(this.jComboBoxHisCiga, theHtControl.listCigaBehavior());
        ComboboxModel.initComboBox(this.jComboBoxHisAlcohol, theHtControl.listAlcoholBehavior());
        ComboboxModel.initComboBox(this.jComboBoxSexBehavior, theHtControl.listSexBehavior());
        ComboboxModel.initComboBox(this.jComboBoxMood, theHtControl.listMoodBehavior());
        //ComboboxModel.setCodeComboBox(this.jComboBoxMood, "2");
        ComboboxModel.initComboBox(this.jComboBoxAccident, theHtControl.listAccidentProtect());
        ComboboxModel.initComboBox(this.jComboBoxChronic, theHtControl.listChronic());
        this.dateComboBoxSurvey.setEditable(true);
        //theHtControl.closeConnection();
        this.jCheckBox1.setSelected(false);
        this.jComboBoxChronic.setEnabled(false);
        this.jButtonDelete.setEnabled(false);
        this.jTextFieldYearBudget.setText(theHtControl.getYear());
        this.jTextFieldBMI.setEditable(false);
    }
    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {
        java.awt.GridBagConstraints gridBagConstraints;

        buttonGroupStrain = new javax.swing.ButtonGroup();
        buttonGroupSexProtect = new javax.swing.ButtonGroup();
        buttonGroupFat = new javax.swing.ButtonGroup();
        buttonGroupSalt = new javax.swing.ButtonGroup();
        buttonGroupSweet = new javax.swing.ButtonGroup();
        buttonGroupEgg = new javax.swing.ButtonGroup();
        buttonGroupRare = new javax.swing.ButtonGroup();
        jPanel1 = new javax.swing.JPanel();
        jScrollPane1 = new javax.swing.JScrollPane();
        jTable1 = new javax.swing.JTable();
        jPanelStrainNo = new javax.swing.JPanel();
        jLabel16 = new javax.swing.JLabel();
        jPanel9 = new javax.swing.JPanel();
        jRadioButtonSexProtect = new javax.swing.JRadioButton();
        jRadioButtonSexNoProtect = new javax.swing.JRadioButton();
        jLabel4 = new javax.swing.JLabel();
        jPanel6 = new javax.swing.JPanel();
        jRadioButtonFatLike = new javax.swing.JRadioButton();
        jRadioButtonFatSome = new javax.swing.JRadioButton();
        jRadioButtonFatNoLike = new javax.swing.JRadioButton();
        jLabel5 = new javax.swing.JLabel();
        jPanel7 = new javax.swing.JPanel();
        jRadioButtonSaltLike = new javax.swing.JRadioButton();
        jRadioButtonSaltSome = new javax.swing.JRadioButton();
        jRadioButtonSaltNoLike = new javax.swing.JRadioButton();
        jPanel10 = new javax.swing.JPanel();
        jRadioButtonSweetLike = new javax.swing.JRadioButton();
        jRadioButtonSweetSome = new javax.swing.JRadioButton();
        jRadioButtonSweetNoLike = new javax.swing.JRadioButton();
        jPanel11 = new javax.swing.JPanel();
        jRadioButtonEggLike = new javax.swing.JRadioButton();
        jRadioButtonEggSome = new javax.swing.JRadioButton();
        jRadioButtonEggNoLike = new javax.swing.JRadioButton();
        jPanel12 = new javax.swing.JPanel();
        jRadioButtonRareLike = new javax.swing.JRadioButton();
        jRadioButtonRareSome = new javax.swing.JRadioButton();
        jRadioButtonRareNoLike = new javax.swing.JRadioButton();
        jLabel6 = new javax.swing.JLabel();
        jLabel7 = new javax.swing.JLabel();
        jLabel8 = new javax.swing.JLabel();
        jPanel5 = new javax.swing.JPanel();
        jCheckBox1 = new javax.swing.JCheckBox();
        jComboBoxChronic = new javax.swing.JComboBox();
        jLabel14 = new javax.swing.JLabel();
        jLabel15 = new javax.swing.JLabel();
        jRadioButtonStrainNo = new javax.swing.JRadioButton();
        jRadioButtonStrainWipe = new javax.swing.JRadioButton();
        jRadioButtonStrainNoWipe = new javax.swing.JRadioButton();
        jLabel38 = new javax.swing.JLabel();
        jTextFieldYearBudget = new javax.swing.JTextField();
        jLabel39 = new javax.swing.JLabel();
        dateComboBoxSurvey = new com.hospital_os.utility.DateComboBox();
        jPanel2 = new javax.swing.JPanel();
        jLabel50 = new javax.swing.JLabel();
        jTextFieldWeight = new javax.swing.JTextField();
        jLabel51 = new javax.swing.JLabel();
        jLabel52 = new javax.swing.JLabel();
        jTextFieldHeight = new javax.swing.JTextField();
        jLabel53 = new javax.swing.JLabel();
        jLabel54 = new javax.swing.JLabel();
        jTextFieldBMI = new javax.swing.JTextField();
        jPanel4 = new javax.swing.JPanel();
        jLabel13 = new javax.swing.JLabel();
        jComboBoxAccident = new javax.swing.JComboBox();
        jPanel13 = new javax.swing.JPanel();
        jLabel9 = new javax.swing.JLabel();
        jComboBoxHisCiga = new javax.swing.JComboBox();
        jComboBoxMood = new javax.swing.JComboBox();
        jLabel11 = new javax.swing.JLabel();
        jLabel10 = new javax.swing.JLabel();
        jComboBoxHisAlcohol = new javax.swing.JComboBox();
        jComboBoxSexBehavior = new javax.swing.JComboBox();
        jLabel12 = new javax.swing.JLabel();
        jLabel1 = new javax.swing.JLabel();
        jComboBoxHisHT = new javax.swing.JComboBox();
        jLabel2 = new javax.swing.JLabel();
        jComboBoxHisDM = new javax.swing.JComboBox();
        jLabel3 = new javax.swing.JLabel();
        jComboBoxHisHdd = new javax.swing.JComboBox();
        jPanel3 = new javax.swing.JPanel();
        jButtonAdd = new javax.swing.JButton();
        jButtonDelete = new javax.swing.JButton();
        jButtonSave = new javax.swing.JButton();

        setMinimumSize(new java.awt.Dimension(450, 300));
        setPreferredSize(new java.awt.Dimension(450, 300));
        setLayout(new java.awt.GridBagLayout());

        jPanel1.setBorder(javax.swing.BorderFactory.createTitledBorder("ประวัติ"));
        jPanel1.setMinimumSize(new java.awt.Dimension(180, 90));
        jPanel1.setPreferredSize(new java.awt.Dimension(180, 250));
        jPanel1.setLayout(new java.awt.GridBagLayout());

        jScrollPane1.setPreferredSize(new java.awt.Dimension(4, 160));

        jTable1.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null}
            },
            new String [] {
                "Title 1"
            }
        ));
        jTable1.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                jTable1MouseClicked(evt);
            }
            public void mouseReleased(java.awt.event.MouseEvent evt) {
                jTable1MouseReleased(evt);
            }
        });
        jScrollPane1.setViewportView(jTable1);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        jPanel1.add(jScrollPane1, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridheight = 2;
        gridBagConstraints.fill = java.awt.GridBagConstraints.VERTICAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.weighty = 1.0;
        add(jPanel1, gridBagConstraints);

        jPanelStrainNo.setBorder(javax.swing.BorderFactory.createTitledBorder("ข้อมูลคัดกรองพฤติกรรม"));
        jPanelStrainNo.setLayout(new java.awt.GridBagLayout());

        jLabel16.setText("การป้องกันทางเพศ :");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 12;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(2, 10, 0, 0);
        jPanelStrainNo.add(jLabel16, gridBagConstraints);

        jPanel9.setLayout(new java.awt.GridBagLayout());

        buttonGroupSexProtect.add(jRadioButtonSexProtect);
        jRadioButtonSexProtect.setSelected(true);
        jRadioButtonSexProtect.setText("ป้องกัน");
        jPanel9.add(jRadioButtonSexProtect, new java.awt.GridBagConstraints());

        buttonGroupSexProtect.add(jRadioButtonSexNoProtect);
        jRadioButtonSexNoProtect.setText("ไม่ป้องกัน");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.weightx = 1.0;
        jPanel9.add(jRadioButtonSexNoProtect, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 12;
        gridBagConstraints.gridwidth = java.awt.GridBagConstraints.REMAINDER;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.insets = new java.awt.Insets(2, 0, 0, 0);
        jPanelStrainNo.add(jPanel9, gridBagConstraints);

        jLabel4.setText("การบริโภคไขมัน :");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 13;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(2, 10, 0, 0);
        jPanelStrainNo.add(jLabel4, gridBagConstraints);

        jPanel6.setLayout(new java.awt.GridBagLayout());

        buttonGroupFat.add(jRadioButtonFatLike);
        jRadioButtonFatLike.setText("ชอบ");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 2;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.weightx = 1.0;
        jPanel6.add(jRadioButtonFatLike, gridBagConstraints);

        buttonGroupFat.add(jRadioButtonFatSome);
        jRadioButtonFatSome.setText("นานๆ ครั้ง");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 0;
        jPanel6.add(jRadioButtonFatSome, gridBagConstraints);

        buttonGroupFat.add(jRadioButtonFatNoLike);
        jRadioButtonFatNoLike.setSelected(true);
        jRadioButtonFatNoLike.setText("ไม่ชอบ");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        jPanel6.add(jRadioButtonFatNoLike, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 13;
        gridBagConstraints.gridwidth = java.awt.GridBagConstraints.REMAINDER;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.insets = new java.awt.Insets(2, 0, 0, 0);
        jPanelStrainNo.add(jPanel6, gridBagConstraints);

        jLabel5.setText("การบริโภครสเค็ม :");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 14;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(2, 10, 0, 0);
        jPanelStrainNo.add(jLabel5, gridBagConstraints);

        jPanel7.setLayout(new java.awt.GridBagLayout());

        buttonGroupSalt.add(jRadioButtonSaltLike);
        jRadioButtonSaltLike.setText("ชอบ");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 2;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.weightx = 1.0;
        jPanel7.add(jRadioButtonSaltLike, gridBagConstraints);

        buttonGroupSalt.add(jRadioButtonSaltSome);
        jRadioButtonSaltSome.setText("นานๆ ครั้ง");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 0;
        jPanel7.add(jRadioButtonSaltSome, gridBagConstraints);

        buttonGroupSalt.add(jRadioButtonSaltNoLike);
        jRadioButtonSaltNoLike.setSelected(true);
        jRadioButtonSaltNoLike.setText("ไม่ชอบ");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        jPanel7.add(jRadioButtonSaltNoLike, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 14;
        gridBagConstraints.gridwidth = java.awt.GridBagConstraints.REMAINDER;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.insets = new java.awt.Insets(2, 0, 0, 0);
        jPanelStrainNo.add(jPanel7, gridBagConstraints);

        jPanel10.setLayout(new java.awt.GridBagLayout());

        buttonGroupSweet.add(jRadioButtonSweetLike);
        jRadioButtonSweetLike.setText("ชอบ");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 2;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.weightx = 1.0;
        jPanel10.add(jRadioButtonSweetLike, gridBagConstraints);

        buttonGroupSweet.add(jRadioButtonSweetSome);
        jRadioButtonSweetSome.setText("นานๆ ครั้ง");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 0;
        jPanel10.add(jRadioButtonSweetSome, gridBagConstraints);

        buttonGroupSweet.add(jRadioButtonSweetNoLike);
        jRadioButtonSweetNoLike.setSelected(true);
        jRadioButtonSweetNoLike.setText("ไม่ชอบ");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        jPanel10.add(jRadioButtonSweetNoLike, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 15;
        gridBagConstraints.gridwidth = java.awt.GridBagConstraints.REMAINDER;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.insets = new java.awt.Insets(2, 0, 0, 0);
        jPanelStrainNo.add(jPanel10, gridBagConstraints);

        jPanel11.setLayout(new java.awt.GridBagLayout());

        buttonGroupEgg.add(jRadioButtonEggLike);
        jRadioButtonEggLike.setText("ชอบ");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 2;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.weightx = 1.0;
        jPanel11.add(jRadioButtonEggLike, gridBagConstraints);

        buttonGroupEgg.add(jRadioButtonEggSome);
        jRadioButtonEggSome.setText("นานๆ ครั้ง");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 0;
        jPanel11.add(jRadioButtonEggSome, gridBagConstraints);

        buttonGroupEgg.add(jRadioButtonEggNoLike);
        jRadioButtonEggNoLike.setSelected(true);
        jRadioButtonEggNoLike.setText("ไม่ชอบ");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        jPanel11.add(jRadioButtonEggNoLike, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 16;
        gridBagConstraints.gridwidth = java.awt.GridBagConstraints.REMAINDER;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.insets = new java.awt.Insets(2, 0, 0, 0);
        jPanelStrainNo.add(jPanel11, gridBagConstraints);

        jPanel12.setLayout(new java.awt.GridBagLayout());

        buttonGroupRare.add(jRadioButtonRareLike);
        jRadioButtonRareLike.setText("ชอบ");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 2;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.weightx = 1.0;
        jPanel12.add(jRadioButtonRareLike, gridBagConstraints);

        buttonGroupRare.add(jRadioButtonRareSome);
        jRadioButtonRareSome.setText("นานๆ ครั้ง");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 0;
        jPanel12.add(jRadioButtonRareSome, gridBagConstraints);

        buttonGroupRare.add(jRadioButtonRareNoLike);
        jRadioButtonRareNoLike.setSelected(true);
        jRadioButtonRareNoLike.setText("ไม่ชอบ");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        jPanel12.add(jRadioButtonRareNoLike, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 17;
        gridBagConstraints.gridwidth = java.awt.GridBagConstraints.REMAINDER;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTH;
        gridBagConstraints.weighty = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(2, 0, 0, 0);
        jPanelStrainNo.add(jPanel12, gridBagConstraints);

        jLabel6.setText("การบริโภคหวาน :");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 15;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(2, 10, 0, 0);
        jPanelStrainNo.add(jLabel6, gridBagConstraints);

        jLabel7.setText("การบริโภคไข่ :");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 16;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(2, 10, 0, 0);
        jPanelStrainNo.add(jLabel7, gridBagConstraints);

        jLabel8.setText("การบริโภคเนื้อสุกๆดิบๆ :");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 17;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.weighty = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(4, 10, 0, 0);
        jPanelStrainNo.add(jLabel8, gridBagConstraints);

        jPanel5.setLayout(new java.awt.GridBagLayout());

        jCheckBox1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jCheckBox1ActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 0;
        jPanel5.add(jCheckBox1, gridBagConstraints);

        jComboBoxChronic.setOpaque(false);
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 2;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.gridwidth = 3;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.weightx = 1.0;
        jPanel5.add(jComboBoxChronic, gridBagConstraints);

        jLabel14.setText("โรคเรื้อรัง");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(2, 10, 0, 0);
        jPanel5.add(jLabel14, gridBagConstraints);

        jLabel15.setText("ความเครียด : ");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.gridwidth = 2;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(2, 10, 0, 0);
        jPanel5.add(jLabel15, gridBagConstraints);

        buttonGroupStrain.add(jRadioButtonStrainNo);
        jRadioButtonStrainNo.setSelected(true);
        jRadioButtonStrainNo.setText("ไม่เครียด");
        jRadioButtonStrainNo.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jRadioButtonStrainNoActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 2;
        gridBagConstraints.gridy = 1;
        jPanel5.add(jRadioButtonStrainNo, gridBagConstraints);

        buttonGroupStrain.add(jRadioButtonStrainWipe);
        jRadioButtonStrainWipe.setText("กำจัดเหมาะสม");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 3;
        gridBagConstraints.gridy = 1;
        jPanel5.add(jRadioButtonStrainWipe, gridBagConstraints);

        buttonGroupStrain.add(jRadioButtonStrainNoWipe);
        jRadioButtonStrainNoWipe.setText("กำจัดไม่เหมาะสม");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 4;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.weightx = 1.0;
        jPanel5.add(jRadioButtonStrainNoWipe, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 10;
        gridBagConstraints.gridwidth = java.awt.GridBagConstraints.REMAINDER;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(2, 0, 0, 10);
        jPanelStrainNo.add(jPanel5, gridBagConstraints);

        jLabel38.setText("ปีงบประมาณ : ");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(0, 10, 0, 0);
        jPanelStrainNo.add(jLabel38, gridBagConstraints);

        jTextFieldYearBudget.setMinimumSize(new java.awt.Dimension(60, 21));
        jTextFieldYearBudget.setPreferredSize(new java.awt.Dimension(60, 21));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        jPanelStrainNo.add(jTextFieldYearBudget, gridBagConstraints);

        jLabel39.setText("วันที่สำรวจ : ");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 2;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(0, 6, 0, 0);
        jPanelStrainNo.add(jLabel39, gridBagConstraints);
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 3;
        gridBagConstraints.gridy = 0;
        jPanelStrainNo.add(dateComboBoxSurvey, gridBagConstraints);

        jPanel2.setLayout(new java.awt.GridBagLayout());

        jLabel50.setText("น้ำหนัก : ");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        jPanel2.add(jLabel50, gridBagConstraints);

        jTextFieldWeight.setMinimumSize(new java.awt.Dimension(40, 21));
        jTextFieldWeight.setPreferredSize(new java.awt.Dimension(40, 21));
        jTextFieldWeight.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                jTextFieldWeightFocusLost(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(1, 1, 1, 1);
        jPanel2.add(jTextFieldWeight, gridBagConstraints);

        jLabel51.setText("กก.");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 2;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(1, 1, 1, 1);
        jPanel2.add(jLabel51, gridBagConstraints);

        jLabel52.setText("ส่วนสูง : ");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 3;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(1, 1, 1, 1);
        jPanel2.add(jLabel52, gridBagConstraints);

        jTextFieldHeight.setMinimumSize(new java.awt.Dimension(40, 21));
        jTextFieldHeight.setPreferredSize(new java.awt.Dimension(40, 21));
        jTextFieldHeight.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                jTextFieldHeightFocusLost(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 4;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(1, 1, 1, 1);
        jPanel2.add(jTextFieldHeight, gridBagConstraints);

        jLabel53.setText("ซม.");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 5;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(1, 1, 1, 1);
        jPanel2.add(jLabel53, gridBagConstraints);

        jLabel54.setText("BMI : ");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 6;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(1, 1, 1, 1);
        jPanel2.add(jLabel54, gridBagConstraints);

        jTextFieldBMI.setMinimumSize(new java.awt.Dimension(40, 21));
        jTextFieldBMI.setPreferredSize(new java.awt.Dimension(40, 21));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 7;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(1, 1, 1, 1);
        jPanel2.add(jTextFieldBMI, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.gridwidth = java.awt.GridBagConstraints.REMAINDER;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(2, 10, 0, 0);
        jPanelStrainNo.add(jPanel2, gridBagConstraints);

        jPanel4.setLayout(new java.awt.GridBagLayout());

        jLabel13.setText("การป้องกันอุบัติเหตุยานยนต์ :");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 7;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        jPanel4.add(jLabel13, gridBagConstraints);
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 7;
        gridBagConstraints.gridwidth = 3;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.weightx = 1.0;
        jPanel4.add(jComboBoxAccident, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 9;
        gridBagConstraints.gridwidth = java.awt.GridBagConstraints.REMAINDER;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(2, 10, 0, 10);
        jPanelStrainNo.add(jPanel4, gridBagConstraints);

        jPanel13.setLayout(new java.awt.GridBagLayout());

        jLabel9.setText("การสูบบุหรี่ : ");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(2, 10, 0, 0);
        jPanel13.add(jLabel9, gridBagConstraints);
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.insets = new java.awt.Insets(2, 0, 0, 0);
        jPanel13.add(jComboBoxHisCiga, gridBagConstraints);
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 3;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.insets = new java.awt.Insets(2, 0, 0, 0);
        jPanel13.add(jComboBoxMood, gridBagConstraints);

        jLabel11.setText("ภาวะทางอารมณ์ :");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 3;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(2, 10, 0, 0);
        jPanel13.add(jLabel11, gridBagConstraints);

        jLabel10.setText("การดื่มแอลกอฮอล์ : ");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 4;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(2, 10, 0, 0);
        jPanel13.add(jLabel10, gridBagConstraints);
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 4;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(2, 0, 0, 0);
        jPanel13.add(jComboBoxHisAlcohol, gridBagConstraints);
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 5;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(2, 0, 0, 0);
        jPanel13.add(jComboBoxSexBehavior, gridBagConstraints);

        jLabel12.setText("พฤติกรรมทางเพศ :");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 5;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(2, 10, 0, 0);
        jPanel13.add(jLabel12, gridBagConstraints);

        jLabel1.setText("ประวัติโรคความดัน  :");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 6;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(2, 10, 0, 0);
        jPanel13.add(jLabel1, gridBagConstraints);
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 6;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(2, 0, 0, 0);
        jPanel13.add(jComboBoxHisHT, gridBagConstraints);

        jLabel2.setText("ประวัติโรคเบาหวาน :");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 7;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(2, 10, 0, 0);
        jPanel13.add(jLabel2, gridBagConstraints);
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 7;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(2, 0, 0, 0);
        jPanel13.add(jComboBoxHisDM, gridBagConstraints);

        jLabel3.setText("ประวัติโรคหัวใจ : ");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 8;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(2, 10, 0, 0);
        jPanel13.add(jLabel3, gridBagConstraints);
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 8;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(2, 0, 0, 0);
        jPanel13.add(jComboBoxHisHdd, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.gridwidth = java.awt.GridBagConstraints.REMAINDER;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        jPanelStrainNo.add(jPanel13, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        add(jPanelStrainNo, gridBagConstraints);

        jPanel3.setLayout(new java.awt.GridBagLayout());

        jButtonAdd.setIcon(new javax.swing.ImageIcon(getClass().getResource("/com/hosv3/gui/images/plus16.gif"))); // NOI18N
        jButtonAdd.setMargin(new java.awt.Insets(0, 0, 0, 0));
        jButtonAdd.setMinimumSize(new java.awt.Dimension(24, 24));
        jButtonAdd.setPreferredSize(new java.awt.Dimension(24, 24));
        jButtonAdd.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonAddActionPerformed(evt);
            }
        });
        jPanel3.add(jButtonAdd, new java.awt.GridBagConstraints());

        jButtonDelete.setIcon(new javax.swing.ImageIcon(getClass().getResource("/com/hosv3/gui/images/minus16.gif"))); // NOI18N
        jButtonDelete.setMargin(new java.awt.Insets(0, 0, 0, 0));
        jButtonDelete.setMinimumSize(new java.awt.Dimension(24, 24));
        jButtonDelete.setPreferredSize(new java.awt.Dimension(24, 24));
        jButtonDelete.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonDeleteActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(0, 3, 0, 0);
        jPanel3.add(jButtonDelete, gridBagConstraints);

        jButtonSave.setText("บันทึก");
        jButtonSave.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonSaveActionPerformed(evt);
            }
        });
        jButtonSave.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseReleased(java.awt.event.MouseEvent evt) {
                jButtonSaveMouseReleased(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
        gridBagConstraints.weightx = 1.0;
        jPanel3.add(jButtonSave, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(5, 0, 0, 0);
        add(jPanel3, gridBagConstraints);
    }// </editor-fold>//GEN-END:initComponents

    private void jTextFieldHeightFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_jTextFieldHeightFocusLost
        calBMI(this.jTextFieldHeight.getText(),this.jTextFieldWeight.getText());
    }//GEN-LAST:event_jTextFieldHeightFocusLost

    private void jTextFieldWeightFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_jTextFieldWeightFocusLost
        calBMI(this.jTextFieldHeight.getText(),this.jTextFieldWeight.getText());
    }//GEN-LAST:event_jTextFieldWeightFocusLost

    private void calBMI(String height, String weight){
        if (height == "")
            height = "0";
        if (weight == "")
            weight = "0";
        this.jTextFieldBMI.setText(Constant.calculateBMI(weight, height));
    }
    private void jCheckBox1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jCheckBox1ActionPerformed
        if (jCheckBox1.isSelected()) 
            jComboBoxChronic.setEnabled(true);
        else 
            jComboBoxChronic.setEnabled(false);
    }//GEN-LAST:event_jCheckBox1ActionPerformed

    private void jTable1MouseReleased(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jTable1MouseReleased
        this.setCursor(new java.awt.Cursor(java.awt.Cursor.WAIT_CURSOR));            
        int index = this.jTable1.getSelectedRow();
        if(index==-1)
            return;
        theBehavior = (Behavior)theBehaviorV.get(index);
        updateOGBehavior(theBehavior);
        /*this.jTextFieldStatus.setText(theImageLink.image_path);
        this.jTextFieldHN1.setText(theImageLink.note);
        this.jCheckBox1.setSelected(theImageLink.note.equals(
            ImageLink.ST_PatientImage));
        this.jTextFieldHN1.setEditable(!this.jCheckBox1.isSelected());*/
        this.setCursor(new java.awt.Cursor(java.awt.Cursor.DEFAULT_CURSOR)); 
        buttonDeleteEnable();
        setEnable();
    }//GEN-LAST:event_jTable1MouseReleased

    private void jTable1MouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jTable1MouseClicked

    }//GEN-LAST:event_jTable1MouseClicked

    private void jButtonSaveMouseReleased(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jButtonSaveMouseReleased

    }//GEN-LAST:event_jButtonSaveMouseReleased

    private void jButtonSaveActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonSaveActionPerformed
        this.updateGOBehavior(theBehavior);
        this.theHtControl.saveBehavior(theBehavior);
        this.updateFamily(theFamily);
        buttonDeleteEnable();
    }//GEN-LAST:event_jButtonSaveActionPerformed

    private void jButtonDeleteActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonDeleteActionPerformed
        if(!theUS.confirmBox("คุณต้องการลบข้อมูลที่เลือกหรือไม่",UpdateStatus.WARNING)) 
            return;
        {
            this.theHtControl.deleteBehavior(theBehavior);
            this.updateFamily(theFamily);
            theBehavior = new Behavior();
            updateOGBehavior(theBehavior);
            buttonDeleteEnable();
            setDisable();
        }
    }//GEN-LAST:event_jButtonDeleteActionPerformed

    private void jButtonAddActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonAddActionPerformed
        theBehavior = new Behavior();
        this.updateOGBehavior(theBehavior);
        buttonDeleteEnable();
        setEnable();
    }//GEN-LAST:event_jButtonAddActionPerformed

    private void jRadioButtonStrainNoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jRadioButtonStrainNoActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jRadioButtonStrainNoActionPerformed
    
    public void updateOGBehavior(Vector v) {
        theBehaviorV = v;
        if (v==null) v = new Vector();
        String[] column = {"วันที่ปรับปรุงล่าสุด"};
        GutilPCU.setLanguage(column);
        TaBleModel tm = new TaBleModel(column, v.size());
        
        for (int i=0 ; i<v.size() ; i++) {
            Behavior behavior = (Behavior)v.get(i);
            tm.setValueAt(GutilPCU.changDateToString(behavior.record_time), i, 0);       
        }
        this.jTable1.setModel(tm);
    }
    
    private void buttonDeleteEnable() {
        if (theBehavior.getObjectId()!=null) 
            this.jButtonDelete.setEnabled(true);
        else
            this.jButtonDelete.setEnabled(false);
    }
    private void setDisable() {
            this.jRadioButtonEggNoLike.setEnabled(false);
            this.jRadioButtonFatNoLike.setEnabled(false);
            this.jRadioButtonRareNoLike.setEnabled(false);
            this.jRadioButtonSaltNoLike.setEnabled(false);
            this.jRadioButtonSexProtect.setEnabled(false);
            this.jRadioButtonStrainNo.setEnabled(false);
            this.jRadioButtonSweetNoLike.setEnabled(false);
            this.jComboBoxAccident.setEnabled(false);
            this.jComboBoxChronic.setEnabled(false);
            this.jComboBoxHisAlcohol.setEnabled(false);
            this.jComboBoxHisCiga.setEnabled(false);
            this.jComboBoxHisDM.setEnabled(false);
            this.jComboBoxHisHT.setEnabled(false);
            this.jComboBoxHisHdd.setEnabled(false);
            this.jComboBoxMood.setEnabled(false);
            this.jComboBoxSexBehavior.setEnabled(false);
            this.jTextFieldBMI.setEnabled(false);
            this.jTextFieldHeight.setEnabled(false);
            this.jTextFieldWeight.setEnabled(false);
            this.jTextFieldYearBudget.setEnabled(false);
            this.jCheckBox1.setEnabled(false);
            this.jRadioButtonEggLike.setEnabled(false);
            this.jRadioButtonEggSome.setEnabled(false);
            this.jRadioButtonFatLike.setEnabled(false);
            this.jRadioButtonFatSome.setEnabled(false);
            this.jRadioButtonRareLike.setEnabled(false);
            this.jRadioButtonRareSome.setEnabled(false);
            this.jRadioButtonSaltLike.setEnabled(false);
            this.jRadioButtonSaltSome.setEnabled(false);
            this.jRadioButtonSexNoProtect.setEnabled(false);
            this.jRadioButtonStrainNoWipe.setEnabled(false);
            this.jRadioButtonStrainWipe.setEnabled(false);
            this.jRadioButtonSweetLike.setEnabled(false);
            this.jRadioButtonSweetSome.setEnabled(false);
            this.dateComboBoxSurvey.setEnabled(false);
            this.jButtonSave.setEnabled(false);
    }
    
    private void setEnable() {
            this.jRadioButtonEggNoLike.setEnabled(true);
            this.jRadioButtonFatNoLike.setEnabled(true);
            this.jRadioButtonRareNoLike.setEnabled(true);
            this.jRadioButtonSaltNoLike.setEnabled(true);
            this.jRadioButtonSexProtect.setEnabled(true);
            this.jRadioButtonStrainNo.setEnabled(true);
            this.jRadioButtonSweetNoLike.setEnabled(true);
            this.jComboBoxAccident.setEnabled(true);
            this.jComboBoxHisAlcohol.setEnabled(true);
            this.jComboBoxHisCiga.setEnabled(true);
            this.jComboBoxHisDM.setEnabled(true);
            this.jComboBoxHisHT.setEnabled(true);
            this.jComboBoxHisHdd.setEnabled(true);
            this.jComboBoxMood.setEnabled(true);
            this.jComboBoxSexBehavior.setEnabled(true);
            this.jTextFieldBMI.setEnabled(true);
            this.jTextFieldHeight.setEnabled(true);
            this.jTextFieldWeight.setEnabled(true);
            this.jTextFieldYearBudget.setEnabled(true);
            this.jCheckBox1.setEnabled(true);
            this.jRadioButtonEggLike.setEnabled(true);
            this.jRadioButtonEggSome.setEnabled(true);
            this.jRadioButtonFatLike.setEnabled(true);
            this.jRadioButtonFatSome.setEnabled(true);
            this.jRadioButtonRareLike.setEnabled(true);
            this.jRadioButtonRareSome.setEnabled(true);
            this.jRadioButtonSaltLike.setEnabled(true);
            this.jRadioButtonSaltSome.setEnabled(true);
            this.jRadioButtonSexNoProtect.setEnabled(true);
            this.jRadioButtonStrainNoWipe.setEnabled(true);
            this.jRadioButtonStrainWipe.setEnabled(true);
            this.jRadioButtonSweetLike.setEnabled(true);
            this.jRadioButtonSweetSome.setEnabled(true);
            this.dateComboBoxSurvey.setEnabled(true);
            this.jButtonSave.setEnabled(true);                  
    }
    
    public void updateOGBehavior(Behavior behavior) {
       
        this.jTextFieldYearBudget.setText(behavior.idy);
        this.dateComboBoxSurvey.setText(DateUtil.convertFieldDate(behavior.date_serv));
        this.jTextFieldWeight.setText(behavior.weight);
        this.jTextFieldHeight.setText(behavior.height);
        this.jTextFieldBMI.setText(behavior.bmi);
        //ความเครียด
        this.jRadioButtonStrainNo.setSelected(false);
        this.jRadioButtonStrainWipe.setSelected(false);
        this.jRadioButtonStrainNoWipe.setSelected(false);
        if (behavior.strain.equals(StrainType.STRAIN_NO))
            jRadioButtonStrainNo.setSelected(true);
        else if (behavior.strain.equals(StrainType.STRAIN_WIPE))
            jRadioButtonStrainWipe.setSelected(true);
        else if (behavior.strain.equals(StrainType.STRAIN_NO_WIPE))
            jRadioButtonStrainNoWipe.setSelected(true);
        //การป้องกันทางเพศ
        this.jRadioButtonSexProtect.setSelected(false);
        this.jRadioButtonSexNoProtect.setSelected(false);
        if (behavior.sexProtect.equals(SexProtectType.SEX_PROTECT))
            this.jRadioButtonSexProtect.setSelected(true);
        else if (behavior.sexProtect.equals(SexProtectType.SEX_N0_PROTECT))
            this.jRadioButtonSexNoProtect.setSelected(true);
        //การบริโภคไขมัน    
        this.jRadioButtonFatLike.setSelected(false);
        this.jRadioButtonFatSome.setSelected(false);
        this.jRadioButtonFatNoLike.setSelected(false);
        if (behavior.fat.equals(EatType.LIKE))
            jRadioButtonFatLike.setSelected(true);
        else if (behavior.fat.equals(EatType.SOME))
            jRadioButtonFatSome.setSelected(true);
        else if (behavior.fat.equals(EatType.NO_LIKE))
            jRadioButtonFatNoLike.setSelected(true);
        //การบริโภคเค็ม
        this.jRadioButtonSaltLike.setSelected(false);
        this.jRadioButtonSaltSome.setSelected(false);
        this.jRadioButtonSaltNoLike.setSelected(false);
        if (behavior.salt.equals(EatType.LIKE))
            jRadioButtonSaltLike.setSelected(true);
        else if (behavior.salt.equals(EatType.SOME))
            jRadioButtonSaltSome.setSelected(true);
        else if (behavior.salt.equals(EatType.NO_LIKE))
            jRadioButtonSaltNoLike.setSelected(true);
        //การบริโภคหวาน
        this.jRadioButtonSweetLike.setSelected(false);
        this.jRadioButtonSweetSome.setSelected(false);
        this.jRadioButtonSweetNoLike.setSelected(false);
        if (behavior.sweet.equals(EatType.LIKE))
            jRadioButtonSweetLike.setSelected(true);
        else if (behavior.sweet.equals(EatType.SOME))
            jRadioButtonSweetSome.setSelected(true);
        else if (behavior.sweet.equals(EatType.NO_LIKE))
            jRadioButtonSweetNoLike.setSelected(true);
        //การบริโภคไข่
        this.jRadioButtonEggLike.setSelected(false);
        this.jRadioButtonEggSome.setSelected(false);
        this.jRadioButtonEggNoLike.setSelected(false);
        if (behavior.egg.equals(EatType.LIKE))
            jRadioButtonEggLike.setSelected(true);
        else if (behavior.egg.equals(EatType.SOME))
            jRadioButtonEggSome.setSelected(true);
        else if (behavior.egg.equals(EatType.NO_LIKE))
            jRadioButtonEggNoLike.setSelected(true);
        //การบริโภคเนื้อสุกๆดิบๆ
        this.jRadioButtonRareLike.setSelected(false);
        this.jRadioButtonRareSome.setSelected(false);
        this.jRadioButtonRareNoLike.setSelected(false);
        if (behavior.rare.equals(EatType.LIKE))
            jRadioButtonRareLike.setSelected(true);
        else if (behavior.rare.equals(EatType.SOME))
            jRadioButtonRareSome.setSelected(true);
        else if (behavior.rare.equals(EatType.NO_LIKE))
            jRadioButtonRareNoLike.setSelected(true);
        
        ComboboxModel.setCodeComboBox(this.jComboBoxHisHT, behavior.hx_ht);
        ComboboxModel.setCodeComboBox(this.jComboBoxHisDM, behavior.hx_dm);
        ComboboxModel.setCodeComboBox(this.jComboBoxHisHdd, behavior.hx_hdd);
        ComboboxModel.setCodeComboBox(this.jComboBoxHisCiga, behavior.ciga);
        ComboboxModel.setCodeComboBox(this.jComboBoxHisAlcohol, behavior.alcohol);
        ComboboxModel.setCodeComboBox(this.jComboBoxMood, behavior.mood);
        ComboboxModel.setCodeComboBox(this.jComboBoxSexBehavior, behavior.sexBehavior);
        ComboboxModel.setCodeComboBox(this.jComboBoxAccident, behavior.accident);
        
        if (behavior.is_chronic.equals(Active.isEnable())) {
            this.jCheckBox1.setSelected(true);
            this.jComboBoxChronic.setEnabled(true);
            ComboboxModel.setCodeComboBox(this.jComboBoxChronic, behavior.chronic);
        } else {
            this.jCheckBox1.setSelected(false);
            this.jComboBoxChronic.setEnabled(false);
        }
        
        if (behavior.getObjectId() == null) {
            this.jRadioButtonEggNoLike.setSelected(true);
            this.jRadioButtonFatNoLike.setSelected(true);
            this.jRadioButtonRareNoLike.setSelected(true);
            this.jRadioButtonSaltNoLike.setSelected(true);
            this.jRadioButtonSexProtect.setSelected(true);
            this.jRadioButtonStrainNo.setSelected(true);
            this.jRadioButtonSweetNoLike.setSelected(true);
//            this.jComboBoxAccident.setSelectedIndex(0);
//            this.jComboBoxChronic.setSelectedIndex(0);
//            this.jComboBoxHisAlcohol.setSelectedIndex(0);
//            this.jComboBoxHisCiga.setSelectedIndex(0);
//            this.jComboBoxHisDM.setSelectedIndex(0);
//            this.jComboBoxHisHT.setSelectedIndex(0);
//            this.jComboBoxHisHdd.setSelectedIndex(0);
//            this.jComboBoxMood.setSelectedIndex(0);
//            this.jComboBoxSexBehavior.setSelectedIndex(0);
            this.jTextFieldYearBudget.setText(theHtControl.getYear());
            
        }
    }
    
    public void updateGOBehavior(Behavior behavior) {
        
        behavior.family_id = theFamily.getObjectId();
        behavior.idy = this.jTextFieldYearBudget.getText();
        behavior.date_serv = this.dateComboBoxSurvey.getText();
        behavior.weight = this.jTextFieldWeight.getText();
        behavior.height = this.jTextFieldHeight.getText();
        behavior.bmi = this.jTextFieldBMI.getText();
        behavior.hx_ht = Gutil.getGuiData(this.jComboBoxHisHT);
        behavior.hx_dm = Gutil.getGuiData(this.jComboBoxHisDM);
        behavior.hx_hdd = Gutil.getGuiData(this.jComboBoxHisHdd);
        behavior.ciga = Gutil.getGuiData(this.jComboBoxHisCiga);
        behavior.alcohol = Gutil.getGuiData(this.jComboBoxHisAlcohol);
        behavior.mood = Gutil.getGuiData(this.jComboBoxMood);
        behavior.sexBehavior = Gutil.getGuiData(this.jComboBoxSexBehavior);
        behavior.accident = Gutil.getGuiData(this.jComboBoxAccident);
        
        if (this.jCheckBox1.isSelected()) {
            behavior.is_chronic = Active.isEnable();
            behavior.chronic = Gutil.getGuiData(this.jComboBoxChronic);
        } else {
            behavior.is_chronic = Active.isDisable();
            behavior.chronic = "";
        }
        
        if (this.jRadioButtonStrainNo.isSelected()) 
            behavior.strain = StrainType.STRAIN_NO;
        else if (this.jRadioButtonStrainWipe.isSelected())
            behavior.strain = StrainType.STRAIN_WIPE;
        else if (this.jRadioButtonStrainNoWipe.isSelected()) 
            behavior.strain = StrainType.STRAIN_NO_WIPE;
        
        if (this.jRadioButtonSexProtect.isSelected())
            behavior.sexProtect = SexProtectType.SEX_PROTECT;
        else if (this.jRadioButtonSexNoProtect.isSelected())
            behavior.sexProtect = SexProtectType.SEX_N0_PROTECT;
        
        if (this.jRadioButtonFatLike.isSelected())
            behavior.fat = EatType.LIKE;
        else if (this.jRadioButtonFatSome.isSelected())
            behavior.fat = EatType.SOME;
        else if (this.jRadioButtonFatNoLike.isSelected())
            behavior.fat = EatType.NO_LIKE;
        
        if (this.jRadioButtonSaltLike.isSelected())
            behavior.salt = EatType.LIKE;
        else if (this.jRadioButtonSaltSome.isSelected())
            behavior.salt = EatType.SOME;
        else if (this.jRadioButtonSaltNoLike.isSelected())
            behavior.salt = EatType.NO_LIKE;
        
        if (this.jRadioButtonSweetLike.isSelected())
            behavior.sweet = EatType.LIKE;
        else if (this.jRadioButtonSweetSome.isSelected())
            behavior.sweet = EatType.SOME;
        else if (this.jRadioButtonSweetNoLike.isSelected())
            behavior.sweet = EatType.NO_LIKE;
        
        if (this.jRadioButtonEggLike.isSelected())
            behavior.egg = EatType.LIKE;
        else if (this.jRadioButtonEggSome.isSelected())
            behavior.egg = EatType.SOME;
        else if (this.jRadioButtonEggNoLike.isSelected())
            behavior.egg = EatType.NO_LIKE;
        
        if (this.jRadioButtonRareLike.isSelected())
            behavior.rare = EatType.LIKE;
        else if (this.jRadioButtonRareSome.isSelected())
            behavior.rare = EatType.SOME;
        else if (this.jRadioButtonRareNoLike.isSelected())
            behavior.rare = EatType.NO_LIKE;
    }
    
    public void updateFamily(Family family) {
        theFamily = family;
        Vector familyV = theHtControl.listBehaviorByFid(family.getObjectId());
        updateOGBehavior(familyV);
        updateOGBehavior(new Behavior());
    }
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.ButtonGroup buttonGroupEgg;
    private javax.swing.ButtonGroup buttonGroupFat;
    private javax.swing.ButtonGroup buttonGroupRare;
    private javax.swing.ButtonGroup buttonGroupSalt;
    private javax.swing.ButtonGroup buttonGroupSexProtect;
    private javax.swing.ButtonGroup buttonGroupStrain;
    private javax.swing.ButtonGroup buttonGroupSweet;
    private com.hospital_os.utility.DateComboBox dateComboBoxSurvey;
    private javax.swing.JButton jButtonAdd;
    private javax.swing.JButton jButtonDelete;
    private javax.swing.JButton jButtonSave;
    private javax.swing.JCheckBox jCheckBox1;
    private javax.swing.JComboBox jComboBoxAccident;
    private javax.swing.JComboBox jComboBoxChronic;
    private javax.swing.JComboBox jComboBoxHisAlcohol;
    private javax.swing.JComboBox jComboBoxHisCiga;
    private javax.swing.JComboBox jComboBoxHisDM;
    private javax.swing.JComboBox jComboBoxHisHT;
    private javax.swing.JComboBox jComboBoxHisHdd;
    private javax.swing.JComboBox jComboBoxMood;
    private javax.swing.JComboBox jComboBoxSexBehavior;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel10;
    private javax.swing.JLabel jLabel11;
    private javax.swing.JLabel jLabel12;
    private javax.swing.JLabel jLabel13;
    private javax.swing.JLabel jLabel14;
    private javax.swing.JLabel jLabel15;
    private javax.swing.JLabel jLabel16;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel38;
    private javax.swing.JLabel jLabel39;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel50;
    private javax.swing.JLabel jLabel51;
    private javax.swing.JLabel jLabel52;
    private javax.swing.JLabel jLabel53;
    private javax.swing.JLabel jLabel54;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel10;
    private javax.swing.JPanel jPanel11;
    private javax.swing.JPanel jPanel12;
    private javax.swing.JPanel jPanel13;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JPanel jPanel3;
    private javax.swing.JPanel jPanel4;
    private javax.swing.JPanel jPanel5;
    private javax.swing.JPanel jPanel6;
    private javax.swing.JPanel jPanel7;
    private javax.swing.JPanel jPanel9;
    private javax.swing.JPanel jPanelStrainNo;
    private javax.swing.JRadioButton jRadioButtonEggLike;
    private javax.swing.JRadioButton jRadioButtonEggNoLike;
    private javax.swing.JRadioButton jRadioButtonEggSome;
    private javax.swing.JRadioButton jRadioButtonFatLike;
    private javax.swing.JRadioButton jRadioButtonFatNoLike;
    private javax.swing.JRadioButton jRadioButtonFatSome;
    private javax.swing.JRadioButton jRadioButtonRareLike;
    private javax.swing.JRadioButton jRadioButtonRareNoLike;
    private javax.swing.JRadioButton jRadioButtonRareSome;
    private javax.swing.JRadioButton jRadioButtonSaltLike;
    private javax.swing.JRadioButton jRadioButtonSaltNoLike;
    private javax.swing.JRadioButton jRadioButtonSaltSome;
    private javax.swing.JRadioButton jRadioButtonSexNoProtect;
    private javax.swing.JRadioButton jRadioButtonSexProtect;
    private javax.swing.JRadioButton jRadioButtonStrainNo;
    private javax.swing.JRadioButton jRadioButtonStrainNoWipe;
    private javax.swing.JRadioButton jRadioButtonStrainWipe;
    private javax.swing.JRadioButton jRadioButtonSweetLike;
    private javax.swing.JRadioButton jRadioButtonSweetNoLike;
    private javax.swing.JRadioButton jRadioButtonSweetSome;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JTable jTable1;
    private javax.swing.JTextField jTextFieldBMI;
    private javax.swing.JTextField jTextFieldHeight;
    private javax.swing.JTextField jTextFieldWeight;
    private javax.swing.JTextField jTextFieldYearBudget;
    // End of variables declaration//GEN-END:variables
    

    public void showDialog(Family family) 
    {
        if(jDialog==null)
        {
            if(theHtControl.theUS!=null)
                jDialog = new JDialog(this.theHtControl.theUS.getJFrame(),true);
            else
                jDialog = new JDialog();
            jDialog.getContentPane().add(this);
            jDialog.setSize(720,480);
            Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();
            jDialog.setLocation((screenSize.width-jDialog.getSize().width)/2
                    , (screenSize.height-jDialog.getSize().height)/2);
        }
        updateFamily(family);
        setDisable();
        jDialog.setVisible(true);
    }
    
//    public static void showDialog(Family family, ConnectionInf con) {
//        JDialog jDialog = new JDialog();
//        PanelBehavior panelBehavior = new PanelBehavior();
//        jDialog.getContentPane().add(panelBehavior);
//        HtControl hc = new HtControl(con);
//        panelBehavior.setControl(hc);
//        panelBehavior.updateFamily(family);
//        jDialog.setVisible(true);
//    }
    
    public static void main(String[] argc)
    {
        System.setProperty("debug", "1");
        Family family = new Family();
        family.hospital_site = "00000";
        family.setObjectId("555");
        PanelBehavior thePanelBehavior = new PanelBehavior();
        HtControl hc = new HtControl();
        thePanelBehavior.setControl(hc,hc.theUS);
        thePanelBehavior.showDialog(family);
    }

    private void setLanguage() {
        GutilPCU.setLanguage(jPanel1);
        GutilPCU.setLanguage(jPanelStrainNo);
        GutilPCU.setLanguage(jLabel16);
        GutilPCU.setLanguage(jRadioButtonSexProtect);
        GutilPCU.setLanguage(jRadioButtonSexNoProtect);
        GutilPCU.setLanguage(jLabel4);
        GutilPCU.setLanguage(jRadioButtonFatLike);
        GutilPCU.setLanguage(jRadioButtonFatSome);
        GutilPCU.setLanguage(jRadioButtonFatNoLike);
        GutilPCU.setLanguage(jLabel5);
        GutilPCU.setLanguage(jRadioButtonSaltLike);
        GutilPCU.setLanguage(jRadioButtonSaltSome);
        GutilPCU.setLanguage(jRadioButtonSaltNoLike);
        GutilPCU.setLanguage(jRadioButtonSweetLike);
        GutilPCU.setLanguage(jRadioButtonSweetSome);
        GutilPCU.setLanguage(jRadioButtonSweetNoLike);
        GutilPCU.setLanguage(jRadioButtonEggLike);
        GutilPCU.setLanguage(jRadioButtonEggSome);
        GutilPCU.setLanguage(jRadioButtonEggNoLike);
        GutilPCU.setLanguage(jRadioButtonRareLike);
        GutilPCU.setLanguage(jRadioButtonRareSome);
        GutilPCU.setLanguage(jRadioButtonRareNoLike);
        GutilPCU.setLanguage(jLabel6);
        GutilPCU.setLanguage(jLabel7);
        GutilPCU.setLanguage(jLabel8);
        GutilPCU.setLanguage(jLabel14);
        GutilPCU.setLanguage(jLabel15);
        GutilPCU.setLanguage(jRadioButtonStrainNo);
        GutilPCU.setLanguage(jRadioButtonStrainWipe);
        GutilPCU.setLanguage(jRadioButtonStrainNoWipe);
        GutilPCU.setLanguage(jLabel38);
        GutilPCU.setLanguage(jLabel39);
        GutilPCU.setLanguage(jLabel50);
        GutilPCU.setLanguage(jLabel51);
        GutilPCU.setLanguage(jLabel52);
        GutilPCU.setLanguage(jLabel53);
        GutilPCU.setLanguage(jLabel54);
        GutilPCU.setLanguage(jLabel13);
        GutilPCU.setLanguage(jLabel9);
        GutilPCU.setLanguage(jLabel11);
        GutilPCU.setLanguage(jLabel10);
        GutilPCU.setLanguage(jLabel12);
        GutilPCU.setLanguage(jLabel1);
        GutilPCU.setLanguage(jLabel2);
        GutilPCU.setLanguage(jLabel3);
        GutilPCU.setLanguage(jButtonSave);
    }
}
