/* 
 * PanelSchool.java
 *
 * Created on 11 เมษายน 2550, 13:55 น.
 */

package com.pcu.gui.panel.village;

import com.hospital_os.utility.ComboFix;
import com.hospital_os.utility.ComboboxModel;
import com.hospital_os.utility.Gutil;
import com.hospital_os.utility.TaBleModel;
import com.hosv3.utility.connection.UpdateStatus;
import com.pcu.control.AllComboBoxControl;
import com.pcu.control.HosManage;
import com.pcu.control.PCUObject;
import com.pcu.control.VillageControl;
import com.pcu.control.VillageObserv;
import com.pcu.object.School;
import com.pcu.object.SchoolHistory;
import com.pcu.utility.ColumnTableRenderer;
import com.pcu.utility.GutilPCU;
import java.util.Vector;
import javax.swing.JLabel;

/**
 *
 * @author  Administrator
 */
public class PanelSchool extends javax.swing.JPanel implements VillageObserv{
    
    /** Creates new form PanelSchool */
    public PanelSchool() {
        initComponents();
        setLanguage();
    }
    /**
     *  implements VillageObserv
     */
    public boolean refreshVillage() {
        ComboboxModel.initComboBox(this.jComboBoxVillageSchool,theAllComboBoxControl.listVillage());  
        ComboboxModel.initComboBox(this.jComboBoxSearchVillageSchool,theAllComboBoxControl.listVillage());  
        return true;
    }
    public void setControl(HosManage hm,UpdateStatus us) 
    {
        theUS = us;
        theAllComboBoxControl = hm.theHosControl.theAllComboBoxControl;
        theVillageControl = hm.theHosControl.theVillageControl;
        Vector vComboBoxOwner = theAllComboBoxControl.listCommunityResorceOwner();
        Vector vComboBoxStandardType = theAllComboBoxControl.listCommunityStandardType();
        Vector vComboBoxStandard = theAllComboBoxControl.listCommunityStandard();
        ComboboxModel.initComboBox(jComboBoxSchoolMaxClass,theAllComboBoxControl.listSchoolMaxClass());
        ComboboxModel.initComboBox(jComboBoxSchoolDepend,vComboBoxOwner);
        ComboboxModel.initComboBox(jComboBoxStandardTypeSchool,vComboBoxStandardType);
        ComboboxModel.initComboBox(jComboBoxStandardSchool,vComboBoxStandard);      
        ComboboxModel.initComboBox(this.jComboBoxVillageSchool,theAllComboBoxControl.listVillage());  
        ComboboxModel.initComboBox(this.jComboBoxSearchVillageSchool,theAllComboBoxControl.listVillage());  
    }
    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {
        java.awt.GridBagConstraints gridBagConstraints;

        defaultFont1 = new com.hospital_os.gui.font.DefaultFont();
        jPanel9 = new javax.swing.JPanel();
        jButtonAddSchool = new javax.swing.JButton();
        jButtonDeleteSchool = new javax.swing.JButton();
        jButtonSaveSchool = new javax.swing.JButton();
        jCheckBoxSaveHistory = new javax.swing.JCheckBox();
        jPanel71 = new javax.swing.JPanel();
        jPanelSearchSchool = new javax.swing.JPanel();
        jTextFieldSearchSchool = new javax.swing.JTextField();
        jButtonSearchSchool = new javax.swing.JButton();
        jComboBoxSearchVillageSchool = new javax.swing.JComboBox();
        jCheckBoxSearchMoo = new javax.swing.JCheckBox();
        jScrollPane2 = new javax.swing.JScrollPane();
        jTableSchool = new javax.swing.JTable();
        jScrollPane8 = new javax.swing.JScrollPane();
        jTableHistorySchool = new javax.swing.JTable();
        jPanelData1 = new javax.swing.JPanel();
        jLabel83 = new javax.swing.JLabel();
        jLabel84 = new javax.swing.JLabel();
        jTextFieldSchoolName = new javax.swing.JTextField();
        jComboBoxSchoolMaxClass = new javax.swing.JComboBox();
        jComboBoxSchoolDepend = new javax.swing.JComboBox();
        jLabel77 = new javax.swing.JLabel();
        jLabel78 = new javax.swing.JLabel();
        integerTextFieldAmountOfStudentMSchool = new com.pcu.utility.IntegerTextField();
        jLabel88 = new javax.swing.JLabel();
        jLabel89 = new javax.swing.JLabel();
        integerTextFieldAmountOfStudentFMSchool = new com.pcu.utility.IntegerTextField();
        jLabel90 = new javax.swing.JLabel();
        integerTextFieldAmonutOfTeacherMSchool = new com.pcu.utility.IntegerTextField();
        jLabel91 = new javax.swing.JLabel();
        integerTextFieldAmonutOfTeacherFMSchool = new com.pcu.utility.IntegerTextField();
        jTextFieldSchoolCode = new com.pcu.utility.IntegerTextField();
        jTextFieldOwnerOther = new javax.swing.JTextField();
        jPanel1 = new javax.swing.JPanel();
        jLabel79 = new javax.swing.JLabel();
        jComboBoxVillageSchool = new javax.swing.JComboBox();
        jPanelData2 = new javax.swing.JPanel();
        jLabel87 = new javax.swing.JLabel();
        jPanel27 = new javax.swing.JPanel();
        jLabel82 = new javax.swing.JLabel();
        jTextFieldPeriodOfTime = new javax.swing.JTextField();
        jCheckBoxCloseSchool = new javax.swing.JCheckBox();
        jLabel92 = new javax.swing.JLabel();
        dateComboBoxCloseActivitySchool = new com.pcu.utility.DateComboBox();
        jLabel10 = new javax.swing.JLabel();
        jTextAreaCauseCloseSchool = new javax.swing.JTextArea();
        jLabel85 = new javax.swing.JLabel();
        jLabel86 = new javax.swing.JLabel();
        integerTextFieldTimeOfPassSchool = new com.pcu.utility.IntegerTextField();
        dateComboBoxDateOfPassSchool = new com.pcu.utility.DateComboBox();
        jLabel81 = new javax.swing.JLabel();
        jComboBoxStandardSchool = new javax.swing.JComboBox();
        jLabel80 = new javax.swing.JLabel();
        jPanel29 = new javax.swing.JPanel();
        jTextFieldStandardTypeOther = new javax.swing.JTextField();
        jComboBoxStandardTypeSchool = new javax.swing.JComboBox();

        setLayout(new java.awt.GridBagLayout());

        jPanel9.setLayout(new java.awt.GridBagLayout());

        jButtonAddSchool.setFont(defaultFont1);
        jButtonAddSchool.setIcon(new javax.swing.ImageIcon(getClass().getResource("/com/hosv3/gui/images/plus16.gif"))); // NOI18N
        jButtonAddSchool.setMaximumSize(new java.awt.Dimension(24, 24));
        jButtonAddSchool.setMinimumSize(new java.awt.Dimension(24, 24));
        jButtonAddSchool.setPreferredSize(new java.awt.Dimension(24, 24));
        jButtonAddSchool.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonAddSchoolActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        jPanel9.add(jButtonAddSchool, gridBagConstraints);

        jButtonDeleteSchool.setFont(defaultFont1);
        jButtonDeleteSchool.setIcon(new javax.swing.ImageIcon(getClass().getResource("/com/hosv3/gui/images/minus16.gif"))); // NOI18N
        jButtonDeleteSchool.setMaximumSize(new java.awt.Dimension(24, 24));
        jButtonDeleteSchool.setMinimumSize(new java.awt.Dimension(24, 24));
        jButtonDeleteSchool.setPreferredSize(new java.awt.Dimension(24, 24));
        jButtonDeleteSchool.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonDeleteSchoolActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.insets = new java.awt.Insets(0, 1, 0, 0);
        jPanel9.add(jButtonDeleteSchool, gridBagConstraints);

        jButtonSaveSchool.setFont(defaultFont1);
        jButtonSaveSchool.setText("Save");
        jButtonSaveSchool.setMaximumSize(new java.awt.Dimension(67, 24));
        jButtonSaveSchool.setMinimumSize(new java.awt.Dimension(67, 24));
        jButtonSaveSchool.setPreferredSize(new java.awt.Dimension(67, 24));
        jButtonSaveSchool.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonSaveSchoolActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 4;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHEAST;
        gridBagConstraints.insets = new java.awt.Insets(0, 5, 0, 0);
        jPanel9.add(jButtonSaveSchool, gridBagConstraints);

        jCheckBoxSaveHistory.setFont(defaultFont1);
        jCheckBoxSaveHistory.setText("เก็บประวัติ");
        jCheckBoxSaveHistory.setBorder(javax.swing.BorderFactory.createEmptyBorder(0, 0, 0, 0));
        jCheckBoxSaveHistory.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jCheckBoxSaveHistoryActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 3;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
        gridBagConstraints.weightx = 1.0;
        jPanel9.add(jCheckBoxSaveHistory, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.gridwidth = 2;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.SOUTH;
        gridBagConstraints.insets = new java.awt.Insets(5, 5, 5, 5);
        add(jPanel9, gridBagConstraints);

        jPanel71.setLayout(new java.awt.GridBagLayout());

        jPanelSearchSchool.setBorder(javax.swing.BorderFactory.createTitledBorder("SearchData"));
        jPanelSearchSchool.setLayout(new java.awt.GridBagLayout());

        jTextFieldSearchSchool.setFont(defaultFont1);
        jTextFieldSearchSchool.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextFieldSearchSchoolActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(5, 5, 5, 0);
        jPanelSearchSchool.add(jTextFieldSearchSchool, gridBagConstraints);

        jButtonSearchSchool.setFont(defaultFont1);
        jButtonSearchSchool.setText("Search");
        jButtonSearchSchool.setMargin(new java.awt.Insets(2, 8, 2, 8));
        jButtonSearchSchool.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonSearchSchoolActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 2;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.insets = new java.awt.Insets(5, 5, 5, 5);
        jPanelSearchSchool.add(jButtonSearchSchool, gridBagConstraints);

        jComboBoxSearchVillageSchool.setFont(defaultFont1);
        jComboBoxSearchVillageSchool.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jComboBoxSearchVillageSchoolActionPerformed(evt);
            }
        });
        jComboBoxSearchVillageSchool.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                jComboBoxSearchVillageSchoolFocusGained(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.gridwidth = 2;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(5, 5, 0, 5);
        jPanelSearchSchool.add(jComboBoxSearchVillageSchool, gridBagConstraints);

        jCheckBoxSearchMoo.setSelected(true);
        jCheckBoxSearchMoo.setBorder(javax.swing.BorderFactory.createEmptyBorder(0, 0, 0, 0));
        jCheckBoxSearchMoo.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jCheckBoxSearchMooActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(5, 5, 0, 0);
        jPanelSearchSchool.add(jCheckBoxSearchMoo, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        jPanel71.add(jPanelSearchSchool, gridBagConstraints);

        jScrollPane2.setBorder(null);
        jScrollPane2.setFont(defaultFont1);

        jTableSchool.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {

            }
        ));
        jTableSchool.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                jTableSchoolKeyReleased(evt);
            }
        });
        jTableSchool.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseReleased(java.awt.event.MouseEvent evt) {
                jTableSchoolMouseReleased(evt);
            }
        });
        jScrollPane2.setViewportView(jTableSchool);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(5, 0, 0, 0);
        jPanel71.add(jScrollPane2, gridBagConstraints);

        jScrollPane8.setFont(defaultFont1);

        jTableHistorySchool.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {

            }
        ));
        jTableHistorySchool.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseReleased(java.awt.event.MouseEvent evt) {
                jTableHistorySchoolMouseReleased(evt);
            }
        });
        jScrollPane8.setViewportView(jTableHistorySchool);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(5, 0, 0, 0);
        jPanel71.add(jScrollPane8, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.gridheight = 2;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(5, 5, 5, 0);
        add(jPanel71, gridBagConstraints);

        jPanelData1.setBorder(javax.swing.BorderFactory.createTitledBorder(""));
        jPanelData1.setLayout(new java.awt.GridBagLayout());

        jLabel83.setFont(defaultFont1);
        jLabel83.setText("Code");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(10, 11, 0, 0);
        jPanelData1.add(jLabel83, gridBagConstraints);

        jLabel84.setFont(defaultFont1);
        jLabel84.setText("SchoolName");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(4, 11, 0, 0);
        jPanelData1.add(jLabel84, gridBagConstraints);

        jTextFieldSchoolName.setFont(defaultFont1);
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.gridwidth = 2;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(4, 22, 0, 11);
        jPanelData1.add(jTextFieldSchoolName, gridBagConstraints);

        jComboBoxSchoolMaxClass.setFont(defaultFont1);
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 4;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.insets = new java.awt.Insets(4, 5, 0, 11);
        jPanelData1.add(jComboBoxSchoolMaxClass, gridBagConstraints);

        jComboBoxSchoolDepend.setFont(defaultFont1);
        jComboBoxSchoolDepend.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jComboBoxSchoolDependActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 6;
        gridBagConstraints.gridwidth = 2;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.insets = new java.awt.Insets(4, 22, 0, 11);
        jPanelData1.add(jComboBoxSchoolDepend, gridBagConstraints);

        jLabel77.setFont(defaultFont1);
        jLabel77.setText("SchoolMaxClass");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 4;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(4, 11, 0, 0);
        jPanelData1.add(jLabel77, gridBagConstraints);

        jLabel78.setFont(defaultFont1);
        jLabel78.setText("Owner");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 5;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(4, 11, 0, 0);
        jPanelData1.add(jLabel78, gridBagConstraints);

        integerTextFieldAmountOfStudentMSchool.setColumns(4);
        integerTextFieldAmountOfStudentMSchool.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        integerTextFieldAmountOfStudentMSchool.setFont(defaultFont1);
        integerTextFieldAmountOfStudentMSchool.setMinimumSize(new java.awt.Dimension(48, 19));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 8;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.insets = new java.awt.Insets(4, 5, 0, 11);
        jPanelData1.add(integerTextFieldAmountOfStudentMSchool, gridBagConstraints);

        jLabel88.setFont(defaultFont1);
        jLabel88.setText("AmountOfStudentM");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 8;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(4, 11, 0, 0);
        jPanelData1.add(jLabel88, gridBagConstraints);

        jLabel89.setFont(defaultFont1);
        jLabel89.setText("AmountOfStudentFM");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 9;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(4, 11, 0, 0);
        jPanelData1.add(jLabel89, gridBagConstraints);

        integerTextFieldAmountOfStudentFMSchool.setColumns(4);
        integerTextFieldAmountOfStudentFMSchool.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        integerTextFieldAmountOfStudentFMSchool.setFont(defaultFont1);
        integerTextFieldAmountOfStudentFMSchool.setMinimumSize(new java.awt.Dimension(48, 19));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 9;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.insets = new java.awt.Insets(4, 5, 0, 11);
        jPanelData1.add(integerTextFieldAmountOfStudentFMSchool, gridBagConstraints);

        jLabel90.setFont(defaultFont1);
        jLabel90.setText("AmonutOfTeacherM");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 10;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(4, 11, 0, 0);
        jPanelData1.add(jLabel90, gridBagConstraints);

        integerTextFieldAmonutOfTeacherMSchool.setColumns(4);
        integerTextFieldAmonutOfTeacherMSchool.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        integerTextFieldAmonutOfTeacherMSchool.setFont(defaultFont1);
        integerTextFieldAmonutOfTeacherMSchool.setMinimumSize(new java.awt.Dimension(48, 19));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 10;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.insets = new java.awt.Insets(4, 5, 0, 11);
        jPanelData1.add(integerTextFieldAmonutOfTeacherMSchool, gridBagConstraints);

        jLabel91.setFont(defaultFont1);
        jLabel91.setText("AmonutOfTeacherFM");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 11;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTH;
        gridBagConstraints.insets = new java.awt.Insets(4, 11, 0, 0);
        jPanelData1.add(jLabel91, gridBagConstraints);

        integerTextFieldAmonutOfTeacherFMSchool.setColumns(4);
        integerTextFieldAmonutOfTeacherFMSchool.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        integerTextFieldAmonutOfTeacherFMSchool.setFont(defaultFont1);
        integerTextFieldAmonutOfTeacherFMSchool.setMinimumSize(new java.awt.Dimension(48, 19));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 11;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(4, 5, 0, 11);
        jPanelData1.add(integerTextFieldAmonutOfTeacherFMSchool, gridBagConstraints);

        jTextFieldSchoolCode.setColumns(4);
        jTextFieldSchoolCode.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        jTextFieldSchoolCode.setFont(defaultFont1);
        jTextFieldSchoolCode.setMinimumSize(new java.awt.Dimension(48, 19));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.insets = new java.awt.Insets(10, 5, 0, 11);
        jPanelData1.add(jTextFieldSchoolCode, gridBagConstraints);

        jTextFieldOwnerOther.setFont(defaultFont1);
        jTextFieldOwnerOther.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                jTextFieldOwnerOtherFocusLost(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 7;
        gridBagConstraints.gridwidth = 2;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.insets = new java.awt.Insets(4, 22, 0, 11);
        jPanelData1.add(jTextFieldOwnerOther, gridBagConstraints);

        jPanel1.setLayout(new java.awt.GridBagLayout());

        jLabel79.setFont(defaultFont1);
        jLabel79.setText("VillageName");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 3;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(4, 0, 0, 0);
        jPanel1.add(jLabel79, gridBagConstraints);

        jComboBoxVillageSchool.setFont(defaultFont1);
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 3;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(4, 5, 0, 0);
        jPanel1.add(jComboBoxVillageSchool, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 3;
        gridBagConstraints.gridwidth = 2;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(4, 11, 0, 11);
        jPanelData1.add(jPanel1, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.fill = java.awt.GridBagConstraints.VERTICAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTH;
        gridBagConstraints.insets = new java.awt.Insets(12, 5, 0, 0);
        add(jPanelData1, gridBagConstraints);

        jPanelData2.setBorder(javax.swing.BorderFactory.createTitledBorder(""));
        jPanelData2.setLayout(new java.awt.GridBagLayout());

        jLabel87.setFont(defaultFont1);
        jLabel87.setText("PeriodOfTime");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 6;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(5, 11, 0, 0);
        jPanelData2.add(jLabel87, gridBagConstraints);

        jPanel27.setLayout(new java.awt.GridBagLayout());

        jLabel82.setFont(defaultFont1);
        jLabel82.setText("Month");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(0, 5, 0, 0);
        jPanel27.add(jLabel82, gridBagConstraints);

        jTextFieldPeriodOfTime.setColumns(4);
        jTextFieldPeriodOfTime.setFont(defaultFont1);
        jTextFieldPeriodOfTime.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        jTextFieldPeriodOfTime.setMinimumSize(new java.awt.Dimension(48, 19));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        jPanel27.add(jTextFieldPeriodOfTime, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 7;
        gridBagConstraints.gridwidth = 2;
        gridBagConstraints.insets = new java.awt.Insets(5, 5, 0, 11);
        jPanelData2.add(jPanel27, gridBagConstraints);

        jCheckBoxCloseSchool.setFont(defaultFont1);
        jCheckBoxCloseSchool.setText("CloseActivity");
        jCheckBoxCloseSchool.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseReleased(java.awt.event.MouseEvent evt) {
                jCheckBoxCloseSchoolMouseReleased(evt);
            }
        });
        jCheckBoxCloseSchool.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jCheckBoxCloseSchoolActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 8;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.insets = new java.awt.Insets(5, 5, 0, 11);
        jPanelData2.add(jCheckBoxCloseSchool, gridBagConstraints);

        jLabel92.setFont(defaultFont1);
        jLabel92.setText("DateCloseActivity");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 9;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(5, 11, 0, 0);
        jPanelData2.add(jLabel92, gridBagConstraints);

        dateComboBoxCloseActivitySchool.setFont(defaultFont1);
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 9;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.insets = new java.awt.Insets(5, 5, 0, 11);
        jPanelData2.add(dateComboBoxCloseActivitySchool, gridBagConstraints);

        jLabel10.setFont(defaultFont1);
        jLabel10.setText("CauseOfClose");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 10;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.insets = new java.awt.Insets(5, 11, 10, 0);
        jPanelData2.add(jLabel10, gridBagConstraints);

        jTextAreaCauseCloseSchool.setFont(defaultFont1);
        jTextAreaCauseCloseSchool.setLineWrap(true);
        jTextAreaCauseCloseSchool.setWrapStyleWord(true);
        jTextAreaCauseCloseSchool.setBorder(javax.swing.BorderFactory.createEtchedBorder());
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 10;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(5, 5, 10, 11);
        jPanelData2.add(jTextAreaCauseCloseSchool, gridBagConstraints);

        jLabel85.setFont(defaultFont1);
        jLabel85.setText("TimeOfPass");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 4;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(5, 11, 0, 0);
        jPanelData2.add(jLabel85, gridBagConstraints);

        jLabel86.setFont(defaultFont1);
        jLabel86.setText("DateOfPass");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 5;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(5, 11, 0, 0);
        jPanelData2.add(jLabel86, gridBagConstraints);

        integerTextFieldTimeOfPassSchool.setColumns(4);
        integerTextFieldTimeOfPassSchool.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        integerTextFieldTimeOfPassSchool.setFont(defaultFont1);
        integerTextFieldTimeOfPassSchool.setMinimumSize(new java.awt.Dimension(48, 19));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 4;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.insets = new java.awt.Insets(5, 5, 0, 11);
        jPanelData2.add(integerTextFieldTimeOfPassSchool, gridBagConstraints);

        dateComboBoxDateOfPassSchool.setFont(defaultFont1);
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 5;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.insets = new java.awt.Insets(5, 5, 0, 11);
        jPanelData2.add(dateComboBoxDateOfPassSchool, gridBagConstraints);

        jLabel81.setFont(defaultFont1);
        jLabel81.setText("CommunityStandard");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.gridwidth = 2;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.insets = new java.awt.Insets(5, 11, 0, 0);
        jPanelData2.add(jLabel81, gridBagConstraints);

        jComboBoxStandardSchool.setFont(defaultFont1);
        jComboBoxStandardSchool.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jComboBoxStandardSchoolActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 3;
        gridBagConstraints.gridwidth = 2;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.insets = new java.awt.Insets(3, 22, 0, 11);
        jPanelData2.add(jComboBoxStandardSchool, gridBagConstraints);

        jLabel80.setFont(defaultFont1);
        jLabel80.setText("CommunityStandardType");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.gridwidth = 2;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(10, 11, 0, 0);
        jPanelData2.add(jLabel80, gridBagConstraints);

        jPanel29.setLayout(new java.awt.GridBagLayout());

        jTextFieldStandardTypeOther.setFont(defaultFont1);
        jTextFieldStandardTypeOther.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                jTextFieldStandardTypeOtherFocusLost(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.insets = new java.awt.Insets(5, 0, 0, 0);
        jPanel29.add(jTextFieldStandardTypeOther, gridBagConstraints);

        jComboBoxStandardTypeSchool.setFont(defaultFont1);
        jComboBoxStandardTypeSchool.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jComboBoxStandardTypeSchoolActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.weightx = 1.0;
        jPanel29.add(jComboBoxStandardTypeSchool, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.gridwidth = 2;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.insets = new java.awt.Insets(3, 22, 0, 11);
        jPanelData2.add(jPanel29, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.fill = java.awt.GridBagConstraints.VERTICAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTH;
        gridBagConstraints.insets = new java.awt.Insets(12, 5, 0, 5);
        add(jPanelData2, gridBagConstraints);
    }// </editor-fold>//GEN-END:initComponents

    private void jCheckBoxSaveHistoryActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jCheckBoxSaveHistoryActionPerformed
// TODO add your handling code here:
    }//GEN-LAST:event_jCheckBoxSaveHistoryActionPerformed

    private void jCheckBoxSearchMooActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jCheckBoxSearchMooActionPerformed
        this.jComboBoxSearchVillageSchool.setEnabled(jCheckBoxSearchMoo.isSelected());
    }//GEN-LAST:event_jCheckBoxSearchMooActionPerformed

    private void jTableSchoolKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jTableSchoolKeyReleased
        selectSchool(-2);
    }//GEN-LAST:event_jTableSchoolKeyReleased

    private void jComboBoxStandardSchoolActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jComboBoxStandardSchoolActionPerformed
        boolean have_gain = jComboBoxStandardSchool.getSelectedIndex()!=0;
        integerTextFieldTimeOfPassSchool.setEnabled(have_gain);
        dateComboBoxDateOfPassSchool.setEnabled(have_gain);
        jTextFieldPeriodOfTime.setEnabled(have_gain);
    }//GEN-LAST:event_jComboBoxStandardSchoolActionPerformed

    private void jCheckBoxCloseSchoolActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jCheckBoxCloseSchoolActionPerformed
        dateComboBoxCloseActivitySchool.setEnabled(jCheckBoxCloseSchool.isSelected());
        jTextAreaCauseCloseSchool.setEnabled(jCheckBoxCloseSchool.isSelected());
    }//GEN-LAST:event_jCheckBoxCloseSchoolActionPerformed

    private void jComboBoxSearchVillageSchoolFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_jComboBoxSearchVillageSchoolFocusGained
// TODO add your handling code here:
//        ComboboxModel.initComboBox(this.jComboBoxSearchVillageSchool,theAllComboBoxControl.listVillage2()); 
//        System.err.println("focus");
    }//GEN-LAST:event_jComboBoxSearchVillageSchoolFocusGained
    
    private void jTableHistorySchoolMouseReleased(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jTableHistorySchoolMouseReleased
        selectSchoolHistory();
    }//GEN-LAST:event_jTableHistorySchoolMouseReleased
    
    private void jTableSchoolMouseReleased(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jTableSchoolMouseReleased
        selectSchool(-2);
    }//GEN-LAST:event_jTableSchoolMouseReleased
    
    private void jComboBoxSearchVillageSchoolActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jComboBoxSearchVillageSchoolActionPerformed
        searchSchool();
    }//GEN-LAST:event_jComboBoxSearchVillageSchoolActionPerformed
    
    private void jButtonSearchSchoolActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonSearchSchoolActionPerformed
        searchSchool();
    }//GEN-LAST:event_jButtonSearchSchoolActionPerformed
    
    private void jTextFieldSearchSchoolActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTextFieldSearchSchoolActionPerformed
        searchSchool();
    }//GEN-LAST:event_jTextFieldSearchSchoolActionPerformed
    
    private void jCheckBoxCloseSchoolMouseReleased(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jCheckBoxCloseSchoolMouseReleased

    }//GEN-LAST:event_jCheckBoxCloseSchoolMouseReleased
    
    private void jTextFieldStandardTypeOtherFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_jTextFieldStandardTypeOtherFocusLost
        standardTypeOther = jTextFieldStandardTypeOther.getText();
    }//GEN-LAST:event_jTextFieldStandardTypeOtherFocusLost
    
    private void jTextFieldOwnerOtherFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_jTextFieldOwnerOtherFocusLost
        ownerOther = jTextFieldOwnerOther.getText();
    }//GEN-LAST:event_jTextFieldOwnerOtherFocusLost
    
    private void jComboBoxSchoolDependActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jComboBoxSchoolDependActionPerformed
        /*06 = เอกชน/ชุมชน ระบุชื่อเจ้าของ, 30 = อื่นๆ ระบุ*/
        if(ComboboxModel.getCodeComboBox(jComboBoxSchoolDepend).equals("06") || ComboboxModel.getCodeComboBox(jComboBoxSchoolDepend).equals("30")) {
            jTextFieldOwnerOther.setEnabled(true);
            jTextFieldOwnerOther.setEnabled(true);
            jTextFieldOwnerOther.setText(ownerOther);
            ownerOther = null;
        } else {
            jTextFieldOwnerOther.setEnabled(false);
            jTextFieldOwnerOther.setText("");
        }
    }//GEN-LAST:event_jComboBoxSchoolDependActionPerformed
    
    private void jComboBoxStandardTypeSchoolActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jComboBoxStandardTypeSchoolActionPerformed
        /*90 = อื่นๆ ระบุ*/
        if(ComboboxModel.getCodeComboBox(jComboBoxStandardTypeSchool).equals("90")) {
            jTextFieldStandardTypeOther.setEnabled(true);
            jTextFieldStandardTypeOther.setEnabled(true);
            jTextFieldStandardTypeOther.setText(standardTypeOther);
            standardTypeOther = null;
        } else {
            jTextFieldStandardTypeOther.setEnabled(false);
            jTextFieldStandardTypeOther.setText("");
        }
    }//GEN-LAST:event_jComboBoxStandardTypeSchoolActionPerformed
        
    private void jButtonSaveSchoolActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonSaveSchoolActionPerformed
        saveSchool();
    }//GEN-LAST:event_jButtonSaveSchoolActionPerformed
    
    private void jButtonDeleteSchoolActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonDeleteSchoolActionPerformed
        deleteSchool();
    }//GEN-LAST:event_jButtonDeleteSchoolActionPerformed
    
    private void jButtonAddSchoolActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonAddSchoolActionPerformed
        addSchool();
    }//GEN-LAST:event_jButtonAddSchoolActionPerformed

    protected void setEnableGuiSchool(boolean flag) {
        jTextFieldSchoolCode.setEnabled(flag);
        jTextFieldSchoolName.setEnabled(flag);
        jComboBoxSchoolMaxClass.setEnabled(flag);
        jComboBoxSchoolDepend.setEnabled(flag);
        jComboBoxVillageSchool.setEnabled(flag);
        jButtonDeleteSchool.setEnabled(flag);
        jButtonSaveSchool.setEnabled(flag);
        jCheckBoxCloseSchool.setEnabled(flag);
        jComboBoxStandardTypeSchool.setEnabled(flag);
        jComboBoxStandardSchool.setEnabled(flag);
        integerTextFieldTimeOfPassSchool.setEnabled(flag);
        dateComboBoxDateOfPassSchool.setEnabled(flag);
        jTextFieldPeriodOfTime.setEnabled(flag);
        integerTextFieldAmountOfStudentMSchool.setEnabled(flag);
        integerTextFieldAmountOfStudentFMSchool.setEnabled(flag);
        integerTextFieldAmonutOfTeacherMSchool.setEnabled(flag);
        integerTextFieldAmonutOfTeacherFMSchool.setEnabled(flag);
    }
    
    protected void addSchool() {
        setSchool(null);
        setSchoolHistoryV(null);
        ownerOther = "";
        standardTypeOther = "";
        setEnableGuiSchool(true);
        /*ยกเว้นปุ่มลบและปุ่มบวก*/
        jButtonDeleteSchool.setEnabled(false);
        jTableSchool.clearSelection();
    }
    
    public void setSchoolHistoryV(Vector v) {
        /***SetTable***/
        vSchoolHistory = v;
        if(vSchoolHistory==null)
            vSchoolHistory = new Vector();
        
        String[] col = {GutilPCU.getTextBundle("DateRecord")};
        TaBleModel tm = new TaBleModel(col,0);
        
        int size = vSchoolHistory.size();
        tm = new TaBleModel(col,size);
        for(int i=0; i<size; i++) {
            SchoolHistory  schoolHistoryTemp = (SchoolHistory)vSchoolHistory.get(i);
            if(!("").equals(schoolHistoryTemp.school_history_record_date_time))
                tm.setValueAt(GutilPCU.changDateToString(schoolHistoryTemp.school_history_record_date_time,true),i,0);
            else
                tm.setValueAt(GutilPCU.changDateToString(theSchool.school_modify_date_time,true),i,0);
        }
        jTableHistorySchool.setModel(tm);
        jTableHistorySchool.getColumnModel().getColumn(0).setPreferredWidth(150);      /*วันที่บันทึก*/
    }
    /**
     *henbe pattern
     **/
    protected void saveSchool() {
        
        boolean ret = theVillageControl.saveSchoolAndHistory(getSchool()
            ,getSchoolHistory(),theUS,jCheckBoxSaveHistory.isSelected());
        if(!ret)
            return;

        int row = this.jTableSchool.getSelectedRow();
        this.searchSchool();
        if(row==-1)
            row = jTableSchool.getRowCount()-1;
        jTableSchool.setRowSelectionInterval(row,row);
        this.jTableSchoolMouseReleased(null);
            
    }
    public School getSchool()
    {
        if(theSchool==null)
                theSchool = new School();
            theSchool.school_number = jTextFieldSchoolCode.getText();
            theSchool.school_name = jTextFieldSchoolName.getText();
            if(jCheckBoxCloseSchool.isSelected()) {
                theSchool.school_close = "1";
                theSchool.school_close_date_time = dateComboBoxCloseActivitySchool.getText();
                theSchool.school_close_note = jTextAreaCauseCloseSchool.getText();
            } else {
                theSchool.school_close = "0";
                theSchool.school_close_date_time = "";
                theSchool.school_close_note = "";
            }
            theSchool.school_active = "1";
            theSchool.village_id = Gutil.getGuiData(jComboBoxVillageSchool);
            return theSchool;
    }
    public SchoolHistory getSchoolHistory(){
            /*SchoolHistory*/
        if(theSchoolHistory==null)
            theSchoolHistory = new SchoolHistory();
        
        theSchoolHistory.school_history_max_class = Gutil.getGuiData(jComboBoxSchoolMaxClass);
        theSchoolHistory.school_history_owner = Gutil.getGuiData(jComboBoxSchoolDepend);
        theSchoolHistory.school_history_owner_other = jTextFieldOwnerOther.getText();
        theSchoolHistory.school_history_standard_type = Gutil.getGuiData(jComboBoxStandardTypeSchool);
        theSchoolHistory.school_history_standard_type_other = jTextFieldStandardTypeOther.getText();
        theSchoolHistory.school_history_standard = Gutil.getGuiData(jComboBoxStandardSchool);
        theSchoolHistory.school_history_time_of_pass = integerTextFieldTimeOfPassSchool.getText();
        theSchoolHistory.school_history_date_of_pass = dateComboBoxDateOfPassSchool.getText();
        theSchoolHistory.school_history_period_of_pass = jTextFieldPeriodOfTime.getText();
        theSchoolHistory.school_history_amount_student_m = integerTextFieldAmountOfStudentMSchool.getText();
        theSchoolHistory.school_history_amount_student_fm = integerTextFieldAmountOfStudentFMSchool.getText();
        theSchoolHistory.school_history_amount_teacher_m = integerTextFieldAmonutOfTeacherMSchool.getText();
        theSchoolHistory.school_history_amount_teacher_fm = integerTextFieldAmonutOfTeacherFMSchool.getText();
        return theSchoolHistory;
    }
    
    protected void searchSchool() {
        search("");
    }
    protected void search(String village_id)
    {   
        if(village_id!=null && !village_id.equals(""))
        {
            Gutil.setGuiData(jComboBoxSearchVillageSchool,village_id);
            Gutil.setGuiData(jComboBoxVillageSchool,village_id);
        }
        /***ค้นหาโรงเรียน***/
        String village = "0";
        if(this.jCheckBoxSearchMoo.isSelected())
            village = Gutil.getGuiData(jComboBoxSearchVillageSchool);
        Vector vSchool =  theVillageControl.listSchoolByNameOrNumber(
                 jTextFieldSearchSchool.getText()
                ,village);
        setSchoolV(vSchool);
        setSchoolHistoryV(null);
        setEnableGuiSchool(false);
    }
    
    protected void setSchoolV(Vector v) {
        /***SetTable***/
        vSchool = v;
        String[] col = {GutilPCU.getTextBundle("Code"),
        GutilPCU.getTextBundle("SchoolName"),
        GutilPCU.getTextBundle("VillageName")};
        
        TaBleModel tm ;
        if(vSchool != null) {
            tm = new TaBleModel(col,vSchool.size());
            for(int i=0, size=vSchool.size(); i<size; i++) {
                School schoolTemp = (School)vSchool.get(i);
                tm.setValueAt(schoolTemp.school_number,i,0);
                tm.setValueAt(schoolTemp.school_name,i,1);
                tm.setValueAt(ComboboxModel.getDescriptionComboBox(jComboBoxVillageSchool,schoolTemp.village_id),i,2);
            }
        } else {
            tm= new TaBleModel(col,0);
        }
        jTableSchool.setModel(tm);
        
        /***SetTableDefault***/
        jTableSchool.getColumnModel().getColumn(0).setPreferredWidth(100);     /*รหัสโรงเรียน*/
        jTableSchool.getColumnModel().getColumn(0).setCellRenderer(ColumnTableRenderer.getRendererCenter());
        jTableSchool.getColumnModel().getColumn(1).setPreferredWidth(250);     /*ชื่อโรงเรียน*/
        jTableSchool.getColumnModel().getColumn(2).setPreferredWidth(200);     /*ชื่อหมู่บ้าน*/
    }
    
    protected void selectSchool(int row) {
        if(row==-2) {
            rowSchool = jTableSchool.getSelectedRow();
        } else {
            rowSchool = row;
        }
        setSchool((School)vSchool.get(rowSchool));
        setSchoolHistoryV(theVillageControl.listSchoolHistoryBySchoolIdDesc(theSchool.getObjectId()));
        if(!this.vSchoolHistory.isEmpty())
            setSchoolHistory((SchoolHistory)vSchoolHistory.get(0));
        setEnableGuiSchool(true);
    }
    public void setSchool(School sc){
        /***School***/
        theSchool = sc;
        if(theSchool==null){
            jTextFieldSchoolCode.setText("");
            jTextFieldSchoolName.setText("");
            jCheckBoxCloseSchool.setSelected(false);
            integerTextFieldTimeOfPassSchool.setText("");
            dateComboBoxDateOfPassSchool.initCurrentDate();
            jTextFieldPeriodOfTime.setText("");
            integerTextFieldAmountOfStudentMSchool.setText("");
            integerTextFieldAmountOfStudentFMSchool.setText("");
            integerTextFieldAmonutOfTeacherMSchool.setText("");
            integerTextFieldAmonutOfTeacherFMSchool.setText("");
            jTextFieldOwnerOther.setText("");
            jTextFieldStandardTypeOther.setText("");
            Gutil.setGuiData(jComboBoxVillageSchool,Gutil.getGuiData(jComboBoxSearchVillageSchool));            
            return;
        }
        jTextFieldSchoolCode.setText(theSchool.school_number);
        jTextFieldSchoolName.setText(theSchool.school_name);
        if(theSchool.school_close.equals("1")) {
            jCheckBoxCloseSchool.setSelected(true);
            dateComboBoxCloseActivitySchool.setText(Gutil.convertFieldDate(theSchool.school_close_date_time));
            jTextAreaCauseCloseSchool.setText(theSchool.school_close_note);
            dateComboBoxCloseActivitySchool.setEnabled(true);
            jTextAreaCauseCloseSchool.setEnabled(true);
        } else {
            jCheckBoxCloseSchool.setSelected(false);
        }
        ComboboxModel.setCodeComboBox(jComboBoxVillageSchool,theSchool.village_id);
    }
    public void setSchoolHistory(SchoolHistory sh){
        theSchoolHistory = sh;
        ComboboxModel.setCodeComboBox(jComboBoxSchoolMaxClass,theSchoolHistory.school_history_max_class);
        ComboboxModel.setCodeComboBox(jComboBoxSchoolDepend,theSchoolHistory.school_history_owner);
        if(theSchoolHistory.school_history_owner.equals("06") || theSchoolHistory.school_history_owner.equals("30")) {
            jTextFieldOwnerOther.setEnabled(true);
            jTextFieldOwnerOther.setText(theSchoolHistory.school_history_owner_other);
        } else {
            jTextFieldOwnerOther.setEnabled(false);
        }
        ComboboxModel.setCodeComboBox(jComboBoxStandardTypeSchool,theSchoolHistory.school_history_standard_type);
        
        if(theSchoolHistory.school_history_standard_type.equals("90")) {
            jTextFieldStandardTypeOther.setEnabled(true);
            jTextFieldStandardTypeOther.setText(theSchoolHistory.school_history_standard_type_other);
        } else {
            jTextFieldStandardTypeOther.setEnabled(false);
        }
        ComboboxModel.setCodeComboBox(jComboBoxStandardSchool,theSchoolHistory.school_history_standard);
        jComboBoxStandardSchoolActionPerformed(null);
        integerTextFieldTimeOfPassSchool.setText(theSchoolHistory.school_history_time_of_pass);
        dateComboBoxDateOfPassSchool.setText(Gutil.convertFieldDate(theSchoolHistory.school_history_date_of_pass));
        jTextFieldPeriodOfTime.setText(theSchoolHistory.school_history_period_of_pass);
        integerTextFieldAmountOfStudentMSchool.setText(theSchoolHistory.school_history_amount_student_m);
        integerTextFieldAmountOfStudentFMSchool.setText(theSchoolHistory.school_history_amount_student_fm);
        integerTextFieldAmonutOfTeacherMSchool.setText(theSchoolHistory.school_history_amount_teacher_m);
        integerTextFieldAmonutOfTeacherFMSchool.setText(theSchoolHistory.school_history_amount_teacher_fm);
        
    }
    
    protected void selectSchoolHistory() {
        setSchoolHistory((SchoolHistory)vSchoolHistory.get(jTableHistorySchool.getSelectedRow()));
        setEnableGuiSchool(false);
        dateComboBoxCloseActivitySchool.setEnabled(false);
        jTextAreaCauseCloseSchool.setEnabled(false);
        jTextFieldOwnerOther.setEnabled(false);
        jTextFieldStandardTypeOther.setEnabled(false);
    }
    
    
    
    
    protected void deleteSchool() {


        boolean ret = theVillageControl.deleteSchool(theSchool,theUS);
        if(!ret)
            return;
        
        this.searchSchool();
    }

    public void setObject(PCUObject pcuobject)
    {  
        employeeId = pcuobject.getEmployee().getObjectId();
    }
    void setDefaultHospital() {
    }
        
    private void setLanguage()
    {  
        /*jLabel*/          
        jLabel77.setText(GutilPCU.getTextBundle(jLabel77.getText()));  
        jLabel78.setText(GutilPCU.getTextBundle(jLabel78.getText()));
        jLabel79.setText(GutilPCU.getTextBundle(jLabel79.getText()));
        jLabel80.setText(GutilPCU.getTextBundle(jLabel80.getText()));   
        jLabel81.setText(GutilPCU.getTextBundle(jLabel81.getText()));
        jLabel82.setText(GutilPCU.getTextBundle(jLabel82.getText()));
        jLabel83.setText(GutilPCU.getTextBundle(jLabel83.getText()));
        jLabel84.setText(GutilPCU.getTextBundle(jLabel84.getText()));
        jLabel85.setText(GutilPCU.getTextBundle(jLabel85.getText()));
        jLabel86.setText(GutilPCU.getTextBundle(jLabel86.getText()));
        jLabel87.setText(GutilPCU.getTextBundle(jLabel87.getText()));
        jLabel88.setText(GutilPCU.getTextBundle(jLabel88.getText()));
        jLabel89.setText(GutilPCU.getTextBundle(jLabel89.getText()));
        jLabel90.setText(GutilPCU.getTextBundle(jLabel90.getText()));
        jLabel91.setText(GutilPCU.getTextBundle(jLabel91.getText()));
        jLabel92.setText(GutilPCU.getTextBundle(jLabel92.getText()));
        jLabel10.setText(GutilPCU.getTextBundle(jLabel10.getText()));
        jButtonSearchSchool.setText(GutilPCU.getTextBundle(jButtonSearchSchool.getText()));  
        jButtonAddSchool.setText(GutilPCU.getTextBundle(jButtonAddSchool.getText()));        
        jButtonDeleteSchool.setText(GutilPCU.getTextBundle(jButtonDeleteSchool.getText()));
        jButtonSaveSchool.setText(GutilPCU.getTextBundle(jButtonSaveSchool.getText()));
        GutilPCU.JPanelLabler(jPanelSearchSchool);   
        /*CheckBox*/
        jCheckBoxCloseSchool.setText(GutilPCU.getTextBundle(jCheckBoxCloseSchool.getText()));
        jCheckBoxSaveHistory.setText(GutilPCU.getTextBundle(jCheckBoxSaveHistory.getText()));
    }
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private com.pcu.utility.DateComboBox dateComboBoxCloseActivitySchool;
    private com.pcu.utility.DateComboBox dateComboBoxDateOfPassSchool;
    private com.hospital_os.gui.font.DefaultFont defaultFont1;
    private com.pcu.utility.IntegerTextField integerTextFieldAmonutOfTeacherFMSchool;
    private com.pcu.utility.IntegerTextField integerTextFieldAmonutOfTeacherMSchool;
    private com.pcu.utility.IntegerTextField integerTextFieldAmountOfStudentFMSchool;
    private com.pcu.utility.IntegerTextField integerTextFieldAmountOfStudentMSchool;
    private com.pcu.utility.IntegerTextField integerTextFieldTimeOfPassSchool;
    private javax.swing.JButton jButtonAddSchool;
    private javax.swing.JButton jButtonDeleteSchool;
    private javax.swing.JButton jButtonSaveSchool;
    private javax.swing.JButton jButtonSearchSchool;
    private javax.swing.JCheckBox jCheckBoxCloseSchool;
    private javax.swing.JCheckBox jCheckBoxSaveHistory;
    private javax.swing.JCheckBox jCheckBoxSearchMoo;
    private javax.swing.JComboBox jComboBoxSchoolDepend;
    private javax.swing.JComboBox jComboBoxSchoolMaxClass;
    private javax.swing.JComboBox jComboBoxSearchVillageSchool;
    private javax.swing.JComboBox jComboBoxStandardSchool;
    private javax.swing.JComboBox jComboBoxStandardTypeSchool;
    private javax.swing.JComboBox jComboBoxVillageSchool;
    private javax.swing.JLabel jLabel10;
    private javax.swing.JLabel jLabel77;
    private javax.swing.JLabel jLabel78;
    private javax.swing.JLabel jLabel79;
    private javax.swing.JLabel jLabel80;
    private javax.swing.JLabel jLabel81;
    private javax.swing.JLabel jLabel82;
    private javax.swing.JLabel jLabel83;
    private javax.swing.JLabel jLabel84;
    private javax.swing.JLabel jLabel85;
    private javax.swing.JLabel jLabel86;
    private javax.swing.JLabel jLabel87;
    private javax.swing.JLabel jLabel88;
    private javax.swing.JLabel jLabel89;
    private javax.swing.JLabel jLabel90;
    private javax.swing.JLabel jLabel91;
    private javax.swing.JLabel jLabel92;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel27;
    private javax.swing.JPanel jPanel29;
    private javax.swing.JPanel jPanel71;
    private javax.swing.JPanel jPanel9;
    private javax.swing.JPanel jPanelData1;
    private javax.swing.JPanel jPanelData2;
    private javax.swing.JPanel jPanelSearchSchool;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JScrollPane jScrollPane8;
    private javax.swing.JTable jTableHistorySchool;
    private javax.swing.JTable jTableSchool;
    private javax.swing.JTextArea jTextAreaCauseCloseSchool;
    private javax.swing.JTextField jTextFieldOwnerOther;
    private javax.swing.JTextField jTextFieldPeriodOfTime;
    private com.pcu.utility.IntegerTextField jTextFieldSchoolCode;
    private javax.swing.JTextField jTextFieldSchoolName;
    private javax.swing.JTextField jTextFieldSearchSchool;
    private javax.swing.JTextField jTextFieldStandardTypeOther;
    // End of variables declaration//GEN-END:variables
    
    protected String standardTypeOther;
    
    protected String ownerOther;
    
    protected JLabel jPaneData2;
    
    protected School theSchool;
    
    protected SchoolHistory theSchoolHistory;
    
    protected Vector vSchoolHistory;
    
    protected int rowSchool;
    
    protected String employeeId;
    protected Vector vSchool;

    protected AllComboBoxControl theAllComboBoxControl;

    protected VillageControl theVillageControl;

    protected ComboFix cfv;

    private UpdateStatus theUS;
    
}
